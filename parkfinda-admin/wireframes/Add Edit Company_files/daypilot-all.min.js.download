/*
DayPilot Pro
Copyright (c) 2005 - 2016 Annpoint s.r.o.
http://www.daypilot.org/
Use of this software is subject to license terms.
Version: 2200
*/
if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
(function() {
    if (typeof DayPilot.$ !== 'undefined') {
        return;
    };
    DayPilot.$ = function(id) {
        return document.getElementById(id);
    };
    DayPilot.isKhtml = (navigator && navigator.userAgent && navigator.userAgent.indexOf("KHTML") !== -1);
    DayPilot.isIE = (navigator && navigator.userAgent && (navigator.userAgent.indexOf("MSIE") !== -1 || navigator.userAgent.indexOf("Trident") !== -1));
    DayPilot.isIEQuirks = DayPilot.isIE && (document.compatMode && document.compatMode === "BackCompat");
    DayPilot.browser = {};
    DayPilot.browser.ie8 = (function() {
        var $a = document.createElement("div");
        $a.innerHTML = "<!--[if IE 8]><i></i><![endif]-->";
        var $b = ($a.getElementsByTagName("i").length === 1);
        return $b;
    })();
    DayPilot.browser.ie9 = (function() {
        var $a = document.createElement("div");
        $a.innerHTML = "<!--[if IE 9]><i></i><![endif]-->";
        var $b = ($a.getElementsByTagName("i").length === 1);
        return $b;
    })();
    DayPilot.browser.ielt9 = (function() {
        var $a = document.createElement("div");
        $a.innerHTML = "<!--[if lt IE 9]><i></i><![endif]-->";
        var $b = ($a.getElementsByTagName("i").length === 1);
        return $b;
    })();
    DayPilot.browser.ff = (navigator && navigator.userAgent && navigator.userAgent.indexOf("Firefox") !== -1);
    DayPilot.browser.chrome = (navigator && navigator.userAgent && navigator.userAgent.indexOf("Chrome") !== -1);
    DayPilot.browser.ie = DayPilot.isIE;
    DayPilot.libs = {};
    DayPilot.libs.angularjs = typeof $c === "object";
    DayPilot.touch = {};
    DayPilot.touch.start = window.navigator.msPointerEnabled ? "MSPointerDown" : "touchstart";
    DayPilot.touch.move = window.navigator.msPointerEnabled ? "MSPointerMove" : "touchmove";
    DayPilot.touch.end = window.navigator.msPointerEnabled ? "MSPointerUp" : "touchend";
    DayPilot.mo2 = function($d, ev) {
        ev = ev || window.event;
        if (typeof(ev.offsetX) !== 'undefined') {
            var $e = {
                x: ev.offsetX + 1,
                y: ev.offsetY + 1
            };
            if (!$d) {
                return $e;
            };
            var $f = ev.srcElement;
            while ($f && $f !== $d) {
                if ($f.tagName !== 'SPAN') {
                    $e.x += $f.offsetLeft;
                    if ($f.offsetTop > 0) {
                        $e.y += $f.offsetTop - $f.scrollTop;
                    }
                };
                $f = $f.offsetParent;
            };
            if ($f) {
                return $e;
            };
            return null;
        };
        if (typeof(ev.layerX) !== 'undefined') {
            var $e = {
                x: ev.layerX,
                y: ev.layerY,
                $g: ev.target
            };
            if (!$d) {
                return $e;
            };
            var $f = ev.target;
            while ($f && $f.style.position !== 'absolute' && $f.style.position !== 'relative') {
                $f = $f.parentNode;
                if (DayPilot.isKhtml) {
                    $e.y += $f.scrollTop;
                }
            }
            while ($f && $f !== $d) {
                $e.x += $f.offsetLeft;
                $e.y += $f.offsetTop - $f.scrollTop;
                $f = $f.offsetParent;
            };
            if ($f) {
                return $e;
            };
            return null;
        };
        return null;
    };
    DayPilot.mo3 = function($d, ev) {
        ev = ev || window.event;
        var $h = DayPilot.page(ev);
        if ($h) {
            var $i = DayPilot.abs($d);
            return {
                x: $h.x - $i.x,
                y: $h.y - $i.y
            };
        };
        return DayPilot.mo2($d, ev);
    };
    DayPilot.mc = function(ev) {
        if (ev.pageX || ev.pageY) {
            return {
                x: ev.pageX,
                y: ev.pageY
            };
        };
        return {
            x: ev.clientX + document.documentElement.scrollLeft,
            y: ev.clientY + document.documentElement.scrollTop
        };
    };
    DayPilot.Stats = {};
    DayPilot.Stats.eventObjects = 0;
    DayPilot.Stats.dateObjects = 0;
    DayPilot.Stats.cacheHitsCtor = 0;
    DayPilot.Stats.cacheHitsParsing = 0;
    DayPilot.Stats.cacheHitsTicks = 0;
    DayPilot.Stats.print = function() {
        console.log("DayPilot.Stats.eventObjects: " + DayPilot.Stats.eventObjects);
        console.log("DayPilot.Stats.dateObjects: " + DayPilot.Stats.dateObjects);
        console.log("DayPilot.Stats.cacheHitsCtor: " + DayPilot.Stats.cacheHitsCtor);
        console.log("DayPilot.Stats.cacheHitsParsing: " + DayPilot.Stats.cacheHitsParsing);
        console.log("DayPilot.Stats.cacheHitsTicks: " + DayPilot.Stats.cacheHitsTicks);
        console.log("DayPilot.Date.Cache.Ctor keys: " + Object.keys(DayPilot.Date.Cache.Ctor).length);
        console.log("DayPilot.Date.Cache.Parsing keys: " + Object.keys(DayPilot.Date.Cache.Parsing).length);
    };
    DayPilot.list = function($j, $k) {
        if ($j && $j.isDayPilotList && !$k) {
            return $j;
        };
        var $l = DayPilot.isArray($j) || Object.prototype.toString.call($j) === "[object NodeList]";
        var $m = !$l && !DayPilot.Util.isNullOrUndefined($j);
        var $n = [];
        $n.isDayPilotList = true;
        $n.clone = function() {
            var $b = DayPilot.list();
            $n.each(function($o) {
                $b.push($o);
            });
            return $b;
        };
        $n.each = function(f) {
            if (!f) {
                return;
            };
            if ($n.forEach) {
                $n.forEach(f);
                return;
            };
            for (var i = 0; i < this.length; i++) {
                f($n[i], i, $n);
            }
        };
        $n.addProps = function($p) {
            var $b = $n.clone();
            if ($p) {
                for (var name in $p) {
                    $b[name] = $p[name];
                }
            };
            return $b;
        };
        $n.last = function() {
            if ($n.length === 0) {
                return null;
            };
            return $n[$n.length - 1];
        };
        $n.first = function() {
            if ($n.length === 0) {
                return null;
            };
            return $n[0];
        };
        $n.add = function($o) {
            var $b = $n.clone();
            $b.push($o);
            return $b;
        };
        $n.map = function(f) {
            if (typeof f !== "function") {
                throw "DayPilot.list().map(f): Function expected";
            };
            var $b = DayPilot.list();
            $n.each(function($o, i, $j) {
                $b.push(f($o, i, $j));
            });
            return $b;
        };
        $n.filter = function(f) {
            var $b = DayPilot.list();
            if (typeof f !== "function") {
                throw "DayPilot.list().filter(f): Function expected";
            };
            $n.each(function($o) {
                if (f($o)) {
                    $b.push($o);
                }
            });
            return $b;
        };
        $n.concat = function($q) {
            if (!$q) {
                return $n;
            };
            var $b = $n.clone();
            for (var i = 0; i < $q.length; i++) {
                $b.push($q[i]);
            };
            return $b;
        };
        if (!$n.find) {
            $n.find = function(f) {
                if (typeof f !== "function") {
                    throw "DayPilot.list().find(f): Function expected";
                };
                for (var i = 0; i < this.length; i++) {
                    if (f($n[i])) {
                        return $n[i];
                    }
                };
                return undefined;
            };
        };
        if (!$n.findIndex) {
            $n.findIndex = function(f) {
                if (typeof f !== "function") {
                    throw "DayPilot.list().findIndex(f): Function expected";
                };
                for (var i = 0; i < this.length; i++) {
                    if (f($n[i])) {
                        return i;
                    }
                };
                return -1;
            };
        };
        if (!$n.some) {
            $n.some = function(f) {
                if (typeof f !== "function") {
                    throw "DayPilot.list().some(f): Function expected";
                };
                for (var i = 0; i < this.length; i++) {
                    if (f($n[i])) {
                        return true;
                    }
                };
                return false;
            };
        };
        if (!$n.reduce) {
            $n.reduce = function(f, $r) {
                if (typeof f !== "function") {
                    throw "DayPilot.list().reduce(f): Function expected";
                };
                var $b;
                var $s = 0;
                if (typeof $r !== 'undefined') {
                    $b = $r;
                } else {
                    $s = 1;
                    if ($n.length === 0) {
                        throw "DayPilot.list().reduce(f): No initial value and empty list";
                    };
                    $b = $n[0];
                };
                for (var i = $s; i < this.length; i++) {
                    $b = f($b, $n[i], i, this);
                };
                return $b;
            };
        };
        $n.isEmpty = function() {
            return $n.length === 0;
        };
        if ($l) {
            for (var i = 0; i < $j.length; i++) {
                $n[i] = $j[i];
            }
        } else if ($m) {
            $n[0] = $j;
        };
        return $n;
    };
    DayPilot.line = function(x1, y1, x2, y2, $t) {
        var $u = {
            x: x1,
            y: y1
        };
        var $d = {
            x: x2,
            y: y2,
            "deg": DayPilot.deg(x1, y1, x2, y2)
        };
        if (y1 < y2) {
            var $v = y1;
            y1 = y2;
            y2 = $v;
            $v = x1;
            x1 = x2;
            x2 = $v;
        };
        var $w = DayPilot.deg(x1, y1, x2, y2);
        var $x = (function() {
            var a = Math.abs(x1 - x2);
            var b = Math.abs(y1 - y2);
            return Math.sqrt(a * a + b * b);
        })();
        var x = (function() {
            var a = Math.abs(x1 - x2);
            var b = Math.abs(y1 - y2);
            var sx = (x1 + x2) / 2;
            var sy = (y1 + y2) / 2;
            var $x = Math.sqrt(a * a + b * b);
            return sx - $x / 2;
        })();
        var y = (function() {
            return (y1 + y2) / 2;
        })();
        var $a = document.createElement("div");
        $a.setAttribute('style', 'border:1px solid black;width:' + $x + 'px;height:0px;-moz-transform:rotate(' + $w + 'deg);-webkit-transform:rotate(' + $w + 'deg);-ms-transform:rotate(' + $w + 'deg);transform:rotate(' + $w + 'deg);position:absolute;top:' + y + 'px;left:' + x + 'px;');
        var $y = document.createElement("div");
        $y.appendChild($a);
        if ($t) {
            var $x = 6;
            var top = $d.y - $x;
            var $z = $d.x - $x;;
            var $w = $w;
            if ($d.y > $u.y) {
                $w -= 180;
            };
            var a = document.createElement("div");
            a.style.borderColor = "transparent black transparent transparent";
            a.style.borderWidth = $x + "px";
            a.style.borderStyle = "solid";
            a.style.position = "absolute";
            a.style.left = $z + "px";
            a.style.top = top + "px";
            a.style.transform = "rotate(" + $w + "deg)";
            $y.appendChild(a);
        };
        return $y;
    };
    DayPilot.deg = function(x1, y1, x2, y2) {
        var a = Math.abs(x1 - x2);
        var b = Math.abs(y1 - y2);
        var c;
        var sx = (x1 + x2) / 2;
        var sy = (y1 + y2) / 2;
        var $x = Math.sqrt(a * a + b * b);
        var x = sx - $x / 2;
        var y = sy;
        a = $x / 2;
        c = Math.abs(sx - x);
        b = Math.sqrt(Math.abs(x1 - x) * Math.abs(x1 - x) + Math.abs(y1 - y) * Math.abs(y1 - y));
        var $A = (b * b - a * a - c * c) / (2 * a * c);
        var $B = Math.acos($A);
        var $w = ($B * 180) / Math.PI;
        return $w;
    };
    DayPilot.complete = function(f) {
        if (document.readyState === "complete") {
            f();
            return;
        };
        if (!DayPilot.complete.list) {
            DayPilot.complete.list = [];
            DayPilot.re(document, "readystatechange", function() {
                if (document.readyState === "complete") {
                    for (var i = 0; i < DayPilot.complete.list.length; i++) {
                        var d = DayPilot.complete.list[i];
                        d();
                    };
                    DayPilot.complete.list = [];
                }
            });
        };
        DayPilot.complete.list.push(f);
    };
    DayPilot.page = function(ev) {
        ev = ev || window.event;
        if (typeof ev.pageX !== 'undefined') {
            return {
                x: ev.pageX,
                y: ev.pageY
            };
        };
        if (typeof ev.clientX !== 'undefined') {
            return {
                x: ev.clientX + document.body.scrollLeft + document.documentElement.scrollLeft,
                y: ev.clientY + document.body.scrollTop + document.documentElement.scrollTop
            };
        };
        return null;
    };
    DayPilot.rel = function(element, $C) {
        var $D = DayPilot.abs(element);
        var $E = DayPilot.abs($C);
        return {
            "x": $D.x - $E.x,
            "y": $D.y - $E.y,
            "w": element.offsetWidth,
            "h": element.offsetHeight
        };
    };
    DayPilot.abs = function(element, $F) {
        if (!element) {
            return null;
        };
        var r = {
            x: element.offsetLeft,
            y: element.offsetTop,
            w: element.clientWidth,
            h: element.clientHeight,
            toString: function() {
                return "x:" + this.x + " y:" + this.y + " w:" + this.w + " h:" + this.h;
            }
        };
        if (element.getBoundingClientRect) {
            var b = null;
            try {
                b = element.getBoundingClientRect();
            } catch (e) {
                b = {
                    top: element.offsetTop,
                    $z: element.offsetLeft
                };
            };
            r.x = b.left;
            r.y = b.top;
            var d = DayPilot.doc();
            r.x -= d.clientLeft || 0;
            r.y -= d.clientTop || 0;
            var $G = DayPilot.pageOffset();
            r.x += $G.x;
            r.y += $G.y;
            if ($F) {
                var $H = DayPilot.absOffsetBased(element, false);
                var $F = DayPilot.absOffsetBased(element, true);
                r.x += $F.x - $H.x;
                r.y += $F.y - $H.y;
                r.w = $F.w;
                r.h = $F.h;
            };
            return r;
        } else {
            return DayPilot.absOffsetBased(element, $F);
        }
    };
    DayPilot.isArray = function(o) {
        return Object.prototype.toString.call(o) === '[object Array]';
    };
    DayPilot.absOffsetBased = function(element, $F) {
        var r = {
            x: element.offsetLeft,
            y: element.offsetTop,
            w: element.clientWidth,
            h: element.clientHeight,
            toString: function() {
                return "x:" + this.x + " y:" + this.y + " w:" + this.w + " h:" + this.h;
            }
        };
        while (DayPilot.op(element)) {
            element = DayPilot.op(element);
            r.x -= element.scrollLeft;
            r.y -= element.scrollTop;
            if ($F) {
                if (r.x < 0) {
                    r.w += r.x;
                    r.x = 0;
                };
                if (r.y < 0) {
                    r.h += r.y;
                    r.y = 0;
                };
                if (element.scrollLeft > 0 && r.x + r.w > element.clientWidth) {
                    r.w -= r.x + r.w - element.clientWidth;
                };
                if (element.scrollTop && r.y + r.h > element.clientHeight) {
                    r.h -= r.y + r.h - element.clientHeight;
                }
            };
            r.x += element.offsetLeft;
            r.y += element.offsetTop;
        };
        var $G = DayPilot.pageOffset();
        r.x += $G.x;
        r.y += $G.y;
        return r;
    };
    DayPilot.wd = function() {
        var $I = DayPilot.isIEQuirks;
        var $J = document.documentElement.clientHeight;
        if ($I) {
            $J = document.body.clientHeight;
        };
        var $K = document.documentElement.clientWidth;
        if ($I) {
            $K = document.body.clientWidth;
        };
        var $L = (document.documentElement && document.documentElement.scrollTop) || document.body.scrollTop;
        var $M = (document.documentElement && document.documentElement.scrollLeft) || document.body.scrollLeft;
        var $b = {};
        $b.width = $K;
        $b.height = $J;
        $b.scrollTop = $L;
        $b.scrollLeft = $M;
        return $b;
    };
    DayPilot.op = function(element) {
        try {
            return element.offsetParent;
        } catch (e) {
            return document.body;
        }
    };
    DayPilot.distance = function($N, $O) {
        return Math.sqrt(Math.pow($N.x - $O.x, 2) + Math.pow($N.y - $O.y, 2));
    };
    DayPilot.doc = function() {
        var de = document.documentElement;
        return (de && de.clientHeight) ? de : document.body;
    };
    DayPilot.pageOffset = function() {
        if (typeof pageXOffset !== 'undefined') {
            return {
                x: pageXOffset,
                y: pageYOffset
            };
        };
        var d = DayPilot.doc();
        return {
            x: d.scrollLeft,
            y: d.scrollTop
        };
    };
    DayPilot.ac = function(e, $P) {
        if (!$P) {
            var $P = [];
        };
        for (var i = 0; e.children && i < e.children.length; i++) {
            $P.push(e.children[i]);
            DayPilot.ac(e.children[i], $P);
        };
        return $P;
    };
    DayPilot.indexOf = function($j, $Q, $R) {
        if (!$j || !$j.length) {
            return -1;
        };
        for (var i = 0; i < $j.length; i++) {
            if ($R) {
                if ($R($j[i], $Q)) {
                    return i;
                }
            } else if ($j[i] === $Q) {
                return i;
            }
        };
        return -1;
    };
    DayPilot.contains = function($j, $Q) {
        if (!$j) {
            return false;
        };
        if ($j === $Q && !DayPilot.isArray($j)) {
            return true;
        };
        return DayPilot.indexOf($j, $Q) !== -1;
    };
    DayPilot.rfa = function($j, $Q) {
        var i = DayPilot.indexOf($j, $Q);
        if (i === -1) {
            return;
        };
        $j.splice(i, 1);
    };
    DayPilot.sheet = function() {
        var style = document.createElement("style");
        style.setAttribute("type", "text/css");
        if (!style.styleSheet) {
            style.appendChild(document.createTextNode(""));
        };
        var h = document.head || document.getElementsByTagName('head')[0];
        h.appendChild(style);
        var $S = !!style.styleSheet;
        var $T = {};
        $T.rules = [];
        $T.commit = function() {
            try {
                if ($S) {
                    style.styleSheet.cssText = this.rules.join("\n");
                }
            } catch (e) {}
        };
        $T.add = function($U, $V, $W) {
            if ($S) {
                this.rules.push($U + "{" + $V + "\u007d");
                return;
            };
            if (style.sheet.insertRule) {
                if (typeof $W === "undefined") {
                    $W = style.sheet.cssRules.length;
                };
                style.sheet.insertRule($U + "{" + $V + "\u007d", $W);
            } else if (style.sheet.addRule) {
                style.sheet.addRule($U, $V, $W);
            } else {
                throw "No CSS registration method found";
            }
        };
        return $T;
    };
    DayPilot.Args = function($X) {
        var $Y = this;
        this.preventDefault = function() {
            if ($X) {
                $X.preventDefault();
            };
            $Y.preventDefault.value = true;
        };
    };
    DayPilot.Debug = function($Z) {
        var debug = this;
        this.printToBrowserConsole = false;
        this.enabled = false;
        this.messages = [];
        this.$42 = null;
        this.clear = function() {
            this.messages = [];
            if (debug.$42) {
                debug.$42.innerHTML = '';
            }
        };
        this.hide = function() {
            DayPilot.de(debug.$42);
            debug.$42 = null;
        };
        this.show = function() {
            if (debug.$42) {
                debug.hide();
            };
            var $C = $Z.nav.top;
            var $a = document.createElement("div");
            $a.style.position = "absolute";
            $a.style.top = "0px";
            $a.style.bottom = "0px";
            $a.style.left = "0px";
            $a.style.right = "0px";
            $a.style.backgroundColor = "black";
            $a.style.color = "#ccc";
            $a.style.overflow = "auto";
            $a.style.webkitUserSelect = 'auto';
            $a.style.MozUserSelect = 'all';
            $a.onclick = function() {
                debug.hide();
            };
            for (var i = 0; i < this.messages.length; i++) {
                var $00 = debug.messages[i];
                var $01 = $00.$43();
                $a.appendChild($01);
            };
            this.$42 = $a;
            $C.appendChild($a);
        };
        this.message = function($02, $03) {
            if (!this.enabled) {
                return;
            };
            var $00 = {};
            $00.time = new DayPilot.Date();
            $00.level = $03 || "debug";
            $00.text = $02;
            $00.$43 = function() {
                var $01 = document.createElement("div");
                $01.innerHTML = $00.time + " (" + $00.level + "): " + $00.text;
                switch ($00.level) {
                    case "error":
                        $01.style.color = "red";
                        break;
                    case "warning":
                        $01.style.color = "orange";
                        break;
                    case "info":
                        $01.style.color = "white";
                        break;
                    case "debug":
                        break;
                };
                return $01;
            };
            this.messages.push($00);
            if (this.printToBrowserConsole && typeof console !== 'undefined') {
                console.log($00);
            }
        };
    };
    DayPilot.re = function(el, ev, $04) {
        if (!$04) {
            return;
        };
        if (el.addEventListener) {
            el.addEventListener(ev, $04, false);
        } else if (el.attachEvent) {
            var f = function(ev) {
                $04.call(el, ev);
            };
            el.attachEvent("on" + ev, f);
        }
    };
    DayPilot.ue = function(el, ev, $04) {
        if (el.removeEventListener) {
            el.removeEventListener(ev, $04, false);
        } else if (el.detachEvent) {
            el.detachEvent("on" + ev, $04);
        }
    };
    DayPilot.tr = function($05) {
        if (!$05) return '';
        return $05.replace(/^\s+|\s+$/g, "");
    };
    DayPilot.ds = function(d) {
        return DayPilot.Date.toStringSortable(d);
    };
    DayPilot.gs = function(el, $06) {
        var x = el;
        if (x.currentStyle) var y = x.currentStyle[$06];
        else if (window.getComputedStyle) var y = document.defaultView.getComputedStyle(x, null).getPropertyValue($06);
        if (typeof(y) === 'undefined') y = '';
        return y;
    };
    DayPilot.StyleReader = function(element) {
        function capitalizeFirstLetter($07) {
            return $07.charAt(0).toUpperCase() + $07.slice(1);
        };
        this.get = function($08) {
            var $09 = DayPilot.list($08.split("-"));
            var $0a = $09.reduce(function($0b, $f, i) {
                $f = capitalizeFirstLetter($f);
                return $0b + $f;
            });
            if (!element) {
                return null;
            };
            return DayPilot.gs(element, $0a) || DayPilot.gs(element, $08);
        }
    };
    DayPilot.he = function(str) {
        var $b = str.replace(/&/g, "&amp;");
        $b = $b.replace(/</g, "&lt;");
        $b = $b.replace(/>/g, "&gt;");
        $b = $b.replace(/"/g, "&quot;");
        return $b;
    };
    DayPilot.he2 = function(str) {
        var $02 = document.createTextNode(str);
        var $a = document.createElement("div");
        $a.appendChild($02);
        return $a.innerHTML;
    };
    DayPilot.us = function(element) {
        if (element) {
            element.setAttribute("unselectable", "on");
            element.style.userSelect = 'none';
            element.style.MozUserSelect = 'none';
            element.style.KhtmlUserSelect = 'none';
            element.style.webkitUserSelect = 'none';
            for (var i = 0; i < element.childNodes.length; i++) {
                if (element.childNodes[i].nodeType === 1) {
                    DayPilot.us(element.childNodes[i]);
                }
            }
        }
    };
    DayPilot.pu = function(d) {
        var a = d.attributes,
            i, l, n;
        if (a) {
            l = a.length;
            for (i = 0; i < l; i += 1) {
                if (!a[i]) {
                    continue;
                };
                n = a[i].name;
                if (typeof d[n] === 'function') {
                    d[n] = null;
                }
            }
        };
        a = d.childNodes;
        if (a) {
            l = a.length;
            for (i = 0; i < l; i += 1) {
                var $P = DayPilot.pu(d.childNodes[i]);
            }
        }
    };
    DayPilot.puc = function(d) {
        var a = d.childNodes,
            i, l;
        if (a) {
            var l = a.length;
            for (i = 0; i < l; i += 1) {
                DayPilot.pu(d.childNodes[i]);
            }
        }
    };
    DayPilot.de = function(e) {
        if (!e) {
            return;
        };
        if (DayPilot.isArray(e)) {
            for (var i = 0; i < e.length; i++) {
                DayPilot.de(e[i]);
            };
            return;
        };
        e.parentNode && e.parentNode.removeChild(e);
    };
    DayPilot.fade = function(element, $0c, end) {
        if (!element) {
            return;
        };
        clearTimeout(element.messageTimeout);
        var $0d = 50;
        var $F = element.style.display !== 'none';
        var $0e = $0c > 0;
        var $0f = $0c < 0;
        if ($0c === 0) {
            return;
        };
        if ($0e) {
            element.status = "in";
        } else if ($0f) {
            element.status = "out";
        };
        if ($0e && !$F) {
            element.target = parseFloat(element.style.opacity);
            element.opacity = 0;
            element.style.opacity = 0;
            element.style.filter = "alpha(opacity=0)";
            element.style.display = '';
        } else if ($0f && !element.target) {
            element.target = element.style.opacity;
        } else {
            var $f = element.opacity;
            var $0g = Math.floor(10 * ($f + $0c)) / 10;
            if ($0e && $0g > element.target) {
                $0g = element.target;
            };
            if ($0f && $0g < 0) {
                $0g = 0;
            };
            var ie = $0g * 100;
            element.opacity = $0g;
            element.style.opacity = $0g;
            element.style.filter = "alpha(opacity=" + ie + ")";
        };
        if (($0e && (element.opacity >= element.target || element.opacity >= 1)) || ($0f && element.opacity <= 0)) {
            element.target = null;
            if ($0f) {
                element.style.opacity = element.target;
                element.opacity = element.target;
                var $0h = element.target ? "alpha(opacity=" + (element.target * 100) + ")" : null;
                element.style.filter = $0h;
                element.style.display = 'none';
            };
            if (end && typeof end === 'function') {
                element.status = null;
                end();
            }
        } else {
            element.messageTimeout = setTimeout(function() {
                DayPilot.fade(element, $0c, end);
            }, $0d);
        }
    };
    DayPilot.sw = function(element) {
        if (!element) {
            return 0;
        };
        return element.offsetWidth - element.clientWidth;
    };
    DayPilot.swa = function() {
        var $a = document.createElement("div");
        $a.style.position = "absolute";
        $a.style.top = "-2000px";
        $a.style.left = "-2000px";
        $a.style.width = '200px';
        $a.style.height = '100px';
        $a.style.overflow = 'auto';
        var $0i = document.createElement("div");
        $0i.style.width = '300px';
        $0i.style.height = '300px';
        $a.appendChild($0i);
        document.body.appendChild($a);
        var sw = DayPilot.sw($a);
        document.body.removeChild($a);
        return sw;
    };
    DayPilot.sh = function(element) {
        if (!element) {
            return 0;
        };
        return element.offsetHeight - element.clientHeight;
    };
    DayPilot.guid = function() {
        var S4 = function() {
            return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);
        };
        return ("" + S4() + S4() + "-" + S4() + "-" + S4() + "-" + S4() + "-" + S4() + S4() + S4());
    };
    DayPilot.ua = function($j) {
        if (typeof $j === "string" || typeof $j === "number") {
            return [$j];
        };
        var u = {},
            a = [];
        for (var i = 0, l = $j.length; i < l; ++i) {
            if ($j[i] in u) {
                continue;
            };
            a.push($j[i]);
            u[$j[i]] = 1;
        };
        return a;
    };
    DayPilot.am = function() {
        if (typeof angular === "undefined") {
            return null;
        };
        if (!DayPilot.am.cached) {
            DayPilot.am.cached = angular.module("daypilot", []);
        };
        return DayPilot.am.cached;
    };
    (function() {
        DayPilot.pop = wave;

        function wave($a, $0j) {
            var $d = {
                w: $a.offsetWidth,
                h: $a.offsetHeight,
                x: parseInt($a.style.left),
                y: parseInt($a.style.top)
            };
            $d.height = $a.style.height;
            $d.width = $a.style.width;
            $d.top = $a.style.top;
            $d.left = $a.style.left;
            $d.toString = function() {
                return "w: " + this.w + " h:" + this.h;
            };
            var $0k = {};
            $0k.finished = null;
            $0k.vertical = 'center';
            $0k.horizontal = 'center';
            if ($0j) {
                for (var name in $0j) {
                    $0k[name] = $0j[name];
                }
            };
            $a.style.visibility = 'hidden';
            $a.style.display = '';
            var $0l = $0j.animation || "fast";
            var $0m = createPlan($0l);
            $0m.div = $a;
            $0m.i = 0;
            $0m.target = $d;
            $0m.config = $0k;
            doStep($0m);
        };

        function createPlan($0n) {
            var $0o = function() {
                var $0m = [];
                $0m.time = 10;
                var $0p;
                var $0c = 0.08;
                $0p = 0.1;
                for (var i = $0p; i < 1.2; i += $0c) {
                    $0m.push(i);
                    $0p = i;
                };
                $0c = 0.03;
                for (var i = $0p; i > 0.8; i -= $0c) {
                    $0m.push(i);
                    $0p = i;
                };
                for (var i = $0p; i <= 1; i += $0c) {
                    $0m.push(i);
                    $0p = i;
                };
                return $0m;
            };
            var $0q = function() {
                var $0m = [];
                $0m.time = 10;
                var $0p;
                var $0c = 0.04;
                $0p = 0.1;
                for (var i = $0p; i <= 1; i += $0c) {
                    $0m.push(i);
                    $0p = i;
                };
                return $0m;
            };
            var $0r = function() {
                var $0m = [];
                $0m.time = 10;
                var $0p;
                var $0c = 0.08;
                $0p = 0.1;
                for (var i = $0p; i <= 1; i += $0c) {
                    $0m.push(i);
                    $0p = i;
                };
                return $0m;
            };
            var $0s = {
                "fast": $0r,
                "slow": $0q,
                "jump": $0o
            };
            if (!$0s[$0n]) {
                $0n = "fast";
            };
            return $0s[$0n]();
        };

        function doStep($0m) {
            var $a = $0m.div;
            var $0t = $0m[$0m.i];
            var $0u = $0t * $0m.target.h;
            var top;
            switch ($0m.config.vertical) {
                case "center":
                    top = $0m.target.y - ($0u - $0m.target.h) / 2;
                    break;
                case "top":
                    top = $0m.target.y;
                    break;
                case "bottom":
                    top = $0m.target.y - ($0u - $0m.target.h);
                    break;
                default:
                    throw "Unexpected 'vertical' value.";
            };
            var $x = $0t * $0m.target.w;
            var $z;
            switch ($0m.config.horizontal) {
                case "left":
                    $z = $0m.target.x;
                    break;
                case "center":
                    $z = $0m.target.x - ($x - $0m.target.w) / 2;
                    break;
                case "right":
                    $z = $0m.target.x - ($x - $0m.target.w);
                    break;
                default:
                    throw "Unexpected 'horizontal' value.";
            };
            var wd = DayPilot.wd();
            var $0v = (wd.height + wd.scrollTop) - (top + $0u);
            if ($0v < 0) {
                top += $0v;
            };
            var $0w = (wd.width) - ($z + $x);
            if ($0w < 0) {
                $z += $0w;
            };
            $a.style.height = $0u + "px";
            $a.style.top = top + "px";
            $a.style.width = $x + "px";
            $a.style.left = $z + "px";
            $a.style.visibility = 'visible';
            $0m.i++;
            if ($0m.i < $0m.length - 1) {
                setTimeout((function($0m) {
                    return function() {
                        doStep($0m);
                    };
                })($0m), $0m.time);
            } else {
                $a.style.width = $0m.target.width;
                $a.style.height = $0m.target.height;
                $a.style.top = $0m.target.top;
                $a.style.left = $0m.target.left;
                if (typeof $0m.config.finished === 'function') {
                    $0m.config.finished();
                }
            }
        }
    })();
    DayPilot.Util = {};
    DayPilot.Util.addClass = function($Q, name) {
        if (!name) {
            return;
        };
        if (!$Q) {
            return;
        };
        if (DayPilot.isArray($Q)) {
            for (var i = 0; i < $Q.length; i++) {
                DayPilot.Util.addClass($Q[i], name);
            };
            return;
        };
        if (!$Q.className) {
            $Q.className = name;
            return;
        };
        var $0x = new RegExp("(^|\\s)" + name + "($|\\s)");
        if (!$0x.test($Q.className)) {
            $Q.className = $Q.className + ' ' + name;
        }
    };
    DayPilot.Util.normalizeColor = function($0y) {
        if ($0y.indexOf("rgb") === 0) {
            return rgbToHex($0y);
        };
        return $0y;

        function rgbToHex(a) {
            a = a.replace(/[^\d,]/g, "").split(",");
            return "#" + ((1 << 24) + (+a[0] << 16) + (+a[1] << 8) + (+a[2])).toString(16).slice(1);
        }
    };
    DayPilot.Util.addClassToString = function(str, name) {
        if (!str) {
            return name;
        };
        var $0x = new RegExp("(^|\\s)" + name + "($|\\s)");
        if (!$0x.test(str)) {
            return str + ' ' + name;
        } else {
            return str;
        }
    };
    DayPilot.Util.removeClassFromString = function(str, name) {
        if (!str) {
            return "";
        };
        var $0x = new RegExp("(^|\\s)" + name + "($|\\s)");
        return str.replace($0x, ' ').replace(/^\s\s*/, '').replace(/\s\s*$/, '');
    };
    DayPilot.Util.removeClass = function($Q, name) {
        if (!$Q) {
            return;
        };
        if (DayPilot.isArray($Q)) {
            for (var i = 0; i < $Q.length; i++) {
                DayPilot.Util.removeClass($Q[i], name);
            };
            return;
        };
        var $0x = new RegExp("(^|\\s)" + name + "($|\\s)");
        $Q.className = $Q.className.replace($0x, ' ').replace(/^\s\s*/, '').replace(/\s\s*$/, '');
    };
    DayPilot.Util.props = function(o) {
        var t = [];
        for (var a in o) {
            t.push(a);
            t.push(o[a]);
        };
        return t.join("-");
    };
    DayPilot.Util.propArray = function($0z, name, $0A) {
        return DayPilot.list($0z).map(function($o) {
            return $o[name] ? $o[name] : $0A;
        });
    };
    DayPilot.Util.updatePropsFromArray = function($0z, name, $j) {
        for (var i = 0; i < $j.length; i++) {
            $0z[i][name] = $j[i];
        }
    };
    DayPilot.Util.copyProps = function($u, $d, $0z) {
        if (!$u) {
            return;
        };
        if (typeof $0z === 'undefined') {
            for (var name in $u) {
                if (typeof $u[name] !== 'undefined') {
                    $d[name] = $u[name];
                }
            }
        } else {
            for (var i = 0; i < $0z.length; i++) {
                var name = $0z[i];
                if (typeof $u[name] !== 'undefined') {
                    $d[name] = $u[name];
                }
            }
        }
    };
    DayPilot.Util.firstPropValue = function($Q) {
        for (var name in $Q) {
            return $Q[name];
        }
    };
    DayPilot.Util.createArrayCopy = function($u, $0B) {
        if (!DayPilot.isArray($u)) {
            return [];
        };
        var $n = [];
        for (var i = 0; i < $u.length; i++) {
            var $o = {};
            DayPilot.Util.copyProps($u[i], $o, $0B);
            $n.push($o);
        };
        return $n;
    };
    DayPilot.Util.avg = function(a, b) {
        return (a + b) / 2;
    };
    DayPilot.Util.div = function(parent, $z, top, $x, $0u) {
        var $a = document.createElement("div");
        if ($z || top || $x || $0u) {
            if ($x < 0) {
                $z += $x;
                $x *= -1;
            };
            if ($0u < 0) {
                top += $0u;
                $0u *= -1;
            };
            $a.style.position = "absolute";
            if (typeof $z === "number") {
                $a.style.left = $z + "px";
            } else if (typeof $z === "string") {
                $a.style.left = $z;
            };
            if (typeof top === "number") {
                $a.style.top = top + "px";
            } else if (typeof top === "string") {
                $a.style.top = top;
            };
            if (typeof $x === "number") {
                $a.style.width = $x + "px";
            } else if (typeof $x === "string") {
                $a.style.width = $x;
            };
            if (typeof $0u === "number") {
                $a.style.height = $0u + "px";
            } else if (typeof $0u === "string") {
                $a.style.height = $0u;
            }
        };
        if (parent) {
            parent.appendChild($a);
        };
        return $a;
    };
    DayPilot.Util.overlaps = function($0C, $0D, $0E, $0F) {
        return !($0D <= $0E || $0C >= $0F);
    };
    DayPilot.Util.isMouseEvent = function(ev) {
        if (!navigator.msPointerEnabled) {
            return false;
        };
        if (!ev.pointerType) {
            return false;
        };
        if (ev.pointerType === "mouse") {
            return true;
        };
        if (ev.pointerType === 4) {
            return true;
        };
        return false;
    };
    DayPilot.Util.mouseButton = function(ev) {
        var $b = {};
        ev = ev || window.event;
        if (typeof ev.which === 'undefined') {
            switch (ev.button) {
                case 1:
                    $b.left = true;
                    break;
                case 4:
                    $b.middle = true;
                    break;
                case 2:
                    $b.right = true;
                    break;
                case 0:
                    $b.unknown = true;
                    break;
            }
        } else {
            switch (ev.which) {
                case 1:
                    $b.left = true;
                    break;
                case 2:
                    $b.middle = true;
                    break;
                case 3:
                    $b.right = true;
                    break;
            }
        };
        return $b;
    };
    DayPilot.Util.membersPlain = function($0G) {
        var $0H = DayPilot.Util.members($0G, 2);
        var $0I = function($j) {
            for (var i = 0; i < $j.length; i++) {
                var $o = $j[i];
                var name = $o.name;
                if ($o.obsolete) {
                    name += " (obsolete)";
                };
                if ($o.noCssOnly) {
                    name += " (!cssOnly)";
                };
                if ($o.aspnet) {
                    name += " (ASP.NET)";
                };
                if ($o.mvc) {
                    name += "(MVC)";
                };
                $j[i] = name;
            }
        };
        $0I($0H.events);
        $0I($0H.methods);
        $0I($0H.properties);
        return $0H;
    };
    DayPilot.Util.members = function($0G, $0J) {
        var $0K = DayPilot.list();
        var $0L = DayPilot.list();
        var $0M = DayPilot.list();
        var $0N = ($0G && $0G.members) ? $0G.members.obsolete : [];
        var $0O = ($0G && $0G.members) ? $0G.members.noCssOnly : [];
        var $0P = ($0G && $0G.members) ? $0G.members.ignore : [];
        var $0Q = ($0G && $0G.members && $0G.members.ignoreFilter) ? $0G.members.ignoreFilter : function() {
            return false;
        };
        for (var name in $0G) {
            if (name.indexOf("$") === 0) {
                continue;
            };
            if (name.indexOf("_") === 0) {
                continue;
            };
            if (name.indexOf("number") === 0) {
                continue;
            };
            if (name.indexOf("is") === 0) {
                continue;
            };
            if (name === "v") {
                continue;
            };
            if (DayPilot.contains($0P, name)) {
                continue;
            };
            if ($0Q(name)) {
                continue;
            };
            if (name.indexOf("on") === 0) {
                $0K.push(name);
                continue;
            };
            if (typeof $0G[name] === 'function') {
                $0L.push(name);
                continue;
            };
            if (typeof $0G[name] === 'object') {
                var o = $0G[name];
                if ($0J === 0) {
                    $0M.push(name);
                    continue;
                };
                if (o && o.nodeType > 0) {
                    $0M.push(name);
                    continue;
                };
                if (o instanceof DayPilot.Bubble) {
                    $0M.push(name);
                    continue;
                };
                if (o instanceof DayPilot.Date) {
                    $0M.push(name);
                    continue;
                };
                if (o instanceof DayPilot.Menu) {
                    $0M.push(name);
                    continue;
                };
                if (o instanceof DayPilot.Scheduler) {
                    $0M.push(name);
                    continue;
                };
                if (DayPilot.isArray(o)) {
                    $0M.push(name);
                    continue;
                };
                if (o === null) {
                    $0M.push(name);
                };
                var ml = null;
                if (typeof $0J === "number") {
                    ml = $0J - 1;
                };
                var $0H = DayPilot.Util.members(o, ml);
                for (var i = 0; i < $0H.events.length; i++) {
                    $0K.push(name + "." + $0H.events[i].name);
                };
                for (var i = 0; i < $0H.methods.length; i++) {
                    $0L.push(name + "." + $0H.methods[i].name);
                };
                for (var i = 0; i < $0H.properties.length; i++) {
                    $0M.push(name + "." + $0H.properties[i].name);
                };
                continue;
            };
            $0M.push(name);
        };
        $0K.sort();
        $0L.sort();
        $0M.sort();
        var $0I = function($j) {
            for (var i = 0; i < $j.length; i++) {
                var name = $j[i];
                var $o = {};
                $o.name = name;
                $j[i] = $o;
                if (DayPilot.contains($0N, name)) {
                    $o.obsolete = true;
                };
                if (DayPilot.contains($0O, name)) {
                    $o.noCssOnly = true;
                };
                if (name.indexOf("CallBack") !== -1) {
                    $o.aspnet = true;
                    $o.mvc = true;
                };
                if (name.indexOf("PostBack") !== -1) {
                    $o.aspnet = true;
                };
                if (name.indexOf("Notify") !== -1) {
                    $o.aspnet = true;
                    $o.mvc = true;
                }
            }
        };
        $0I($0K);
        $0I($0L);
        $0I($0M);
        return {
            "events": $0K,
            "methods": $0L,
            "properties": $0M
        };
    };
    DayPilot.Util.replaceCharAt = function(str, $W, $0R) {
        return str.substr(0, $W) + $0R + str.substr($W + $0R.length);
    };
    DayPilot.Util.evalVariable = function(str, $0S) {
        $0S = $0S || ['object'];
        if (str === null || typeof str === 'undefined') {
            return null;
        };
        if (DayPilot.indexOf($0S, typeof str) !== -1) {
            return str;
        };
        if (typeof str !== "string") {
            throw "Unable to resolve a variable name (not a string).";
        };
        if (!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(str)) {
            throw "Invalid variable name: " + str;
        };
        return eval(str);
    };
    DayPilot.Util.evalFunction = function(str) {
        if (str === null) {
            return null;
        };
        if (typeof str === "function") {
            return str;
        };
        if (typeof str !== "string") {
            throw "Unable to resolve a function (not a string).";
        };
        if (!/^\(?function/.test(str)) {
            throw "Invalid function string";
        };
        return eval("(" + str + ")");
    };
    DayPilot.Util.parseJSON = function(str) {
        if (JSON && JSON.parse) {
            return JSON.parse(str);
        } else {
            return DayPilot.JSON.parse(str);
        }
    };
    DayPilot.Util.isNullOrUndefined = function($0T) {
        return $0T === null || typeof $0T === "undefined";
    };
    DayPilot.Util.log = function($0U) {
        window.console && window.console.log && window.console.log($0U);
    };
    DayPilot.Util.adiff = function(a, b, f) {
        var $b = {};
        $b.add = [];
        $b.remove = [];
        return $b;
    };
    DayPilot.Util.workerFrom = function(f) {
        var $02 = f.toString();
        var $0V = $02.slice($02.indexOf("{") + 1, $02.lastIndexOf("};"));
        var $0W = new Blob([$0V]);
        var $0X = window.URL.createObjectURL($0W);
        return new Worker($0X);
    };
    DayPilot.Util.dataUriToBlob = function($0Y) {
        if (typeof $0Y !== "string") {
            throw "DayPilot.Util.dataUriToBlob(): dataURI string expected";
        };
        var $0Z = $0Y.split(",");
        var $10 = $0Z[0];
        var $0V = $0Z[1];
        var $11 = $10.indexOf("base64") !== -1;
        var $12 = $11 ? atob : decodeURI;
        var $13 = $10.split(":")[1].split(";")[0];
        var $14 = $12($0V);
        var $j = new window.Uint8Array($14.length);
        for (var i = 0; i < $14.length; i++) {
            $j[i] = $14.charCodeAt(i);
        };
        return new Blob([$j], {
            "type": $13
        });
    };
    DayPilot.Util.downloadDataUri = function($0Y, name) {
        var $0W = DayPilot.Util.dataUriToBlob($0Y);
        DayPilot.Util.downloadBlob($0W, name);
    };
    DayPilot.Util.downloadBlob = function($0W, name) {
        var name = name || "download";
        if (window.navigator.msSaveBlob) {
            window.navigator.msSaveBlob($0W, name);
        } else {
            var $15 = window.URL.createObjectURL($0W);
            var $16 = document.createElement("a");
            $16.download = name;
            $16.href = $15;
            $16.style = "display:none";
            document.body.appendChild($16);
            $16.click();
            setTimeout(function() {
                document.body.removeChild($16);
                window.URL.revokeObjectURL($15);
            });
        }
    };
    DayPilot.Util.monitor = function($0G, name, $17) {
        var $18 = $0G[name];
        $0G[name] = function() {
            $17.apply($0G, arguments);
            $18.apply($0G, arguments);
        };
    };
    DayPilot.Areas = {};
    DayPilot.Areas.attach = function($a, e, $0j) {
        var $0j = $0j || {};
        var $19 = $0j.areas;
        var $0S = $0j.allowed || function() {
            return true;
        };
        var $1a = $0j.offsetX || 0;
        DayPilot.re($a, "mousemove", function(ev) {
            if (!$a.active && !$a.areasDisabled && $0S()) {
                DayPilot.Areas.showAreas($a, e, ev, $19, {
                    "offsetX": $1a,
                    "eventDiv": $0j.eventDiv
                });
            }
        });
        DayPilot.re($a, "mouseout", function(ev) {
            DayPilot.Areas.hideAreas($a, ev);
        });
        $19 = $1b(e, $19);
        DayPilot.list($19).each(function($1c) {
            var v = $1c.v || "Visible";
            if (v !== "Visible") {
                return;
            };
            var a = DayPilot.Areas.createArea($a, e, $1c, {
                "offsetX": $1a,
                "eventDiv": $0j.eventDiv
            });
            $a.appendChild(a);
        });
    };
    DayPilot.Areas.disable = function($a) {
        $a.areasDisabled = true;
        DayPilot.list($a.childNodes).filter(function($o) {
            return $o.isActiveArea && !$o.area.start;
        }).each(function($o) {
            $o.style.display = "none";
        });
    };
    DayPilot.Areas.enable = function($a) {
        $a.areasDisabled = false;
        DayPilot.list($a.childNodes).filter(function($o) {
            return $o.isActiveArea && !$o.area.start;
        }).each(function($o) {
            $o.style.display = "";
        });
    };
    var $1b = function(e, $19) {
        if (!DayPilot.isArray($19)) {
            $19 = e.areas;
            if (!$19) {
                if (e.cache) {
                    $19 = e.cache.areas;
                } else if (e.data) {
                    $19 = e.data.areas;
                }
            }
        };
        return $19;
    };
    DayPilot.Areas.showAreas = function($a, e, ev, $19, $0j) {
        if (DayPilot.Global.resizing) {
            return;
        };
        if (DayPilot.Global.moving) {
            return;
        };
        if (DayPilot.Areas.all && DayPilot.Areas.all.length > 0) {
            for (var i = 0; i < DayPilot.Areas.all.length; i++) {
                var d = DayPilot.Areas.all[i];
                if (d !== $a) {
                    DayPilot.Areas.hideAreas(d, ev);
                }
            }
        };
        if ($a.active) {
            return;
        };
        $a.active = {};
        if (!DayPilot.isArray($19)) {
            $19 = e.areas;
            if (!$19) {
                if (e.cache) {
                    $19 = e.cache.areas;
                } else if (e.data) {
                    $19 = e.data.areas;
                }
            }
        };
        if (!$19 || $19.length === 0) {
            return;
        };
        if ($a.areas && $a.areas.length > 0) {
            return;
        };
        $a.areas = [];
        for (var i = 0; i < $19.length; i++) {
            var $1c = $19[i];
            var v = $1c.v || "Visible";
            if (v !== 'Hover') {
                continue;
            };
            var a = DayPilot.Areas.createArea($a, e, $1c, $0j);
            $a.areas.push(a);
            $a.appendChild(a);
            DayPilot.Areas.all.push($a);
        };
        $a.active.children = DayPilot.ac($a);
    };
    DayPilot.Areas.createArea = function($a, e, $1c, $0j) {
        var $0j = $0j || {};
        var $1a = $0j.offsetX || 0;
        var $1d = $0j.eventDiv || $a;
        var a = document.createElement("div");
        a.isActiveArea = true;
        a.area = $1c;
        a.setAttribute("unselectable", "on");
        var w = $1c.w || $1c.width;
        var h = $1c.h || $1c.height;
        var $1e = $1c.cssClass || $1c.css || $1c.className;
        if (typeof $1c.style !== "undefined") {
            a.setAttribute("style", $1c.style);
        };
        a.style.position = "absolute";
        if (typeof w !== 'undefined') {
            a.style.width = w + "px";
        };
        if (typeof h !== 'undefined') {
            a.style.height = h + "px";
        };
        if (typeof $1c.right !== 'undefined') {
            a.style.right = $1c.right + "px";
        };
        if (typeof $1c.top !== 'undefined') {
            a.style.top = $1c.top + "px";
        };
        if (typeof $1c.left !== 'undefined') {
            a.style.left = ($1c.left + $1a) + "px";
        };
        if (typeof $1c.bottom !== 'undefined') {
            a.style.bottom = $1c.bottom + "px";
        };
        if (typeof $1c.html !== 'undefined' && $1c.html) {
            a.innerHTML = $1c.html;
        };
        if ($1e) {
            a.className = $1e;
        };
        if ($1c.backColor) {
            a.style.background = $1c.backColor;
        };
        if ($1c.action === "ResizeEnd" || $1c.action === "ResizeStart" || $1c.action === "Move") {
            if (e.calendar.isCalendar) {
                switch ($1c.action) {
                    case "ResizeEnd":
                        $1c.cursor = "s-resize";
                        $1c.dpBorder = "bottom";
                        break;
                    case "ResizeStart":
                        $1c.cursor = "n-resize";
                        $1c.dpBorder = "top";
                        break;
                    case "Move":
                        $1c.cursor = "move";
                        break;
                }
            };
            if (e.calendar.isScheduler || e.calendar.isMonth) {
                switch ($1c.action) {
                    case "ResizeEnd":
                        $1c.cursor = "e-resize";
                        $1c.dpBorder = "right";
                        break;
                    case "ResizeStart":
                        $1c.cursor = "w-resize";
                        $1c.dpBorder = "left";
                        break;
                    case "Move":
                        $1c.cursor = "move";
                        break;
                }
            };
            a.onmousemove = (function($a, e, $1c) {
                return function(ev) {
                    var ev = ev || window.event;
                    ev.cancelBubble = true;
                    if (e.calendar.internal && e.calendar.internal.dragInProgress && e.calendar.internal.dragInProgress()) {
                        return;
                    };
                    $a.style.cursor = $1c.cursor;
                    if ($1c.dpBorder) {
                        $a.dpBorder = $1c.dpBorder;
                    }
                };
            })($1d, e, $1c);
            a.onmouseout = (function($a, e, $1c) {
                return function(ev) {
                    $a.style.cursor = '';
                };
            })($1d, e, $1c);
        };
        if (($1c.action === "ResizeEnd" || $1c.action === "ResizeStart") && e.isEvent) {
            if (e.calendar.internal.touch) {
                var $1f = (function($a, e, $1c) {
                    return function(ev) {
                        ev.cancelBubble = true;
                        var $1g = e.calendar.internal.touch;
                        var t = ev.touches ? ev.touches[0] : ev;
                        var $e = {
                            x: t.pageX,
                            y: t.pageY
                        };
                        e.calendar.coords = $1g.relativeCoords(ev);
                        $1g.preventEventTap = true;
                        if (e.calendar.isScheduler) {
                            $1g.startResizing($a, $1c.action === "ResizeEnd" ? "right" : "left");
                        } else if (e.calendar.isCalendar) {
                            $1g.startResizing($a, $1c.action === "ResizeEnd" ? "bottom" : "top", $e);
                        }
                    };
                })($1d, e, $1c);
                DayPilot.re(a, DayPilot.touch.start, $1f);
            }
        };
        if ($1c.action === "ContextMenu" && e.isEvent) {
            if (e.calendar.internal.touch) {
                var $1f = (function($a, e, $1c) {
                    return function(ev) {
                        ev.cancelBubble = true;
                        ev.preventDefault();
                        showContextMenu(e, $1c, ev);
                        var $1g = e.calendar.internal.touch;
                        $1g.preventEventTap = true;
                    };
                })($1d, e, $1c);
                var $1h = (function($a, e, $1c) {
                    return function(ev) {
                        ev.cancelBubble = true;
                        ev.preventDefault();
                    };
                })($1d, e, $1c);
                DayPilot.re(a, DayPilot.touch.start, $1f);
                DayPilot.re(a, DayPilot.touch.end, $1h);
            }
        };
        if ($1c.action === "Bubble" && e.isEvent) {
            if (e.calendar.internal.touch) {
                var $1f = (function($a, e, $1c) {
                    return function(ev) {
                        ev.cancelBubble = true;
                        ev.preventDefault();
                        showBubble(e, $1c, ev);
                        var $1g = e.calendar.internal.touch;
                        $1g.preventEventTap = true;
                    };
                })($1d, e, $1c);
                var $1h = (function($a, e, $1c) {
                    return function(ev) {
                        ev.cancelBubble = true;
                        ev.preventDefault();
                    };
                })($1d, e, $1c);
                DayPilot.re(a, DayPilot.touch.start, $1f);
                DayPilot.re(a, DayPilot.touch.end, $1h);
            }
        };
        if ($1c.action === "Move" && e.isEvent) {
            if (e.calendar.internal.touch) {
                var $1f = (function($a, e, $1c) {
                    return function(ev) {
                        ev.cancelBubble = true;
                        var $1g = e.calendar.internal.touch;
                        var t = ev.touches ? ev.touches[0] : ev;
                        var $e = {
                            x: t.pageX,
                            y: t.pageY
                        };
                        e.calendar.coords = $1g.relativeCoords(ev);
                        $1g.preventEventTap = true;
                        $1g.startMoving($a, $e);
                    };
                })($1d, e, $1c);
                DayPilot.re(a, DayPilot.touch.start, $1f);
            }
        };
        if ($1c.action === "Move" && e.isRow) {
            if (e.calendar.internal.touch) {}
        };
        if ($1c.action === "Bubble" && e.isEvent) {
            a.onmousemove = (function($a, e, $1c) {
                return function(ev) {
                    if (e.calendar.bubble) {
                        e.calendar.bubble.showEvent(e, true);
                    }
                };
            })($a, e, $1c);
            a.onmouseout = (function($a, e, $1c) {
                return function(ev) {
                    if (typeof DayPilot.Bubble !== "undefined") {
                        if (e.calendar.bubble) {
                            e.calendar.bubble.hideOnMouseOut();
                        }
                    }
                };
            })($a, e, $1c);
        };
        if ($1c.action === "HoverMenu") {
            a.onmousemove = (function($a, e, $1c) {
                return function(ev) {
                    var m = $1c.menu;
                    if (typeof m === 'string') {
                        m = DayPilot.Util.evalVariable(m);
                    };
                    if (m && m.show) {
                        if (!m.visible) {
                            m.show(e);
                        } else if (m.source && typeof m.source.id !== 'undefined' && m.source.id !== e.id) {
                            m.show(e);
                        };
                        m.cancelHideTimeout();
                    }
                };
            })($a, e, $1c);
            a.onmouseout = (function($a, e, $1c) {
                return function(ev) {
                    var m = $1c.menu;
                    if (typeof m === 'string') {
                        m = DayPilot.Util.evalVariable(m);
                    };
                    if (!m) {
                        return;
                    };
                    if (m.hideOnMouseOver) {
                        m.delayedHide();
                    }
                };
            })($a, e, $1c);
        };
        if ($1c.action === "JavaScript") {
            var $1f = (function($a, e, $1c) {
                return function(ev) {
                    if (DayPilot.Util.isMouseEvent(ev)) {
                        return;
                    };
                    ev.cancelBubble = true;
                    ev.preventDefault();
                    var $1g = e.calendar.internal.touch;
                    $1g.start = true;
                };
            })($1d, e, $1c);
            var $1h = (function($a, e, $1c) {
                return function(ev) {
                    if (DayPilot.Util.isMouseEvent(ev)) {
                        return;
                    };
                    ev.cancelBubble = true;
                    ev.preventDefault();
                    var $1g = e.calendar.internal.touch;
                    $1g.start = false;
                    var f = $1c.js;
                    if (typeof f === 'string') {
                        f = DayPilot.Util.evalFunction($1c.js);
                    };
                    if (typeof f === 'function') {
                        var $d = $1c.target || e;
                        f.call(this, $d);
                    }
                };
            })($1d, e, $1c);
            DayPilot.re(a, DayPilot.touch.start, $1f);
            DayPilot.re(a, DayPilot.touch.end, $1h);
        };
        a.onmousedown = (function($a, e, $1c) {
            return function(ev) {
                if (typeof $1c.onmousedown === 'function') {
                    $1c.onmousedown(ev);
                };
                if (typeof $1c.mousedown === 'function') {
                    var $Y = {};
                    $Y.area = $1c;
                    $Y.div = $a;
                    $Y.originalEvent = ev;
                    $Y.source = e;
                    $1c.mousedown($Y);
                };
                if ($1c.action === "Move" && e.isRow) {
                    var $1i = e.$.row;
                    var $1j = e.calendar.internal.rowtools;
                    $1j.startMoving($1i);
                };
                var $1k = true;
                if ($1k) {
                    if ($1c.action === "Move" || $1c.action === "ResizeEnd" || $1c.action === "ResizeStart" || !$1c.action) {
                        return;
                    };
                    ev = ev || window.event;
                    ev.preventDefault();
                    ev.cancelBubble = true;
                }
            };
        })($a, e, $1c);
        a.onclick = (function($a, e, $1c) {
            return function(ev) {
                var ev = ev || window.event;
                if (!$1c.action) {
                    return;
                };
                switch ($1c.action) {
                    case "JavaScript":
                        var f = $1c.js;
                        if (typeof f === 'string') {
                            f = DayPilot.Util.evalFunction($1c.js);
                        };
                        if (typeof f === 'function') {
                            var $d = $1c.target || e;
                            f.call(this, $d);
                        };
                        break;
                    case "ContextMenu":
                        showContextMenu(e, $1c, ev);
                        break;
                    case "CallBack":
                        alert("callback not implemented yet, id: " + $1c.id);
                        break;
                };
                ev.cancelBubble = true;
            };
        })($a, e, $1c);

        function showBubble(e, $1c, ev) {
            if (DayPilot.Bubble) {
                DayPilot.Bubble.touchPosition(ev);
            };
            if (e.calendar.bubble) {
                e.calendar.bubble.showEvent(e, true);
            }
        };

        function showContextMenu(e, $1c, ev) {
            if (DayPilot.Menu) {
                DayPilot.Menu.touchPosition(ev);
            };
            var m = $1c.menu;
            if (typeof m === 'string') {
                m = DayPilot.Util.evalVariable(m);
            } else if (e.isEvent && e.calendar.contextMenu) {
                m = DayPilot.Util.evalVariable(e.calendar.contextMenu);
            } else if (e.isRow && e.calendar.contextMenu) {
                m = DayPilot.Util.evalVariable(e.calendar.contextMenuResource);
            };
            if (m && m.show) {
                m.show(e);
            }
        };
        return a;
    };
    DayPilot.Areas.all = [];
    DayPilot.Areas.hideAreas = function($a, ev) {
        if (!$a) {
            return;
        };
        if (!$a || !$a.active) {
            return;
        };
        var $1l = $a.active;
        var $19 = $a.areas;
        if ($1l && $1l.children) {
            var ev = ev || window.event;
            if (ev) {
                var $d = ev.toElement || ev.relatedTarget;
                if (~DayPilot.indexOf($1l.children, $d)) {
                    return;
                }
            }
        };
        if (!$19 || $19.length === 0) {
            $a.active = null;
            return;
        };
        DayPilot.de($19);
        $a.active = null;
        $a.areas = [];
        DayPilot.rfa(DayPilot.Areas.all, $a);
        $1l.children = null;
    };
    DayPilot.Areas.hideAll = function(ev) {
        if (!DayPilot.Areas.all || DayPilot.Areas.all.length === 0) {
            return;
        };
        for (var i = 0; i < DayPilot.Areas.all.length; i++) {
            DayPilot.Areas.hideAreas(DayPilot.Areas.all[i], ev);
        }
    };
    DayPilot.Action = function($Z, name, $1m, $1n) {
        var $1o = this;
        this.calendar = $Z;
        this.isAction = true;
        this.action = name;
        this.params = $1m;
        this.data = $1n;
        this.notify = function() {
            $1o.calendar.internal.invokeEvent("Immediate", this.action, this.params, this.data);
        };
        this.auto = function() {
            $1o.calendar.internal.invokeEvent("Notify", this.action, this.params, this.data);
        };
        this.queue = function() {
            $1o.calendar.queue.add(this);
        };
        this.toJSON = function() {
            var $1p = {};
            $1p.name = this.action;
            $1p.params = this.params;
            $1p.data = this.data;
            return $1p;
        };
    };
    DayPilot.Selection = function($s, end, $1q, $1r) {
        this.menuType = 'selection';
        this.start = new DayPilot.Date($s);
        this.end = new DayPilot.Date(end);
        this.resource = $1q;
        this.root = $1r;
        this.calendar = $1r;
        this.toJSON = function($1s) {
            var $1p = {};
            $1p.start = this.start;
            $1p.end = this.end;
            $1p.resource = this.resource;
            return $1p;
        };
    };
    DayPilot.Link = function($1n, $Z) {
        this.isLink = true;
        this.data = $1n;
        this.calendar = $Z;
        this.to = function() {
            return this.data.to;
        };
        this.from = function() {
            return this.data.from;
        };
        this.type = function() {
            return this.data.type;
        };
        this.id = function() {
            return this.data.id;
        };
        this.toJSON = function() {
            var $1p = {};
            $1p.from = this.data.from;
            $1p.to = this.data.to;
            $1p.id = this.data.id;
            $1p.type = this.data.type;
            return $1p;
        };
    };
    DayPilot.Args = function() {
        this.isArgs = true;
        this.preventDefault = function() {
            this.preventDefault.value = true;
        };
    };
    DayPilot.Event = function($1n, $Z, $1t) {
        var e = this;
        this.calendar = $Z;
        this.data = $1n ? $1n : {};
        this.part = $1t ? $1t : {};
        if (typeof this.data.id === 'undefined') {
            this.data.id = this.data.value;
        };
        var $1u = {};
        var $1v = ["id", "text", "start", "end", "resource"];
        this.isEvent = true;
        DayPilot.Stats.eventObjects += 1;
        this.temp = function() {
            if ($1u.dirty) {
                return $1u;
            };
            for (var i = 0; i < $1v.length; i++) {
                $1u[$1v[i]] = e.data[$1v[i]];
            };
            $1u.dirty = true;
            return $1u;
        };
        this.copy = function() {
            var $b = {};
            DayPilot.Util.copyProps(e.data, $b);
            return $b;
        };
        this.commit = function() {
            if (!$1u.dirty) {
                return;
            };
            for (var i = 0; i < $1v.length; i++) {
                e.data[$1v[i]] = $1u[$1v[i]];
            };
            $1u.dirty = false;
        };
        this.dirty = function() {
            return $1u.dirty;
        };
        this.id = function($0T) {
            if (typeof $0T === 'undefined') {
                return e.data.id;
            } else {
                this.temp().id = $0T;
            }
        };
        this.value = function($0T) {
            if (typeof $0T === 'undefined') {
                return e.id();
            } else {
                e.id($0T);
            }
        };
        this.text = function($0T) {
            if (typeof $0T === 'undefined') {
                return e.data.text;
            } else {
                this.temp().text = $0T;
                this.client.innerHTML($0T);
            }
        };
        this.start = function($0T) {
            if (typeof $0T === 'undefined') {
                return new DayPilot.Date(e.data.start);
            } else {
                this.temp().start = new DayPilot.Date($0T);
            }
        };
        this.end = function($0T) {
            if (typeof $0T === 'undefined') {
                if ($Z && $Z.internal.adjustEndNormalize) {
                    return $Z.internal.adjustEndNormalize(new DayPilot.Date(e.data.end));
                };
                return new DayPilot.Date(e.data.end);
            } else {
                this.temp().end = new DayPilot.Date($0T);
            }
        };
        this.rawend = function() {
            if (typeof $0T === 'undefined') {
                if ($Z && $Z.internal.adjustEndIn) {
                    return $Z.internal.adjustEndIn(new DayPilot.Date(e.data.end));
                };
                return new DayPilot.Date(e.data.end);
            } else {
                this.temp().end = new DayPilot.Date($0T);
            }
        };
        this.partStart = function() {
            return new DayPilot.Date(this.part.start);
        };
        this.partEnd = function() {
            return new DayPilot.Date(this.part.end);
        };
        this.row = function() {
            return this.resource();
        };
        this.allday = function() {
            if (typeof $0T === 'undefined') {
                return e.data.allday;
            } else {
                this.temp().allday = $0T;
            }
        };
        this.isAllDay = this.allday;
        this.resource = function($0T) {
            if (typeof $0T === 'undefined') {
                return e.data.resource;
            } else {
                this.temp().resource = $0T;
            }
        };
        this.recurrent = function() {
            return e.data.recurrent;
        };
        this.recurrentMasterId = function() {
            return e.data.recurrentMasterId;
        };
        this.useBox = function() {
            return this.part.box;
        };
        this.staticBubbleHTML = function() {
            return this.bubbleHtml();
        };
        this.bubbleHtml = function() {
            if (e.cache) {
                return e.cache.bubbleHtml || e.data.bubbleHtml;
            };
            return e.data.bubbleHtml;
        };
        this.tag = function($1w) {
            if (e.data.tags) {
                return e.data.tags[$1w];
            } else {
                var $1x = e.data.tag;
                if (!$1x) {
                    return null;
                };
                if (typeof $1w === 'undefined') {
                    return e.data.tag;
                };
                var $p = e.calendar.tagFields;
                var $W = -1;
                for (var i = 0; i < $p.length; i++) {
                    if ($1w === $p[i]) $W = i;
                };
                if ($W === -1) {
                    throw "Field name not found.";
                };
                return $1x[$W];
            }
        };
        this.client = {};
        this.client.innerHTML = function($0T) {
            if (typeof $0T === 'undefined') {
                if (e.cache && typeof e.cache.html !== "undefined") {
                    return e.cache.html;
                };
                if (typeof e.data.html !== "undefined") {
                    return e.data.html;
                };
                return e.data.text;
            } else {
                e.data.html = $0T;
                if (e.cache) {
                    e.cache.html = $0T;
                }
            }
        };
        this.client.html = this.client.innerHTML;
        this.client.header = function($0T) {
            if (typeof $0T === 'undefined') {
                return e.data.header;
            } else {
                e.data.header = $0T;
            }
        };
        this.client.cssClass = function($0T) {
            if (typeof $0T === 'undefined') {
                return e.data.cssClass;
            } else {
                e.data.cssClass = $0T;
            }
        };
        this.client.toolTip = function($0T) {
            if (typeof $0T === 'undefined') {
                if (e.cache && typeof e.cache.toolTip !== "undefined") {
                    return e.cache.toolTip;
                };
                return typeof e.data.toolTip !== 'undefined' ? e.data.toolTip : e.data.text;
            } else {
                e.data.toolTip = $0T;
            }
        };
        this.client.backColor = function($0T) {
            if (typeof $0T === 'undefined') {
                if (e.cache && typeof e.cache.backColor !== "undefined") {
                    return e.cache.backColor;
                };
                return typeof e.data.backColor !== "undefined" ? e.data.backColor : e.calendar.eventBackColor;
            } else {
                e.data.backColor = $0T;
            }
        };
        this.client.borderColor = function($0T) {
            if (typeof $0T === 'undefined') {
                if (e.cache && typeof e.cache.borderColor !== "undefined") {
                    return e.cache.borderColor;
                };
                return typeof e.data.borderColor !== "undefined" ? e.data.borderColor : e.calendar.eventBorderColor;
            } else {
                e.data.borderColor = $0T;
            }
        };
        this.client.barColor = function($0T) {
            if (typeof $0T === 'undefined') {
                if (e.cache && typeof e.cache.barColor !== "undefined") {
                    return e.cache.barColor;
                };
                return typeof e.data.barColor !== "undefined" ? e.data.barColor : e.calendar.durationBarColor;
            } else {
                e.data.barColor = $0T;
            }
        };
        this.client.barVisible = function($0T) {
            if (typeof $0T === 'undefined') {
                if (e.cache && typeof e.cache.barHidden !== "undefined") {
                    return !e.cache.barHidden;
                };
                return e.calendar.durationBarVisible && !e.data.barHidden;
            } else {
                e.data.barHidden = !$0T;
            }
        };
        this.client.contextMenu = function($0T) {
            if (typeof $0T === 'undefined') {
                if (e.oContextMenu) {
                    return e.oContextMenu;
                };
                var cm = e.cache ? e.cache.contextMenu : e.data.contextMenu;
                return (cm) ? DayPilot.Util.evalVariable(cm) : null;
            } else {
                e.oContextMenu = $0T;
            }
        };
        this.client.moveEnabled = function($0T) {
            if (typeof $0T === 'undefined') {
                if (e.cache && typeof e.cache.moveDisabled !== "undefined") {
                    return !e.cache.moveDisabled;
                };
                return e.calendar.eventMoveHandling !== 'Disabled' && !e.data.moveDisabled;
            } else {
                e.data.moveDisabled = !$0T;
            }
        };
        this.client.resizeEnabled = function($0T) {
            if (typeof $0T === 'undefined') {
                if (e.cache && typeof e.cache.resizeDisabled !== "undefined") {
                    return !e.cache.resizeDisabled;
                };
                return e.calendar.eventResizeHandling !== 'Disabled' && !e.data.resizeDisabled;
            } else {
                e.data.resizeDisabled = !$0T;
            }
        };
        this.client.rightClickEnabled = function($0T) {
            if (typeof $0T === 'undefined') {
                if (e.cache && typeof e.cache.rightClickDisabled !== "undefined") {
                    return !e.cache.rightClickDisabled;
                };
                return e.calendar.rightClickHandling !== 'Disabled' && !e.data.rightClickDisabled;
            } else {
                e.data.rightClickDisabled = !$0T;
            }
        };
        this.client.clickEnabled = function($0T) {
            if (typeof $0T === 'undefined') {
                if (e.cache && typeof e.cache.clickDisabled !== "undefined") {
                    return !e.cache.clickDisabled;
                };
                return e.calendar.clickHandling !== 'Disabled' && !e.data.clickDisabled;
            } else {
                e.data.clickDisabled = !$0T;
            }
        };
        this.client.deleteEnabled = function($0T) {
            if (typeof $0T === 'undefined') {
                if (e.cache && typeof e.cache.deleteDisabled !== "undefined") {
                    return !e.cache.deleteDisabled;
                };
                return e.calendar.eventDeleteHandling !== 'Disabled' && !e.data.deleteDisabled;
            } else {
                e.data.deleteDisabled = !$0T;
            }
        };
        this.client.doubleClickEnabled = function($0T) {
            if (typeof $0T === 'undefined') {
                if (e.cache && typeof e.cache.doubleClickDisabled !== "undefined") {
                    return !e.cache.doubleClickDisabled;
                };
                return e.calendar.eventDoubleClickHandling !== 'Disabled' && !e.data.doubleClickDisabled;
            } else {
                e.data.doubleClickDisabled = !$0T;
            }
        };
        this.client.deleteClickEnabled = function($0T) {
            if (typeof $0T === 'undefined') {
                if (e.cache && typeof e.cache.deleteDisabled !== "undefined") {
                    return !e.cache.deleteDisabled;
                };
                return e.calendar.eventDeleteHandling !== 'Disabled' && !e.data.deleteDisabled;
            } else {
                e.data.deleteDisabled = !$0T;
            }
        };
        this.toJSON = function($1s) {
            var $1p = {};
            $1p.value = this.id();
            $1p.id = this.id();
            $1p.text = this.text();
            $1p.start = this.start().toJSON();
            $1p.end = this.end().toJSON();
            $1p.resource = this.resource();
            $1p.isAllDay = false;
            $1p.recurrentMasterId = this.recurrentMasterId();
            $1p.join = this.data.join;
            $1p.tag = {};
            if (e.data.tags) {
                for (var name in e.data.tags) {
                    if (e.data.tags.hasOwnProperty(name)) {
                        $1p.tag[name] = "" + e.data.tags[name];
                    }
                }
            } else {
                if (e.calendar && e.calendar.tagFields) {
                    var $p = e.calendar.tagFields;
                    for (var i = 0; i < $p.length; i++) {
                        $1p.tag[$p[i]] = this.tag($p[i]);
                    }
                }
            };
            return $1p;
        };
    };
    DayPilot.Task = function($1n, $Z) {
        if (!$1n) {
            throw "Trying to initialize DayPilot.Task with null data parameter";
        };
        var e = this;
        var event = null;
        if ($1n instanceof DayPilot.Event) {
            event = $1n;
            this.data = $1n.data.task;
        } else if ($1n instanceof DayPilot.Task) {
            return $1n;
        } else if ($1n.isTaskWrapper) {
            this.data = $1n.data;
        } else {
            this.data = $1n;
        };
        var $1u = {};
        var $1v = ["id", "text", "start", "end", "complete", "type"];
        this.isTask = true;
        this.calendar = $Z;
        this.temp = function() {
            if ($1u.dirty) {
                return $1u;
            };
            for (var i = 0; i < $1v.length; i++) {
                $1u[$1v[i]] = e.data[$1v[i]];
            };
            $1u.dirty = true;
            return $1u;
        };
        this.copy = function() {
            var $b = {};
            DayPilot.Util.copyProps(e.data, $b);
            return $b;
        };
        this.commit = function() {
            if (!$1u.dirty) {
                return;
            };
            for (var i = 0; i < $1v.length; i++) {
                e.data[$1v[i]] = $1u[$1v[i]];
            };
            $1u.dirty = false;
        };
        this.dirty = function() {
            return $1u.dirty;
        };
        this.id = function($0T) {
            if (typeof $0T === 'undefined') {
                return e.data.id;
            } else {
                this.temp().id = $0T;
            }
        };
        this.text = function($0T) {
            if (typeof $0T === 'undefined') {
                return e.data.text;
            } else {
                this.temp().text = $0T;
                this.client.innerHTML($0T);
            }
        };
        this.start = function($0T) {
            if (typeof $0T === 'undefined') {
                return new DayPilot.Date(e.data.start);
            } else {
                this.temp().start = new DayPilot.Date($0T);
            }
        };
        this.duration = function() {
            return new DayPilot.Duration(this.start(), this.end());
        };
        this.end = function($0T) {
            if (typeof $0T === 'undefined') {
                if ($Z && $Z.eventEndSpec === "Date") {
                    return new DayPilot.Date(e.data.end).getDatePart().addDays(1);
                };
                return new DayPilot.Date(e.data.end);
            } else {
                this.temp().end = new DayPilot.Date($0T);
            }
        };
        this.type = function($0T) {
            if (typeof $0T === 'undefined') {
                if (event) {
                    return event.data.type;
                };
                return e.data.type;
            } else {
                this.temp().type = $0T;
            }
        };
        this.complete = function($0T) {
            if (typeof $0T === 'undefined') {
                if (!e.data.complete) {
                    return 0;
                };
                return e.data.complete;
            } else {
                this.temp().complete = $0T;
            }
        };
        this.children = function() {
            var $n = [];
            $n.add = function($1n) {
                var $1y = new DayPilot.Task($1n);
                if (!this.data.children) {
                    this.data.children = [];
                };
                this.children.push($1y.data);
            };
            for (var i = 0; this.data.children && i < this.data.children.length; i++) {
                $n.push(new DayPilot.Task(this.data.children[i], $Z));
            };
            return $n;
        };
        this.toJSON = function($1s) {
            var $1p = {};
            $1p.id = this.id();
            $1p.text = this.text();
            $1p.start = this.start().toJSON();
            $1p.end = this.end().toJSON();
            $1p.type = this.type();
            $1p.tags = {};
            DayPilot.Util.copyProps(this.data.tags, $1p.tags);
            return $1p;
        };
        this.row = {};
        var $1i = this.row;
        $1i.expanded = function($0T) {
            if (typeof $0T === 'undefined') {
                if (!e.data.row) {
                    return true;
                };
                return !e.data.row.collapsed;
            } else {
                if (!e.data.row) {
                    e.data.row = {};
                };
                if (!!e.data.row.collapsed !== !$0T) {
                    $Z.internal.rowObjectForTaskData(e.data).toggle();
                };
                e.data.row.collapsed = !$0T;
            }
        };
        $1i.expand = function() {
            $1i.expanded(true);
        };
        $1i.collapse = function() {
            $1i.expanded(false);
        };
        $1i.toggle = function() {
            $1i.expanded(!$1i.expanded());
        };
    };
    DayPilot.request = function($15, $1z, $1A, $1B) {
        var $1C = DayPilot.createXmlHttp();
        if (!$1C) {
            return;
        };
        $1C.open("POST", $15, true);
        $1C.setRequestHeader('Content-type', 'text/plain');
        $1C.onreadystatechange = function() {
            if ($1C.readyState !== 4) return;
            if ($1C.status !== 200 && $1C.status !== 304) {
                if ($1B) {
                    $1B($1C);
                } else {
                    if (window.console) {
                        console.log('HTTP error ' + $1C.status);
                    }
                };
                return;
            };
            $1z($1C);
        };
        if ($1C.readyState === 4) {
            return;
        };
        if (typeof $1A === 'object') {
            $1A = DayPilot.JSON.stringify($1A);
        };
        $1C.send($1A);
    };
    DayPilot.ajax = function($Q) {
        var $1C = DayPilot.createXmlHttp();
        if (!$1C) {
            return;
        };
        var $1D = $Q.method || "GET";
        var $1E = $Q.success || function() {};
        var $1F = $Q.error || function() {};
        var $1n = $Q.data;
        var $15 = $Q.url;
        $1C.open($1D, $15, true);
        $1C.setRequestHeader('Content-type', 'text/plain');
        $1C.onreadystatechange = function() {
            if ($1C.readyState !== 4) return;
            if ($1C.status !== 200 && $1C.status !== 304) {
                if ($1F) {
                    var $Y = {};
                    $Y.request = $1C;
                    $1F($Y);
                } else {
                    if (window.console) {
                        console.log('HTTP error ' + $1C.status);
                    }
                };
                return;
            };
            var $Y = {};
            $Y.request = $1C;
            $1E($Y);
        };
        if ($1C.readyState === 4) {
            return;
        };
        if (typeof $1n === 'object') {
            $1n = DayPilot.JSON.stringify($1n);
        };
        $1C.send($1n);
    };
    DayPilot.createXmlHttp = function() {
        return new XMLHttpRequest();
    };
    DayPilot.Duration = function($1G) {
        var d = this;
        var $1H = 1000 * 60 * 60 * 24;
        var $1I = 1000 * 60 * 60;
        var $1J = 1000 * 60;
        var $1K = 1000;
        if (arguments.length === 2) {
            var $s = arguments[0];
            var end = arguments[1];
            if (!($s instanceof DayPilot.Date)) {
                throw "DayPilot.Duration(): Invalid start argument, DayPilot.Date expected";
            };
            if (!(end instanceof DayPilot.Date)) {
                throw "DayPilot.Duration(): Invalid end argument, DayPilot.Date expected";
            };
            this.ticks = end.getTime() - $s.getTime();
        } else {
            this.ticks = $1G;
        };
        this.toString = function($1L) {
            if (!$1L) {
                return d.days() + "." + d.hours() + ":" + d.minutes() + ":" + d.seconds() + "." + d.milliseconds();
            };
            var $1M = d.minutes();
            $1M = ($1M < 10 ? "0" : "") + $1M;
            var $b = $1L;
            $b = $b.replace("mm", $1M);
            $b = $b.replace("m", d.minutes());
            $b = $b.replace("H", d.hours());
            $b = $b.replace("h", d.hours());
            $b = $b.replace("d", d.days());
            $b = $b.replace("s", d.seconds());
            return $b;
        };
        this.totalHours = function() {
            return d.ticks / $1I;
        };
        this.totalDays = function() {
            return d.ticks / $1H;
        };
        this.totalHours = function() {
            return d.ticks / $1I;
        };
        this.totalMinutes = function() {
            return d.ticks / $1J;
        };
        this.totalSeconds = function() {
            return d.ticks / $1K;
        };
        this.days = function() {
            return Math.floor(d.totalDays());
        };
        this.hours = function() {
            var $1N = d.ticks - d.days() * $1H;
            return Math.floor($1N / $1I);
        };
        this.minutes = function() {
            var $1O = d.ticks - Math.floor(d.totalHours()) * $1I;
            return Math.floor($1O / $1J);
        };
        this.seconds = function() {
            var $1P = d.ticks - Math.floor(d.totalMinutes()) * $1J;
            return Math.floor($1P / $1K);
        };
        this.milliseconds = function() {
            return d.ticks % $1K;
        };
    };
    DayPilot.TimeSpan = function() {
        DayPilot.Duration.apply(this, arguments);
    };
    try {
        DayPilot.TimeSpan.prototype = Object.create(DayPilot.Duration.prototype);
    } catch (e) {};
    DayPilot.Date = function($1Q, $1R) {
        if ($1Q instanceof DayPilot.Date) {
            return $1Q;
        };
        var $1G;
        if (DayPilot.Util.isNullOrUndefined($1Q)) {
            $1G = DayPilot.DateUtil.fromLocal().getTime();
            $1Q = $1G;
        };
        var $1S = DayPilot.Date.Cache.Ctor;
        if ($1S[$1Q]) {
            DayPilot.Stats.cacheHitsCtor += 1;
            return $1S[$1Q];
        };
        var $1T = false;
        if (typeof $1Q === "string") {
            $1G = DayPilot.DateUtil.fromStringSortable($1Q, $1R).getTime();
            $1T = true;
        } else if (typeof $1Q === "number") {
            if (isNaN($1Q)) {
                throw "Cannot create DayPilot.Date from NaN";
            };
            $1G = $1Q;
        } else if ($1Q instanceof Date) {
            if ($1R) {
                $1G = DayPilot.DateUtil.fromLocal($1Q).getTime();
            } else {
                $1G = $1Q.getTime();
            }
        } else {
            throw "Unrecognized parameter: use Date, number or string in ISO 8601 format";
        };
        var $1U = ticksToSortable($1G);
        if ($1S[$1U]) {
            return $1S[$1U];
        };
        $1S[$1U] = this;
        $1S[$1G] = this;
        if ($1T && $1U !== $1Q && DayPilot.DateUtil.hasTzSpec($1Q)) {
            $1S[$1Q] = this;
        };
        if (Object.defineProperty && !DayPilot.browser.ielt9) {
            Object.defineProperty(this, "ticks", {
                get: function() {
                    return $1G;
                }
            });
            Object.defineProperty(this, "value", {
                "value": $1U,
                "writable": false,
                "enumerable": true
            });
        } else {
            this.ticks = $1G;
            this.value = $1U;
        };
        if (DayPilot.Date.Config.legacyShowD) {
            this.d = new Date($1G);
        };
        DayPilot.Stats.dateObjects += 1;
    };
    DayPilot.Date.Config = {};
    DayPilot.Date.Config.legacyShowD = false;
    DayPilot.Date.Cache = {};
    DayPilot.Date.Cache.Parsing = {};
    DayPilot.Date.Cache.Ctor = {};
    DayPilot.Date.Cache.Ticks = {};
    DayPilot.Date.Cache.clear = function() {
        DayPilot.Date.Cache.Parsing = {};
        DayPilot.Date.Cache.Ctor = {};
        DayPilot.Date.Cache.Ticks = {};
    };
    DayPilot.Date.prototype.addDays = function($1V) {
        return new DayPilot.Date(this.ticks + $1V * 24 * 60 * 60 * 1000);
    };
    DayPilot.Date.prototype.addHours = function($1W) {
        return this.addTime($1W * 60 * 60 * 1000);
    };
    DayPilot.Date.prototype.addMilliseconds = function($1X) {
        return this.addTime($1X);
    };
    DayPilot.Date.prototype.addMinutes = function($1M) {
        return this.addTime($1M * 60 * 1000);
    };
    DayPilot.Date.prototype.addMonths = function($1Y) {
        var $1Q = new Date(this.ticks);
        if ($1Y === 0) return this;
        var y = $1Q.getUTCFullYear();
        var m = $1Q.getUTCMonth() + 1;
        if ($1Y > 0) {
            while ($1Y >= 12) {
                $1Y -= 12;
                y++;
            };
            if ($1Y > 12 - m) {
                y++;
                m = $1Y - (12 - m);
            } else {
                m += $1Y;
            }
        } else {
            while ($1Y <= -12) {
                $1Y += 12;
                y--;
            };
            if (m + $1Y <= 0) {
                y--;
                m = 12 + m + $1Y;
            } else {
                m = m + $1Y;
            }
        };
        var d = new Date($1Q.getTime());
        d.setUTCDate(1);
        d.setUTCFullYear(y);
        d.setUTCMonth(m - 1);
        var $1Z = new DayPilot.Date(d).daysInMonth();
        d.setUTCDate(Math.min($1Z, $1Q.getUTCDate()));
        return new DayPilot.Date(d);
    };
    DayPilot.Date.prototype.addSeconds = function($20) {
        return this.addTime($20 * 1000);
    };
    DayPilot.Date.prototype.addTime = function($1G) {
        return new DayPilot.Date(this.ticks + $1G);
    };
    DayPilot.Date.prototype.addYears = function($21) {
        var $18 = new Date(this.ticks);
        var d = new Date(this.ticks);
        var y = this.getYear() + $21;
        var m = this.getMonth();
        d.setUTCDate(1);
        d.setUTCFullYear(y);
        d.setUTCMonth(m);
        var $1Z = new DayPilot.Date(d).daysInMonth();
        d.setUTCDate(Math.min($1Z, $18.getUTCDate()));
        return new DayPilot.Date(d);
    };
    DayPilot.Date.prototype.dayOfWeek = function() {
        return new Date(this.ticks).getUTCDay();
    };
    DayPilot.Date.prototype.getDayOfWeek = function() {
        return new Date(this.ticks).getUTCDay();
    };
    DayPilot.Date.prototype.daysInMonth = function() {
        var $1Q = new Date(this.ticks);
        var $22 = $1Q.getUTCMonth() + 1;
        var $23 = $1Q.getUTCFullYear();
        var m = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
        if ($22 !== 2) return m[$22 - 1];
        if ($23 % 4 !== 0) return m[1];
        if ($23 % 100 === 0 && $23 % 400 !== 0) return m[1];
        return m[1] + 1;
    };
    DayPilot.Date.prototype.daysInYear = function() {
        var $23 = this.getYear();
        if ($23 % 4 !== 0) {
            return 365;
        };
        if ($23 % 100 === 0 && $23 % 400 !== 0) {
            return 365;
        };
        return 366;
    };
    DayPilot.Date.prototype.dayOfYear = function() {
        return Math.ceil((this.getDatePart().getTime() - this.firstDayOfYear().getTime()) / 86400000) + 1;
    };
    DayPilot.Date.prototype.equals = function($q) {
        if ($q === null) {
            return false;
        };
        if ($q instanceof DayPilot.Date) {
            return this === $q;
        } else {
            throw "The parameter must be a DayPilot.Date object (DayPilot.Date.equals())";
        }
    };
    DayPilot.Date.prototype.firstDayOfMonth = function() {
        var d = new Date();
        d.setUTCFullYear(this.getYear(), this.getMonth(), 1);
        d.setUTCHours(0);
        d.setUTCMinutes(0);
        d.setUTCSeconds(0);
        d.setUTCMilliseconds(0);
        return new DayPilot.Date(d);
    };
    DayPilot.Date.prototype.firstDayOfYear = function() {
        var $23 = this.getYear();
        var d = new Date();
        d.setUTCFullYear($23, 0, 1);
        d.setUTCHours(0);
        d.setUTCMinutes(0);
        d.setUTCSeconds(0);
        d.setUTCMilliseconds(0);
        return new DayPilot.Date(d);
    };
    DayPilot.Date.prototype.firstDayOfWeek = function($24) {
        var d = this;
        var $24 = $24 || 0;
        var $1H = d.dayOfWeek();
        while ($1H !== $24) {
            d = d.addDays(-1);
            $1H = d.dayOfWeek();
        };
        return new DayPilot.Date(d);
    };
    DayPilot.Date.prototype.getDay = function() {
        return new Date(this.ticks).getUTCDate();
    };
    DayPilot.Date.prototype.getDatePart = function() {
        var d = new Date(this.ticks);
        d.setUTCHours(0);
        d.setUTCMinutes(0);
        d.setUTCSeconds(0);
        d.setUTCMilliseconds(0);
        return new DayPilot.Date(d);
    };
    DayPilot.Date.prototype.getYear = function() {
        return new Date(this.ticks).getUTCFullYear();
    };
    DayPilot.Date.prototype.getHours = function() {
        return new Date(this.ticks).getUTCHours();
    };
    DayPilot.Date.prototype.getMilliseconds = function() {
        return new Date(this.ticks).getUTCMilliseconds();
    };
    DayPilot.Date.prototype.getMinutes = function() {
        return new Date(this.ticks).getUTCMinutes();
    };
    DayPilot.Date.prototype.getMonth = function() {
        return new Date(this.ticks).getUTCMonth();
    };
    DayPilot.Date.prototype.getSeconds = function() {
        return new Date(this.ticks).getUTCSeconds();
    };
    DayPilot.Date.prototype.getTotalTicks = function() {
        return this.getTime();
    };
    DayPilot.Date.prototype.getTime = function() {
        return this.ticks;
    };
    DayPilot.Date.prototype.getTimePart = function() {
        var $25 = this.getDatePart();
        return DayPilot.DateUtil.diff(this, $25);
    };
    DayPilot.Date.prototype.lastDayOfMonth = function() {
        var d = new Date(this.firstDayOfMonth().getTime());
        var length = this.daysInMonth();
        d.setUTCDate(length);
        return new DayPilot.Date(d);
    };
    DayPilot.Date.prototype.weekNumber = function() {
        var $26 = this.firstDayOfYear();
        var $1V = (this.getTime() - $26.getTime()) / 86400000;
        return Math.ceil(($1V + $26.dayOfWeek() + 1) / 7);
    };
    DayPilot.Date.prototype.weekNumberISO = function() {
        var $27 = false;
        var $28 = this.dayOfYear();
        var $29 = this.firstDayOfYear().dayOfWeek();
        var $2a = this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();
        if ($29 === 0) {
            $29 = 7;
        };
        if ($2a === 0) {
            $2a = 7;
        };
        var $2b = 8 - ($29);
        if ($29 === 4 || $2a === 4) {
            $27 = true;
        };
        var $2c = Math.ceil(($28 - ($2b)) / 7.0);
        var $2d = $2c;
        if ($2b >= 4) {
            $2d = $2d + 1;
        };
        if ($2d > 52 && !$27) {
            $2d = 1;
        };
        if ($2d === 0) {
            $2d = this.firstDayOfYear().addDays(-1).weekNumberISO();
        };
        return $2d;
    };
    DayPilot.Date.prototype.toDateLocal = function() {
        var $1Q = new Date(this.ticks);
        var d = new Date();
        d.setFullYear($1Q.getUTCFullYear(), $1Q.getUTCMonth(), $1Q.getUTCDate());
        d.setHours($1Q.getUTCHours());
        d.setMinutes($1Q.getUTCMinutes());
        d.setSeconds($1Q.getUTCSeconds());
        d.setMilliseconds($1Q.getUTCMilliseconds());
        return d;
    };
    DayPilot.Date.prototype.toDate = function() {
        return new Date(this.ticks);
    };
    DayPilot.Date.prototype.toJSON = function() {
        return this.value;
    };
    DayPilot.Date.prototype.toString = function($1L, $2e) {
        if (typeof $1L === 'undefined') {
            return this.toStringSortable();
        };
        return new $2f($1L, $2e).print(this);
    };
    DayPilot.Date.prototype.toStringSortable = function() {
        return ticksToSortable(this.ticks);
    };

    function ticksToSortable($1G) {
        var $1S = DayPilot.Date.Cache.Ticks;
        if ($1S[$1G]) {
            DayPilot.Stats.cacheHitsTicks += 1;
            return $1S[$1G];
        };
        var d = new Date($1G);
        var $2g;
        var ms = d.getUTCMilliseconds();
        if (ms === 0) {
            $2g = "";
        } else if (ms < 10) {
            $2g = ".00" + ms;
        } else if (ms < 100) {
            $2g = ".0" + ms;
        } else {
            $2g = "." + ms
        };
        var $1K = d.getUTCSeconds();
        if ($1K < 10) $1K = "0" + $1K;
        var $1J = d.getUTCMinutes();
        if ($1J < 10) $1J = "0" + $1J;
        var $1I = d.getUTCHours();
        if ($1I < 10) $1I = "0" + $1I;
        var $1H = d.getUTCDate();
        if ($1H < 10) $1H = "0" + $1H;
        var $22 = d.getUTCMonth() + 1;
        if ($22 < 10) $22 = "0" + $22;
        var $23 = d.getUTCFullYear();
        if ($23 <= 0) {
            throw "The minimum year supported is 1.";
        };
        if ($23 < 10) {
            $23 = "000" + $23;
        } else if ($23 < 100) {
            $23 = "00" + $23;
        } else if ($23 < 1000) {
            $23 = "0" + $23;
        };
        var $b = $23 + "-" + $22 + "-" + $1H + 'T' + $1I + ":" + $1J + ":" + $1K + $2g;
        $1S[$1G] = $b;
        return $b;
    };
    DayPilot.Date.parse = function(str, $1L, $2e) {
        var p = new $2f($1L, $2e);
        return p.parse(str);
    };
    var $2h = 0;
    DayPilot.Date.today = function() {
        return new DayPilot.Date(DayPilot.DateUtil.localToday());
    };
    DayPilot.Date.fromYearMonthDay = function($23, $22, $1H) {
        $22 = $22 || 1;
        $1H = $1H || 1;
        var d = new Date(0);
        d.setUTCFullYear($23);
        d.setUTCMonth($22 - 1);
        d.setUTCDate($1H);
        return new DayPilot.Date(d);
    };
    DayPilot.DateUtil = {};
    DayPilot.DateUtil.fromStringSortable = function($07, $1R) {
        if (!$07) {
            throw "Can't create DayPilot.Date from an empty string";
        };
        var $2i = $07.length;
        var $1Q = $2i === 10;
        var $2j = $2i === 19;
        var long = $2i > 19;
        if (!$1Q && !$2j && !long) {
            throw "Invalid string format (use '2010-01-01' or '2010-01-01T00:00:00'): " + $07;
        };
        if (DayPilot.Date.Cache.Parsing[$07] && !$1R) {
            DayPilot.Stats.cacheHitsParsing += 1;
            return DayPilot.Date.Cache.Parsing[$07];
        };
        var $23 = $07.substring(0, 4);
        var $22 = $07.substring(5, 7);
        var $1H = $07.substring(8, 10);
        var d = new Date(0);
        d.setUTCFullYear($23, $22 - 1, $1H);
        if ($1Q) {
            DayPilot.Date.Cache.Parsing[$07] = d;
            return d;
        };
        var $1W = $07.substring(11, 13);
        var $1M = $07.substring(14, 16);
        var $20 = $07.substring(17, 19);
        d.setUTCHours($1W);
        d.setUTCMinutes($1M);
        d.setUTCSeconds($20);
        if ($2j) {
            DayPilot.Date.Cache.Parsing[$07] = d;
            return d;
        };
        var $2k = $07[19];
        var $2l = 0;
        if ($2k === ".") {
            var ms = parseInt($07.substring(20, 23));
            d.setUTCMilliseconds(ms);
            $2l = DayPilot.DateUtil.getTzOffsetMinutes($07.substring(23));
        } else {
            $2l = DayPilot.DateUtil.getTzOffsetMinutes($07.substring(19));
        };
        var dd = new DayPilot.Date(d);
        if (!$1R) {
            dd = dd.addMinutes(-$2l);
        };
        d = dd.toDate();
        DayPilot.Date.Cache.Parsing[$07] = d;
        return d;
    };
    DayPilot.DateUtil.getTzOffsetMinutes = function($07) {
        if (DayPilot.Util.isNullOrUndefined($07) || $07 === "") {
            return 0;
        };
        if ($07 === "Z") {
            return 0;
        };
        var $2k = $07[0];
        var $2m = parseInt($07.substring(1, 3));
        var $2n = parseInt($07.substring(4));
        var $2l = $2m * 60 + $2n;
        if ($2k === "-") {
            return -$2l;
        } else if ($2k === "+") {
            return $2l;
        } else {
            throw "Invalid timezone spec: " + $07;
        }
    };
    DayPilot.DateUtil.hasTzSpec = function($07) {
        if ($07.indexOf("+")) {
            return true;
        };
        if ($07.indexOf("-")) {
            return true;
        };
        return false;
    };
    DayPilot.DateUtil.daysDiff = function($26, $1K) {
        ($26 && $1K) || (function() {
            throw "two parameters required";
        })();
        $26 = new DayPilot.Date($26);
        $1K = new DayPilot.Date($1K);
        if ($26.getTime() > $1K.getTime()) {
            return null;
        };
        var i = 0;
        var $2o = $26.getDatePart();
        var $2p = $1K.getDatePart();
        while ($2o < $2p) {
            $2o = $2o.addDays(1);
            i++;
        };
        return i;
    };
    DayPilot.DateUtil.daysSpan = function($26, $1K) {
        ($26 && $1K) || (function() {
            throw "two parameters required";
        })();
        $26 = new DayPilot.Date($26);
        $1K = new DayPilot.Date($1K);
        if ($26 === $1K) {
            return 0;
        };
        var $2q = DayPilot.DateUtil.daysDiff($26, $1K);
        if ($1K == $1K.getDatePart()) {
            $2q--;
        };
        return $2q;
    };
    DayPilot.DateUtil.diff = function($26, $1K) {
        if (!($26 && $1K && $26.getTime && $1K.getTime)) {
            throw "Both compared objects must be Date objects (DayPilot.Date.diff).";
        };
        return $26.getTime() - $1K.getTime();
    };
    DayPilot.DateUtil.fromLocal = function($2r) {
        if (!$2r) {
            $2r = new Date();
        };
        var d = new Date();
        d.setUTCFullYear($2r.getFullYear(), $2r.getMonth(), $2r.getDate());
        d.setUTCHours($2r.getHours());
        d.setUTCMinutes($2r.getMinutes());
        d.setUTCSeconds($2r.getSeconds());
        d.setUTCMilliseconds($2r.getMilliseconds());
        return d;
    };
    DayPilot.DateUtil.localToday = function() {
        var d = new Date();
        d.setUTCHours(0);
        d.setUTCMinutes(0);
        d.setUTCSeconds(0);
        d.setUTCMilliseconds(0);
        return d;
    };
    DayPilot.DateUtil.hours = function($1Q, $2s) {
        var $1J = $1Q.getUTCMinutes();
        if ($1J < 10) $1J = "0" + $1J;
        var $1I = $1Q.getUTCHours();
        if ($2s) {
            var am = $1I < 12;
            var $1I = $1I % 12;
            if ($1I === 0) {
                $1I = 12;
            };
            var $2t = am ? "AM" : "PM";
            return $1I + ':' + $1J + ' ' + $2t;
        } else {
            return $1I + ':' + $1J;
        }
    };
    DayPilot.DateUtil.max = function($26, $1K) {
        if ($26.getTime() > $1K.getTime()) {
            return $26;
        } else {
            return $1K;
        }
    };
    DayPilot.DateUtil.min = function($26, $1K) {
        if ($26.getTime() < $1K.getTime()) {
            return $26;
        } else {
            return $1K;
        }
    };
    var $2f = function($1L, $2e) {
        if (typeof $2e === "string") {
            $2e = DayPilot.Locale.find($2e);
        };
        var $2e = $2e || DayPilot.Locale.US;
        var $2u = [{
            "seq": "yyyy",
            "expr": "[0-9]{4,4\u007d",
            "str": function(d) {
                return d.getYear();
            }
        }, {
            "seq": "yy",
            "expr": "[0-9]{2,2\u007d",
            "str": function(d) {
                return d.getYear() % 100;
            }
        }, {
            "seq": "mm",
            "expr": "[0-9]{2,2\u007d",
            "str": function(d) {
                var r = d.getMinutes();
                return r < 10 ? "0" + r : r;
            }
        }, {
            "seq": "m",
            "expr": "[0-9]{1,2\u007d",
            "str": function(d) {
                var r = d.getMinutes();
                return r;
            }
        }, {
            "seq": "HH",
            "expr": "[0-9]{2,2\u007d",
            "str": function(d) {
                var r = d.getHours();
                return r < 10 ? "0" + r : r;
            }
        }, {
            "seq": "H",
            "expr": "[0-9]{1,2\u007d",
            "str": function(d) {
                var r = d.getHours();
                return r;
            }
        }, {
            "seq": "hh",
            "expr": "[0-9]{2,2\u007d",
            "str": function(d) {
                var $1I = d.getHours();
                var $1I = $1I % 12;
                if ($1I === 0) {
                    $1I = 12;
                };
                var r = $1I;
                return r < 10 ? "0" + r : r;
            }
        }, {
            "seq": "h",
            "expr": "[0-9]{1,2\u007d",
            "str": function(d) {
                var $1I = d.getHours();
                var $1I = $1I % 12;
                if ($1I === 0) {
                    $1I = 12;
                };
                return $1I;
            }
        }, {
            "seq": "tt",
            "expr": "(AM|PM)",
            "str": function(d) {
                var $1I = d.getHours();
                var am = $1I < 12;
                return am ? "AM" : "PM";
            }
        }, {
            "seq": "ss",
            "expr": "[0-9]{2,2\u007d",
            "str": function(d) {
                var r = d.getSeconds();
                return r < 10 ? "0" + r : r;
            }
        }, {
            "seq": "s",
            "expr": "[0-9]{1,2\u007d",
            "str": function(d) {
                var r = d.getSeconds();
                return r;
            }
        }, {
            "seq": "MMMM",
            "expr": "[^\\s0-9]*",
            "str": function(d) {
                var r = $2e.monthNames[d.getMonth()];
                return r;
            },
            "transform": function($0y) {
                var $W = DayPilot.indexOf($2e.monthNames, $0y, equalsIgnoreCase);
                if ($W < 0) {
                    return null;
                };
                return $W + 1;
            }
        }, {
            "seq": "MMM",
            "expr": "[^\\s0-9]*",
            "str": function(d) {
                var r = $2e.monthNamesShort[d.getMonth()];
                return r;
            },
            "transform": function($0y) {
                var $W = DayPilot.indexOf($2e.monthNamesShort, $0y, equalsIgnoreCase);
                if ($W < 0) {
                    return null;
                };
                return $W + 1;
            }
        }, {
            "seq": "MM",
            "expr": "[0-9]{2,2\u007d",
            "str": function(d) {
                var r = d.getMonth() + 1;
                return r < 10 ? "0" + r : r;
            }
        }, {
            "seq": "M",
            "expr": "[0-9]{1,2\u007d",
            "str": function(d) {
                var r = d.getMonth() + 1;
                return r;
            }
        }, {
            "seq": "dddd",
            "expr": "[^\\s0-9]*",
            "str": function(d) {
                var r = $2e.dayNames[d.getDayOfWeek()];
                return r;
            }
        }, {
            "seq": "ddd",
            "expr": "[^\\s0-9]*",
            "str": function(d) {
                var r = $2e.dayNamesShort[d.getDayOfWeek()];
                return r;
            }
        }, {
            "seq": "dd",
            "expr": "[0-9]{2,2\u007d",
            "str": function(d) {
                var r = d.getDay();
                return r < 10 ? "0" + r : r;
            }
        }, {
            "seq": "%d",
            "expr": "[0-9]{1,2\u007d",
            "str": function(d) {
                var r = d.getDay();
                return r;
            }
        }, {
            "seq": "d",
            "expr": "[0-9]{1,2\u007d",
            "str": function(d) {
                var r = d.getDay();
                return r;
            }
        }, ];
        var $2v = function($02) {
            return $02.replace(/[-[\]{};()*+?.,\\^$|#\s]/g, "\\$&");
        };
        this.init = function() {
            this.year = this.findSequence("yyyy");
            this.month = this.findSequence("MMMM") || this.findSequence("MMM") || this.findSequence("MM") || this.findSequence("M");
            this.day = this.findSequence("dd") || this.findSequence("d");
            this.hours = this.findSequence("HH") || this.findSequence("H");
            this.minutes = this.findSequence("mm") || this.findSequence("m");
            this.seconds = this.findSequence("ss") || this.findSequence("s");
        };
        this.findSequence = function($2w) {
            function defaultTransform($1U) {
                return parseInt($1U);
            };
            var $W = $1L.indexOf($2w);
            if ($W === -1) {
                return null;
            };
            return {
                "findValue": function($0y) {
                    var $2x = $2v($1L);
                    var $2y = null;
                    for (var i = 0; i < $2u.length; i++) {
                        var $2i = $2u[i].length;
                        var $2z = ($2w === $2u[i].seq);
                        var $2A = $2u[i].expr;
                        if ($2z) {
                            $2A = "(" + $2A + ")";
                            $2y = $2u[i].transform;
                        };
                        $2x = $2x.replace($2u[i].seq, $2A);
                    };
                    $2x = "^" + $2x + "$";
                    try {
                        var r = new RegExp($2x);
                        var $j = r.exec($0y);
                        if (!$j) {
                            return null;
                        };
                        $2y = $2y || defaultTransform;
                        return $2y($j[1]);
                    } catch (e) {
                        throw "unable to create regex from: " + $2x;
                    }
                }
            };
        };
        this.print = function($1Q) {
            var find = function(t) {
                for (var i = 0; i < $2u.length; i++) {
                    if ($2u[i] && $2u[i].seq === t) {
                        return $2u[i];
                    }
                };
                return null;
            };
            var $2B = $1L.length <= 0;
            var $2C = 0;
            var $2D = [];
            while (!$2B) {
                var $2E = $1L.substring($2C);
                var $2F = /%?(.)\1*/.exec($2E);
                if ($2F && $2F.length > 0) {
                    var $2G = $2F[0];
                    var q = find($2G);
                    if (q) {
                        $2D.push(q);
                    } else {
                        $2D.push($2G);
                    };
                    $2C += $2G.length;
                    $2B = $1L.length <= $2C;
                } else {
                    $2B = true;
                }
            };
            for (var i = 0; i < $2D.length; i++) {
                var c = $2D[i];
                if (typeof c !== 'string') {
                    $2D[i] = c.str($1Q);
                }
            };
            return $2D.join("");
        };
        this.parse = function($0y) {
            var $23 = this.year.findValue($0y);
            if (!$23) {
                return null;
            };
            var $22 = this.month.findValue($0y);
            if (DayPilot.Util.isNullOrUndefined($22)) {
                return null;
            };
            if ($22 > 12 || $22 < 1) {
                return null;
            };
            var $1H = this.day.findValue($0y);
            var $2H = DayPilot.Date.fromYearMonthDay($23, $22).daysInMonth();
            if ($1H < 1 || $1H > $2H) {
                return null;
            };
            var $1W = this.hours ? this.hours.findValue($0y) : 0;
            var $1M = this.minutes ? this.minutes.findValue($0y) : 0;
            var $20 = this.seconds ? this.seconds.findValue($0y) : 0;
            var d = new Date();
            d.setUTCFullYear($23, $22 - 1, $1H);
            d.setUTCHours($1W);
            d.setUTCMinutes($1M);
            d.setUTCSeconds($20);
            d.setUTCMilliseconds(0);
            return new DayPilot.Date(d);
        };
        this.init();
    };

    function equalsIgnoreCase($2I, $2J) {
        if (DayPilot.Util.isNullOrUndefined($2I)) {
            return false;
        };
        if (DayPilot.Util.isNullOrUndefined($2J)) {
            return false;
        };
        return $2I.toLocaleLowerCase() === $2J.toLocaleLowerCase();
    };
    DayPilot.Canvas = function($x, $0u, $2K, $2L, $2M) {
        var $2L = $2L || 1;
        var $2N = document.createElement("canvas");
        $2N.width = $x * $2L;
        $2N.height = $0u * $2L;
        var $2O = $2N.getContext("2d");
        $2O.scale($2L, $2L);
        this.defaultFileName = "image.png";
        if ($2K === "image/jpeg") {
            this.defaultFileName = "image.jpg";
            $2M = $2M || 0.92;
        };
        this.fillRect = function($2P, $2Q) {
            $2O.save();
            $2O.strokeStyle = "rgb(0,0,0,0)";
            $2O.fillStyle = $2Q;
            $2O.fillRect($2P.x + .5, $2P.y + .5, $2P.w - .5, $2P.h - .5);
            $2O.restore();
        };
        this.rect = function($2P, $2Q) {
            $2O.save();
            $2O.strokeStyle = $2Q;
            $2O.beginPath();
            $2O.rect($2P.x + .5, $2P.y + .5, $2P.w - 1, $2P.h - 1);
            $2O.stroke();
            $2O.restore();
        };
        this.text = function($2P, $02, $2R, $2Q, $2S, $2T) {
            if (typeof $02 === "number") {
                $02 = "" + $02;
            };
            if (typeof $02 !== "string") {
                throw "String expected";
            };
            $2S = $2S || "left";
            $2T = $2T || 0;
            $2Q = $2Q || "#000";
            $2O.save();
            var $2U = parseInt($2R.size);
            var $2V = DayPilot.browser.ff ? 3 : 0;
            $2V += $2U * 0.2;
            $2V += DayPilot.browser.chrome ? 1 : 0;
            $2V += DayPilot.browser.ie ? 1 : 0;
            $2O.rect($2P.x + .5 + $2T, $2P.y + .5 + $2T, $2P.w - 1 - $2T, $2P.h - 1 - $2T);
            $2O.clip();
            $2O.fillStyle = $2Q;
            $2O.font = $2R.style + " " + $2R.size + " " + $2R.family;
            $2O.textBaseline = "top";
            $2O.textAlign = $2S;
            var x = $2P.x;
            switch ($2S) {
                case "center":
                    x += $2P.w / 2;
                    break;
                case "right":
                    x += $2P.w;
                    break;
            };
            var $2W = 0;
            x += $2W;
            var $2X = parseInt($2R.size) * 1.2;
            var $2Y = $02.split("\n");
            var top = $2P.y + $2W + $2T + $2V;
            for (var i = 0; i < $2Y.length; i++) {
                var $01 = $2Y[i];
                $2O.fillText($01, x + $2T, top);
                top += $2X;
            };
            $2O.restore();
        };
        this.line = function(x1, y1, x2, y2, $2Q) {
            $2O.save();
            $2O.lineWidth = 1;
            $2O.strokeStyle = $2Q;
            $2O.beginPath();
            $2O.moveTo(x1 + .5, y1 + .5);
            $2O.lineTo(x2 + .5, y2 + .5);
            $2O.stroke();
            $2O.restore();
        };
        this.image = function($2P, $2Z) {
            if (!$2Z) {
                return;
            };
            if (typeof $2Z === "string") {
                var $30 = $2Z;
                var $2Z = document.createElement("img");
                if ($30.indexOf("data:") !== 0) {
                    $2Z.onload = function() {
                        $2O.save();
                        $2O.drawImage($2Z, $2P.x, $2P.y);
                        $2O.restore();
                    };
                    $2Z.src = $30;
                    return;
                };
                $2Z.src = $30;
            };
            $2O.save();
            $2O.drawImage($2Z, $2P.x, $2P.y);
            $2O.restore();
        };
        this.getWidth = function() {
            return $2N.width;
        };
        this.getHeight = function() {
            return $2N.height;
        };
        this.getElement = function() {
            return $2N;
        };
        this.getSource = function() {
            return "<img src='" + $2N.toDataURL($2K, $2M) + "' />";
        };
        this.getDataUri = function() {
            return $2N.toDataURL($2K, $2M);
        };
        this.getDefaultFileName = function() {
            return this.defaultFileName;
        };
        this.getBlob = function() {
            if ($2N.msToBlob) {
                return $2N.msToBlob();
            };
            return DayPilot.Util.dataUriToBlob(this.getDataUri());
        };
    };
    DayPilot.Svg = function($x, $0u) {
        var ns = "http://www.w3.org/2000/svg";
        var $31 = document.createElementNS(ns, "svg");
        if ($31.outerHTML) {
            $31.setAttribute("xmlns", ns);
        };
        $31.setAttribute("viewBox", "0 0 " + $x + " " + $0u);
        this.defaultFileName = "image.svg";
        this.fillRect = function($2P, $2Q) {
            var r = document.createElementNS(ns, "rect");
            r.setAttribute('x', $2P.x + 0.5);
            r.setAttribute('y', $2P.y + 0.5);
            r.setAttribute('width', $2P.w - 1);
            r.setAttribute('height', $2P.h - 1);
            r.setAttribute('fill', $2Q);
            $31.appendChild(r);
        };
        this.rect = function($2P, $2Q) {
            var r = document.createElementNS(ns, "rect");
            r.setAttribute('x', $2P.x + 0.5);
            r.setAttribute('y', $2P.y + 0.5);
            r.setAttribute('width', $2P.w - 1);
            r.setAttribute('height', $2P.h - 1);
            r.setAttribute('stroke', $2Q);
            r.setAttribute("stroke-width", "1");
            r.setAttribute("fill", "transparent");
            $31.appendChild(r);
        };
        this.text = function($2P, $02, $2R, $2Q, $2S, $2T) {
            if (typeof $02 === "number") {
                $02 = "" + $02;
            };
            if (typeof $02 !== "string") {
                throw "String expected";
            };
            var $2S = $2S || "left";
            var $2T = $2T || 0;
            var $2V = 3;
            var x = $2P.x;
            var $32 = "start";
            switch ($2S) {
                case "center":
                    x += $2P.w / 2;
                    $32 = "middle";
                    break;
                case "right":
                    x += $2P.w;
                    $32 = "end";
                    break;
            };
            var $33 = document.createElementNS(ns, "clipPath");
            $33.id = "clip" + DayPilot.guid();
            var r = document.createElementNS(ns, "rect");
            r.setAttribute('x', $2P.x);
            r.setAttribute('y', $2P.y);
            r.setAttribute('width', $2P.w);
            r.setAttribute('height', $2P.h);
            $33.appendChild(r);
            $31.appendChild($33);
            var $2X = parseInt($2R.size) * 1.2;
            var $2Y = $02.split("\n");
            var top = $2P.y + $2T + $2V;
            for (var i = 0; i < $2Y.length; i++) {
                var $01 = $2Y[i];
                printLine($01, x + $2T, top);
                top += $2X;
            };

            function printLine($02, x, y) {
                var $34 = document.createElementNS(ns, "text");
                $34.setAttribute("fill", $2Q);
                $34.setAttribute("font-family", $2R.family);
                $34.setAttribute("font-size", $2R.size);
                $34.setAttribute("font-style", $2R.style);
                $34.setAttribute("x", x);
                $34.setAttribute("y", y);
                $34.setAttribute("dy", "1em");
                $34.setAttribute("text-anchor", $32);
                $34.setAttribute("clip-path", "url(#" + $33.id + ")");
                var $0i = document.createTextNode($02);
                $34.appendChild($0i);
                $31.appendChild($34);
            }
        };
        this.line = function(x1, y1, x2, y2, $2Q) {
            var $01 = document.createElementNS(ns, "line");
            $01.setAttribute("x1", x1 + 0.5);
            $01.setAttribute("y1", y1 + 0.5);
            $01.setAttribute("x2", x2 + 0.5);
            $01.setAttribute("y2", y2 + 0.5);
            $01.setAttribute("stroke", $2Q);
            $31.appendChild($01);
        };
        this.image = function($2P, $2Z) {
            function doit($Y) {
                var $35 = 'http://www.w3.org/1999/xlink';
                var $36 = document.createElementNS(ns, "image");
                $36.setAttributeNS($35, "href", $Y.dataUri);
                $36.setAttribute("x", $2P.x);
                $36.setAttribute("y", $2P.y);
                $36.setAttribute("width", $2P.w);
                $36.setAttribute("height", $2P.h);
                $31.appendChild($36);
            };
            getDataUri($2Z, doit);
        };

        function getDataUri($2Z, $37) {
            var $30 = null;
            if (typeof $2Z === "string") {
                if ($2Z.indexOf("data:") === 0) {
                    var $Y = {};
                    $Y.dataUri = $2Z;
                    $37($Y);
                };
                $30 = $2Z;
            } else {
                $30 = $2Z.src;
            };
            var $2Z = document.createElement("img");
            $2Z.onload = function() {
                var $2N = document.createElement("canvas");
                $2N.width = this.naturalWidth;
                $2N.height = this.naturalHeight;
                $2N.getContext("2d").drawImage(this, 0, 0);
                var $Y = {};
                $Y.dataUri = $2N.toDataURL('image/png');
                $37($Y);
            };
            $2Z.src = $30;
        };
        this.getWidth = function() {
            return $x;
        };
        this.getHeight = function() {
            return $0u;
        };
        this.getElement = function() {
            return $31;
        };
        this.getSource = function() {
            if ($31.outerHTML) {
                return $31.outerHTML;
            } else {
                var $a = document.createElement('div');
                var $38 = $31.cloneNode(true);
                $a.appendChild($38);
                return $a.innerHTML;
            }
        };
        this.getDataUri = function() {
            return 'data:application/octet-stream,' + encodeURIComponent(this.getSource());
        };
        this.getDefaultFileName = function() {
            return this.defaultFileName;
        };
        this.getBlob = function() {
            return new Blob([this.getSource()]);
        };
    };
    DayPilot.Excel = function() {
        var $39 = this;
        var $3a = null;
        var $3b = null;
        var $3c = null;
        var ns = {};
        ns.xmlns = 'urn:schemas-microsoft-com:office:spreadsheet';
        ns.o = "urn:schemas-microsoft-com:office:office";
        ns.x = "urn:schemas-microsoft-com:office:excel";
        ns.ss = "urn:schemas-microsoft-com:office:spreadsheet";
        ns.html = "http://www.w3.org/TR/REC-html40";
        this.init = function() {
            $3a = document.implementation.createDocument(ns.xmlns, 'Workbook', null);
            $3a.documentElement.setAttribute("xmlns:o", ns.o);
            $3a.documentElement.setAttribute("xmlns:x", ns.x);
            $3a.documentElement.setAttribute("xmlns:ss", ns.ss);
            $3a.documentElement.setAttribute("xmlns:html", ns.html);
            var $3d = $3a.createElement("x:ExcelWorkbook");
            $3a.documentElement.appendChild($3d);
            $3b = $3a.createElement("ss:Styles");
            $3a.documentElement.appendChild($3b);
            $3c = $39.styles.create();
            $3c.setId("Default");
            $3c.setName("Normal");
        };
        this.worksheets = [];
        this.worksheets.create = function(name) {
            var element = $39.el(ns.ss, "Worksheet");
            var ws = new $3e(element);
            ws.setName(name);
            this.push(ws);
            return ws;
        };
        this.styles = [];
        this.styles.create = function($0j) {
            var style = $3a.createElement("ss:Style");
            $3b.appendChild(style);
            var s = new $3f(style);
            this.push(s);
            return s;
        };
        this.styles.getDefault = function() {
            return $3c;
        };
        this.el = function(ns, element) {
            var e = $3a.createElementNS(ns, element);
            $3a.documentElement.appendChild(e);
            return e;
        };
        this.getSource = function() {
            var $3g = new XMLSerializer();
            var $3h = $3g.serializeToString($3a);
            return "<?xml version=\"1.0\"?>" + $3h;
        };
        this.getDataUri = function() {
            return 'data:application/vnd.ms-excel,' + encodeURIComponent(this.getSource());
        };
        this.getElement = function() {
            return $3a;
        };
        this.getDefaultFileName = function() {
            return "spreadsheet.xls";
        };
        this.getBlob = function() {
            return new Blob([this.getSource()]);
        };
        var $3e = function(element) {
            var $3i = $3a.createElement("Table");
            element.appendChild($3i);
            var $0j = $3a.createElement("x:WorksheetOptions");
            element.appendChild($0j);
            this.rows = [];
            this.setName = function(name) {
                element.setAttribute("ss:Name", name);
            };
            this.cell = function(x, y) {
                while (y >= this.rows.length) {
                    var $1i = $3a.createElement("Row");
                    $3i.appendChild($1i);
                    this.rows.push(new $3j($1i));
                };
                var r = this.rows[y];
                return r.cell(x);
            };
            this.enableGridlines = function($1U) {
                var $3k = DayPilot.list($0j.childNodes).find(function($3l) {
                    return $3l.tagName === "x:DoNotDisplayGridlines";
                });
                if (!$3k && !$1U) {
                    var $3m = $3a.createElement("x:DoNotDisplayGridlines");
                    $0j.appendChild($3m);
                };
                if ($3k && $1U) {
                    $0j.removeChild($3k);
                }
            };
            var $3j = function(element) {
                this.cells = [];
                this.getElement = function() {
                    return element;
                };
                this.cell = function(x) {
                    while (x >= this.cells.length) {
                        var $3n = $3a.createElement("Cell");
                        element.appendChild($3n);
                        this.cells.push(new $3o($3n));
                    };
                    return this.cells[x];
                };
                var $3o = function(element) {
                    this.setText = function($02) {
                        var $1n = $3a.createElement("Data");
                        $1n.setAttribute("ss:Type", "String");
                        var $0i = $3a.createTextNode($02);
                        $1n.appendChild($0i);
                        while (element.firstChild) {
                            element.removeChild(element.firstChild);
                        };
                        element.appendChild($1n);
                        return this;
                    };
                    this.setColspan = function(i) {
                        if (i > 1) {
                            element.setAttribute("ss:MergeAcross", i - 1);
                        } else {
                            element.removeAttribute("ss:MergeAcross");
                        };
                        return this;
                    };
                    this.setRowspan = function(i) {
                        if (i > 1) {
                            element.setAttribute("ss:MergeDown", i - 1);
                        } else {
                            element.removeAttribute("ss:MergeDown");
                        };
                        return this;
                    };
                    this.setStyle = function(style) {
                        if (!(style instanceof $3f)) {
                            throw "Invalid argument, Style expected";
                        };
                        element.setAttribute("ss:StyleID", style.getId());
                        return this;
                    }
                };
            };
        };
        var $3f = function(element) {
            var id = DayPilot.guid();
            element.setAttribute("ss:ID", id);
            var $3p = $3a.createElement("ss:Alignment");
            element.appendChild($3p);
            var $3q = $3a.createElement("ss:Interior");
            element.appendChild($3q);
            var $3r = $3a.createElement("ss:Borders");
            element.appendChild($3r);
            this.setHorizontalAlignment = function($1U) {
                $3p.setAttribute("ss:Horizontal", $1U);
            };
            this.setVerticalAlignment = function($1U) {
                $3p.setAttribute("ss:Vertical", $1U);
            };
            this.setBackColor = function($1U) {
                var $3s = DayPilot.Util.normalizeColor($1U);
                $3q.setAttribute("ss:Color", $3s);
                $3q.setAttribute("ss:Pattern", "Solid");
            };
            this.setBorderColor = function($2Q) {
                this.clearBorders();
                var $3t = createBorder("Left", $2Q);
                $3r.appendChild($3t);
                var $3u = createBorder("Right", $2Q);
                $3r.appendChild($3u);
                var $3v = createBorder("Top", $2Q);
                $3r.appendChild($3v);
                var $3w = createBorder("Bottom", $2Q);
                $3r.appendChild($3w);

                function createBorder($3x, $2Q) {
                    var $3y = $3a.createElement("ss:Border");
                    $3y.setAttribute("ss:Position", $3x);
                    $3y.setAttribute("ss:LineStyle", "Continuous");
                    $3y.setAttribute("ss:Color", DayPilot.Util.normalizeColor($2Q));
                    return $3y;
                }
            };
            this.clearBorders = function() {
                while ($3r.firstChild) {
                    $3r.removeChild($3r.firstChild);
                }
            };
            this.getId = function() {
                return id;
            };
            this.setId = function($1U) {
                id = $1U;
                element.setAttribute("ss:ID", id);
            };
            this.setName = function($1U) {
                element.setAttribute("ss:Name", $1U);
            };
        };
        this.init();
    };
    DayPilot.Locale = function(id, $0k) {
        this.id = id;
        this.dayNames = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
        this.dayNamesShort = ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"];
        this.monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
        this.monthNamesShort = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
        this.datePattern = "M/d/yyyy";
        this.timePattern = "H:mm";
        this.dateTimePattern = "M/d/yyyy H:mm";
        this.timeFormat = "Clock12Hours";
        this.weekStarts = 0;
        if ($0k) {
            for (var name in $0k) {
                this[name] = $0k[name];
            }
        }
    };
    DayPilot.Locale.all = {};
    DayPilot.Locale.find = function(id) {
        if (!id) {
            return null;
        };
        var $3s = id.toLowerCase();
        if ($3s.length > 2) {
            $3s = DayPilot.Util.replaceCharAt($3s, 2, '-');
        };
        return DayPilot.Locale.all[$3s];
    };
    DayPilot.Locale.register = function($2e) {
        DayPilot.Locale.all[$2e.id] = $2e;
    };
    DayPilot.Locale.register(new DayPilot.Locale('ca-es', {
        'dayNames': ['diumenge', 'dilluns', 'dimarts', 'dimecres', 'dijous', 'divendres', 'dissabte'],
        'dayNamesShort': ['dg', 'dl', 'dt', 'dc', 'dj', 'dv', 'ds'],
        'monthNames': ['gener', 'febrer', 'març', 'abril', 'maig', 'juny', 'juliol', 'agost', 'setembre', 'octubre', 'novembre', 'desembre', ''],
        'monthNamesShort': ['gen.', 'febr.', 'març', 'abr.', 'maig', 'juny', 'jul.', 'ag.', 'set.', 'oct.', 'nov.', 'des.', ''],
        'timePattern': 'H:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('cs-cz', {
        'dayNames': ['neděle', 'pondělí', 'úterý', 'středa', 'čtvrtek', 'pátek', 'sobota'],
        'dayNamesShort': ['ne', 'po', 'út', 'st', 'čt', 'pá', 'so'],
        'monthNames': ['leden', 'únor', 'březen', 'duben', 'květen', 'červen', 'červenec', 'srpen', 'září', 'říjen', 'listopad', 'prosinec', ''],
        'monthNamesShort': ['I', 'II', 'III', 'IV', 'V', 'VI', 'VII', 'VIII', 'IX', 'X', 'XI', 'XII', ''],
        'timePattern': 'H:mm',
        'datePattern': 'd. M. yyyy',
        'dateTimePattern': 'd. M. yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('da-dk', {
        'dayNames': ['søndag', 'mandag', 'tirsdag', 'onsdag', 'torsdag', 'fredag', 'lørdag'],
        'dayNamesShort': ['sø', 'ma', 'ti', 'on', 'to', 'fr', 'lø'],
        'monthNames': ['januar', 'februar', 'marts', 'april', 'maj', 'juni', 'juli', 'august', 'september', 'oktober', 'november', 'december', ''],
        'monthNamesShort': ['jan', 'feb', 'mar', 'apr', 'maj', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'dec', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd-MM-yyyy',
        'dateTimePattern': 'dd-MM-yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('de-at', {
        'dayNames': ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
        'dayNamesShort': ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],
        'monthNames': ['Jänner', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember', ''],
        'monthNamesShort': ['Jän', 'Feb', 'Mär', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('de-ch', {
        'dayNames': ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
        'dayNamesShort': ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],
        'monthNames': ['Januar', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember', ''],
        'monthNamesShort': ['Jan', 'Feb', 'Mrz', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('de-de', {
        'dayNames': ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
        'dayNamesShort': ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],
        'monthNames': ['Januar', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember', ''],
        'monthNamesShort': ['Jan', 'Feb', 'Mrz', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('de-lu', {
        'dayNames': ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
        'dayNamesShort': ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],
        'monthNames': ['Januar', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember', ''],
        'monthNamesShort': ['Jan', 'Feb', 'Mrz', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('en-au', {
        'dayNames': ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
        'dayNamesShort': ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
        'monthNames': ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December', ''],
        'monthNamesShort': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', ''],
        'timePattern': 'h:mm tt',
        'datePattern': 'd/MM/yyyy',
        'dateTimePattern': 'd/MM/yyyy h:mm tt',
        'timeFormat': 'Clock12Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('en-ca', {
        'dayNames': ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
        'dayNamesShort': ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
        'monthNames': ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December', ''],
        'monthNamesShort': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', ''],
        'timePattern': 'h:mm tt',
        'datePattern': 'yyyy-MM-dd',
        'dateTimePattern': 'yyyy-MM-dd h:mm tt',
        'timeFormat': 'Clock12Hours',
        'weekStarts': 0
    }));
    DayPilot.Locale.register(new DayPilot.Locale('en-gb', {
        'dayNames': ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
        'dayNamesShort': ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
        'monthNames': ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December', ''],
        'monthNamesShort': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('en-us', {
        'dayNames': ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
        'dayNamesShort': ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
        'monthNames': ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December', ''],
        'monthNamesShort': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', ''],
        'timePattern': 'h:mm tt',
        'datePattern': 'M/d/yyyy',
        'dateTimePattern': 'M/d/yyyy h:mm tt',
        'timeFormat': 'Clock12Hours',
        'weekStarts': 0
    }));
    DayPilot.Locale.register(new DayPilot.Locale('es-es', {
        'dayNames': ['domingo', 'lunes', 'martes', 'miércoles', 'jueves', 'viernes', 'sábado'],
        'dayNamesShort': ['D', 'L', 'M', 'X', 'J', 'V', 'S'],
        'monthNames': ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre', ''],
        'monthNamesShort': ['ene.', 'feb.', 'mar.', 'abr.', 'may.', 'jun.', 'jul.', 'ago.', 'sep.', 'oct.', 'nov.', 'dic.', ''],
        'timePattern': 'H:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('es-mx', {
        'dayNames': ['domingo', 'lunes', 'martes', 'miércoles', 'jueves', 'viernes', 'sábado'],
        'dayNamesShort': ['do.', 'lu.', 'ma.', 'mi.', 'ju.', 'vi.', 'sá.'],
        'monthNames': ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre', ''],
        'monthNamesShort': ['ene.', 'feb.', 'mar.', 'abr.', 'may.', 'jun.', 'jul.', 'ago.', 'sep.', 'oct.', 'nov.', 'dic.', ''],
        'timePattern': 'hh:mm tt',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy hh:mm tt',
        'timeFormat': 'Clock12Hours',
        'weekStarts': 0
    }));
    DayPilot.Locale.register(new DayPilot.Locale('eu-es', {
        'dayNames': ['igandea', 'astelehena', 'asteartea', 'asteazkena', 'osteguna', 'ostirala', 'larunbata'],
        'dayNamesShort': ['ig', 'al', 'as', 'az', 'og', 'or', 'lr'],
        'monthNames': ['urtarrila', 'otsaila', 'martxoa', 'apirila', 'maiatza', 'ekaina', 'uztaila', 'abuztua', 'iraila', 'urria', 'azaroa', 'abendua', ''],
        'monthNamesShort': ['urt.', 'ots.', 'mar.', 'api.', 'mai.', 'eka.', 'uzt.', 'abu.', 'ira.', 'urr.', 'aza.', 'abe.', ''],
        'timePattern': 'H:mm',
        'datePattern': 'yyyy/MM/dd',
        'dateTimePattern': 'yyyy/MM/dd H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('fi-fi', {
        'dayNames': ['sunnuntai', 'maanantai', 'tiistai', 'keskiviikko', 'torstai', 'perjantai', 'lauantai'],
        'dayNamesShort': ['su', 'ma', 'ti', 'ke', 'to', 'pe', 'la'],
        'monthNames': ['tammikuu', 'helmikuu', 'maaliskuu', 'huhtikuu', 'toukokuu', 'kesäkuu', 'heinäkuu', 'elokuu', 'syyskuu', 'lokakuu', 'marraskuu', 'joulukuu', ''],
        'monthNamesShort': ['tammi', 'helmi', 'maalis', 'huhti', 'touko', 'kesä', 'heinä', 'elo', 'syys', 'loka', 'marras', 'joulu', ''],
        'timePattern': 'H:mm',
        'datePattern': 'd.M.yyyy',
        'dateTimePattern': 'd.M.yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('fr-be', {
        'dayNames': ['dimanche', 'lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi'],
        'dayNamesShort': ['di', 'lu', 'ma', 'me', 'je', 've', 'sa'],
        'monthNames': ['janvier', 'février', 'mars', 'avril', 'mai', 'juin', 'juillet', 'août', 'septembre', 'octobre', 'novembre', 'décembre', ''],
        'monthNamesShort': ['janv.', 'févr.', 'mars', 'avr.', 'mai', 'juin', 'juil.', 'août', 'sept.', 'oct.', 'nov.', 'déc.', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd-MM-yy',
        'dateTimePattern': 'dd-MM-yy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('fr-ca', {
        'dayNames': ['dimanche', 'lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi'],
        'dayNamesShort': ['di', 'lu', 'ma', 'me', 'je', 've', 'sa'],
        'monthNames': ['janvier', 'février', 'mars', 'avril', 'mai', 'juin', 'juillet', 'août', 'septembre', 'octobre', 'novembre', 'décembre', ''],
        'monthNamesShort': ['janv.', 'févr.', 'mars', 'avr.', 'mai', 'juin', 'juil.', 'août', 'sept.', 'oct.', 'nov.', 'déc.', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'yyyy-MM-dd',
        'dateTimePattern': 'yyyy-MM-dd HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 0
    }));
    DayPilot.Locale.register(new DayPilot.Locale('fr-ch', {
        'dayNames': ['dimanche', 'lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi'],
        'dayNamesShort': ['di', 'lu', 'ma', 'me', 'je', 've', 'sa'],
        'monthNames': ['janvier', 'février', 'mars', 'avril', 'mai', 'juin', 'juillet', 'août', 'septembre', 'octobre', 'novembre', 'décembre', ''],
        'monthNamesShort': ['janv.', 'févr.', 'mars', 'avr.', 'mai', 'juin', 'juil.', 'août', 'sept.', 'oct.', 'nov.', 'déc.', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('fr-fr', {
        'dayNames': ['dimanche', 'lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi'],
        'dayNamesShort': ['di', 'lu', 'ma', 'me', 'je', 've', 'sa'],
        'monthNames': ['janvier', 'février', 'mars', 'avril', 'mai', 'juin', 'juillet', 'août', 'septembre', 'octobre', 'novembre', 'décembre', ''],
        'monthNamesShort': ['janv.', 'févr.', 'mars', 'avr.', 'mai', 'juin', 'juil.', 'août', 'sept.', 'oct.', 'nov.', 'déc.', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('fr-lu', {
        'dayNames': ['dimanche', 'lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi'],
        'dayNamesShort': ['di', 'lu', 'ma', 'me', 'je', 've', 'sa'],
        'monthNames': ['janvier', 'février', 'mars', 'avril', 'mai', 'juin', 'juillet', 'août', 'septembre', 'octobre', 'novembre', 'décembre', ''],
        'monthNamesShort': ['janv.', 'févr.', 'mars', 'avr.', 'mai', 'juin', 'juil.', 'août', 'sept.', 'oct.', 'nov.', 'déc.', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('gl-es', {
        'dayNames': ['domingo', 'luns', 'martes', 'mércores', 'xoves', 'venres', 'sábado'],
        'dayNamesShort': ['do', 'lu', 'ma', 'mé', 'xo', 've', 'sá'],
        'monthNames': ['xaneiro', 'febreiro', 'marzo', 'abril', 'maio', 'xuño', 'xullo', 'agosto', 'setembro', 'outubro', 'novembro', 'decembro', ''],
        'monthNamesShort': ['xan', 'feb', 'mar', 'abr', 'maio', 'xuño', 'xul', 'ago', 'set', 'out', 'nov', 'dec', ''],
        'timePattern': 'H:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('it-it', {
        'dayNames': ['domenica', 'lunedì', 'martedì', 'mercoledì', 'giovedì', 'venerdì', 'sabato'],
        'dayNamesShort': ['do', 'lu', 'ma', 'me', 'gi', 've', 'sa'],
        'monthNames': ['gennaio', 'febbraio', 'marzo', 'aprile', 'maggio', 'giugno', 'luglio', 'agosto', 'settembre', 'ottobre', 'novembre', 'dicembre', ''],
        'monthNamesShort': ['gen', 'feb', 'mar', 'apr', 'mag', 'giu', 'lug', 'ago', 'set', 'ott', 'nov', 'dic', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('it-ch', {
        'dayNames': ['domenica', 'lunedì', 'martedì', 'mercoledì', 'giovedì', 'venerdì', 'sabato'],
        'dayNamesShort': ['do', 'lu', 'ma', 'me', 'gi', 've', 'sa'],
        'monthNames': ['gennaio', 'febbraio', 'marzo', 'aprile', 'maggio', 'giugno', 'luglio', 'agosto', 'settembre', 'ottobre', 'novembre', 'dicembre', ''],
        'monthNamesShort': ['gen', 'feb', 'mar', 'apr', 'mag', 'giu', 'lug', 'ago', 'set', 'ott', 'nov', 'dic', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('ja-jp', {
        'dayNames': ['日曜日', '月曜日', '火曜日', '水曜日', '木曜日', '金曜日', '土曜日'],
        'dayNamesShort': ['日', '月', '火', '水', '木', '金', '土'],
        'monthNames': ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月', ''],
        'monthNamesShort': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', ''],
        'timePattern': 'H:mm',
        'datePattern': 'yyyy/MM/dd',
        'dateTimePattern': 'yyyy/MM/dd H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 0
    }));
    DayPilot.Locale.register(new DayPilot.Locale('nb-no', {
        'dayNames': ['søndag', 'mandag', 'tirsdag', 'onsdag', 'torsdag', 'fredag', 'lørdag'],
        'dayNamesShort': ['sø', 'ma', 'ti', 'on', 'to', 'fr', 'lø'],
        'monthNames': ['januar', 'februar', 'mars', 'april', 'mai', 'juni', 'juli', 'august', 'september', 'oktober', 'november', 'desember', ''],
        'monthNamesShort': ['jan', 'feb', 'mar', 'apr', 'mai', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'des', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('nl-nl', {
        'dayNames': ['zondag', 'maandag', 'dinsdag', 'woensdag', 'donderdag', 'vrijdag', 'zaterdag'],
        'dayNamesShort': ['zo', 'ma', 'di', 'wo', 'do', 'vr', 'za'],
        'monthNames': ['januari', 'februari', 'maart', 'april', 'mei', 'juni', 'juli', 'augustus', 'september', 'oktober', 'november', 'december', ''],
        'monthNamesShort': ['jan', 'feb', 'mrt', 'apr', 'mei', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'dec', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'd-M-yyyy',
        'dateTimePattern': 'd-M-yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('nl-be', {
        'dayNames': ['zondag', 'maandag', 'dinsdag', 'woensdag', 'donderdag', 'vrijdag', 'zaterdag'],
        'dayNamesShort': ['zo', 'ma', 'di', 'wo', 'do', 'vr', 'za'],
        'monthNames': ['januari', 'februari', 'maart', 'april', 'mei', 'juni', 'juli', 'augustus', 'september', 'oktober', 'november', 'december', ''],
        'monthNamesShort': ['jan', 'feb', 'mrt', 'apr', 'mei', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'dec', ''],
        'timePattern': 'H:mm',
        'datePattern': 'd/MM/yyyy',
        'dateTimePattern': 'd/MM/yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('nn-no', {
        'dayNames': ['søndag', 'måndag', 'tysdag', 'onsdag', 'torsdag', 'fredag', 'laurdag'],
        'dayNamesShort': ['sø', 'må', 'ty', 'on', 'to', 'fr', 'la'],
        'monthNames': ['januar', 'februar', 'mars', 'april', 'mai', 'juni', 'juli', 'august', 'september', 'oktober', 'november', 'desember', ''],
        'monthNamesShort': ['jan', 'feb', 'mar', 'apr', 'mai', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'des', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('pt-br', {
        'dayNames': ['domingo', 'segunda-feira', 'terça-feira', 'quarta-feira', 'quinta-feira', 'sexta-feira', 'sábado'],
        'dayNamesShort': ['D', 'S', 'T', 'Q', 'Q', 'S', 'S'],
        'monthNames': ['janeiro', 'fevereiro', 'março', 'abril', 'maio', 'junho', 'julho', 'agosto', 'setembro', 'outubro', 'novembro', 'dezembro', ''],
        'monthNamesShort': ['jan', 'fev', 'mar', 'abr', 'mai', 'jun', 'jul', 'ago', 'set', 'out', 'nov', 'dez', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 0
    }));
    DayPilot.Locale.register(new DayPilot.Locale('pl-pl', {
        'dayNames': ['niedziela', 'poniedziałek', 'wtorek', 'środa', 'czwartek', 'piątek', 'sobota'],
        'dayNamesShort': ['N', 'Pn', 'Wt', 'Śr', 'Cz', 'Pt', 'So'],
        'monthNames': ['styczeń', 'luty', 'marzec', 'kwiecień', 'maj', 'czerwiec', 'lipiec', 'sierpień', 'wrzesień', 'październik', 'listopad', 'grudzień', ''],
        'monthNamesShort': ['sty', 'lut', 'mar', 'kwi', 'maj', 'cze', 'lip', 'sie', 'wrz', 'paź', 'lis', 'gru', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'yyyy-MM-dd',
        'dateTimePattern': 'yyyy-MM-dd HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('pt-pt', {
        'dayNames': ['domingo', 'segunda-feira', 'terça-feira', 'quarta-feira', 'quinta-feira', 'sexta-feira', 'sábado'],
        'dayNamesShort': ['D', 'S', 'T', 'Q', 'Q', 'S', 'S'],
        'monthNames': ['janeiro', 'fevereiro', 'março', 'abril', 'maio', 'junho', 'julho', 'agosto', 'setembro', 'outubro', 'novembro', 'dezembro', ''],
        'monthNamesShort': ['jan', 'fev', 'mar', 'abr', 'mai', 'jun', 'jul', 'ago', 'set', 'out', 'nov', 'dez', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 0
    }));
    DayPilot.Locale.register(new DayPilot.Locale('ro-ro', {
        'dayNames': ['duminică', 'luni', 'marți', 'miercuri', 'joi', 'vineri', 'sâmbătă'],
        'dayNamesShort': ['D', 'L', 'Ma', 'Mi', 'J', 'V', 'S'],
        'monthNames': ['ianuarie', 'februarie', 'martie', 'aprilie', 'mai', 'iunie', 'iulie', 'august', 'septembrie', 'octombrie', 'noiembrie', 'decembrie', ''],
        'monthNamesShort': ['ian.', 'feb.', 'mar.', 'apr.', 'mai.', 'iun.', 'iul.', 'aug.', 'sep.', 'oct.', 'nov.', 'dec.', ''],
        'timePattern': 'H:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('ru-ru', {
        'dayNames': ['воскресенье', 'понедельник', 'вторник', 'среда', 'четверг', 'пятница', 'суббота'],
        'dayNamesShort': ['Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'],
        'monthNames': ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь', ''],
        'monthNamesShort': ['янв', 'фев', 'мар', 'апр', 'май', 'июн', 'июл', 'авг', 'сен', 'окт', 'ноя', 'дек', ''],
        'timePattern': 'H:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('sk-sk', {
        'dayNames': ['nedeľa', 'pondelok', 'utorok', 'streda', 'štvrtok', 'piatok', 'sobota'],
        'dayNamesShort': ['ne', 'po', 'ut', 'st', 'št', 'pi', 'so'],
        'monthNames': ['január', 'február', 'marec', 'apríl', 'máj', 'jún', 'júl', 'august', 'september', 'október', 'november', 'december', ''],
        'monthNamesShort': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', ''],
        'timePattern': 'H:mm',
        'datePattern': 'd.M.yyyy',
        'dateTimePattern': 'd.M.yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('sv-se', {
        'dayNames': ['söndag', 'måndag', 'tisdag', 'onsdag', 'torsdag', 'fredag', 'lördag'],
        'dayNamesShort': ['sö', 'må', 'ti', 'on', 'to', 'fr', 'lö'],
        'monthNames': ['januari', 'februari', 'mars', 'april', 'maj', 'juni', 'juli', 'augusti', 'september', 'oktober', 'november', 'december', ''],
        'monthNamesShort': ['jan', 'feb', 'mar', 'apr', 'maj', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'dec', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'yyyy-MM-dd',
        'dateTimePattern': 'yyyy-MM-dd HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('tr-tr', {
        'dayNames': ['Pazar', 'Pazartesi', 'Salı', 'Çarşamba', 'Perşembe', 'Cuma', 'Cumartesi'],
        'dayNamesShort': ['Pz', 'Pt', 'Sa', 'Ça', 'Pe', 'Cu', 'Ct'],
        'monthNames': ['Ocak', 'Şubat', 'Mart', 'Nisan', 'Mayıs', 'Haziran', 'Temmuz', 'Ağustos', 'Eylül', 'Ekim', 'Kasım', 'Aralık', ''],
        'monthNamesShort': ['Oca', 'Şub', 'Mar', 'Nis', 'May', 'Haz', 'Tem', 'Ağu', 'Eyl', 'Eki', 'Kas', 'Ara', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'd.M.yyyy',
        'dateTimePattern': 'd.M.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('zh-cn', {
        'dayNames': ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'],
        'dayNamesShort': ['日', '一', '二', '三', '四', '五', '六'],
        'monthNames': ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月', ''],
        'monthNamesShort': ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月', ''],
        'timePattern': 'H:mm',
        'datePattern': 'yyyy/M/d',
        'dateTimePattern': 'yyyy/M/d H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.US = DayPilot.Locale.find("en-us");
    DayPilot.Switcher = function($0j) {
        var $3z = this;
        this.views = [];
        this.triggers = [];
        this.navigator = {};
        this.selectedClass = null;
        this.active = null;
        this.day = new DayPilot.Date();
        this.onChange = null;
        this.onChanged = null;
        this.navigator.updateMode = function($3A) {
            var $3B = $3z.navigator.control;
            if (!$3B) {
                return;
            };
            $3B.selectMode = $3A;
            $3B.select($3z.day);
        };
        this.addView = function($3C, $0j) {
            var element;
            if (typeof $3C === 'string') {
                element = document.getElementById($3C);
                if (!element) {
                    throw "Element not found: " + $3C;
                }
            } else {
                element = $3C;
            };
            var $3B = element;
            var $3D = {};
            $3D.isView = true;
            $3D.id = $3B.id;
            $3D.control = $3B;
            $3D.options = $0j || {};
            $3D.hide = function() {
                if ($3B.hide) {
                    $3B.hide();
                } else if ($3B.nav && $3B.nav.top) {
                    $3B.nav.top.style.display = 'none';
                } else {
                    $3B.style.display = 'none';
                }
            };
            $3D.sendNavigate = function($1Q) {
                var $3E = (function() {
                    if ($3B.backendUrl) {
                        return true;
                    };
                    if (typeof WebForm_DoCallback === 'function' && $3B.uniqueID) {
                        return true;
                    };
                    return false;
                })();
                if ($3E) {
                    if ($3B.commandCallBack) {
                        $3B.commandCallBack("navigate", {
                            "day": $1Q
                        });
                    }
                } else {
                    $3B.startDate = $1Q;
                    $3B.update();
                }
            };
            $3D.show = function() {
                $3z.$44();
                if ($3B.show) {
                    $3B.show();
                } else if ($3B.nav && $3B.nav.top) {
                    $3B.nav.top.style.display = '';
                } else {
                    $3B.style.display = '';
                }
            };
            $3D.selectMode = function() {
                if ($3D.options.navigatorSelectMode) {
                    return $3D.options.navigatorSelectMode;
                };
                if ($3B.isCalendar) {
                    switch ($3B.viewType) {
                        case "Day":
                            return "day";
                        case "Week":
                            return "week";
                        case "WorkWeek":
                            return "week";
                        default:
                            return "day";
                    }
                } else if ($3B.isMonth) {
                    switch ($3B.viewType) {
                        case "Month":
                            return "month";
                        case "Weeks":
                            return "week";
                        default:
                            return "day";
                    }
                };
                return "day";
            };
            this.views.push($3D);
            return $3D;
        };
        this.addTrigger = function(id, $3B) {
            var element;
            if (typeof id === 'string') {
                element = document.getElementById(id);
                if (!element) {
                    throw "Element not found: " + id;
                }
            } else {
                element = id;
            };
            var $3D = this.$45($3B);
            if (!$3D) {
                $3D = this.addView($3B);
            };
            var $3F = {};
            $3F.isTrigger = true;
            $3F.element = element;
            $3F.id = element.id;
            $3F.view = $3D;
            $3F.onClick = function(ev) {
                $3z.show($3F);
                $3z.$46($3F);
                ev = ev || window.event;
                if (ev) {
                    ev.preventDefault ? ev.preventDefault() : ev.returnValue = false;
                }
            };
            DayPilot.re(element, 'click', $3F.onClick);
            this.triggers.push($3F);
            return $3F;
        };
        this.addButton = this.addTrigger;
        this.select = function(id) {
            var $3F = this.$47(id);
            if ($3F) {
                $3F.onClick();
            } else if (this.triggers.length > 0) {
                this.triggers[0].onClick();
            }
        };
        this.$47 = function(id) {
            for (var i = 0; i < this.triggers.length; i++) {
                var $3F = this.triggers[i];
                if ($3F.id === id) {
                    return $3F;
                }
            };
            return null;
        };
        this.$46 = function($3F) {
            if (!this.selectedClass) {
                return;
            };
            for (var i = 0; i < this.triggers.length; i++) {
                var s = this.triggers[i];
                DayPilot.Util.removeClass(s.element, this.selectedClass);
            };
            DayPilot.Util.addClass($3F.element, this.selectedClass);
        };
        this.addNavigator = function($3B) {
            $3z.navigator.control = $3B;
            $3B.timeRangeSelectedHandling = "JavaScript";
            $3B.onTimeRangeSelected = function() {
                var $s, end, $1H;
                if ($3B.api === 1) {
                    $s = arguments[0];
                    end = arguments[1];
                    $1H = arguments[2];
                } else {
                    var $Y = arguments[0];
                    $s = $Y.start;
                    end = $Y.end;
                    $1H = $Y.day;
                };
                $3z.day = $1H;
                navigate($s, end, $1H);
            };
        };
        this.show = function(el) {
            var $3D, $3F;
            if (el.isTrigger) {
                $3F = el;
                $3D = $3F.view;
            } else {
                $3D = el.isView ? el : this.$45(el);
                if (this.active === $3D) {
                    return;
                }
            };
            if ($3z.onSelect) {
                var $Y = {};
                $Y.source = $3F ? $3F.element : null;
                $Y.target = $3D.control;
                $3z.onSelect($Y);
            };
            this.active = $3D;
            $3D.show();
            var $3A = $3D.selectMode();
            $3z.navigator.updateMode($3A);
        };
        this.$45 = function($3B) {
            for (var i = 0; i < this.views.length; i++) {
                if (this.views[i].control === $3B) {
                    return this.views[i];
                }
            };
            return null;
        };
        this.$44 = function() {
            for (var i = 0; i < this.views.length; i++) {
                this.views[i].hide();
            }
        };
        this.events = {};
        this.events.load = function($15, $1E, $1F) {
            if ($3z.active && $3z.active.control) {
                $3z.active.control.events.load($15, $1E, $1F);
            } else {
                throw "DayPilot.Switcher.events.load(): Active view not found";
            }
        };
        this.$48 = null;
        this.$49 = function() {
            if (!$0j) {
                return;
            };
            for (var name in $0j) {
                if (name === "triggers") {
                    DayPilot.list($0j.triggers).each(function($o) {
                        $3z.addTrigger($o.id, $o.view);
                    });
                } else if (name === "navigator") {
                    $3z.addNavigator($0j.navigator);
                } else {
                    $3z[name] = $0j[name];
                }
            }
        };
        this.$49();

        function navigate($s, end, $1H) {
            var $Y = {};
            $Y.start = $s;
            $Y.end = end;
            $Y.day = $1H;
            $Y.target = $3z.active.control;
            $Y.preventDefault = function() {
                this.preventDefault.value = true;
            };
            var $0b = $3z.$48;
            if ($0b) {
                if ($0b.start === $Y.start && $0b.end === $Y.end && $0b.day === $Y.day && $0b.target === $Y.target) {
                    return;
                }
            };
            $3z.$48 = $Y;
            if (typeof $3z.onChange === "function") {
                $3z.onChange($Y);
                if ($Y.preventDefault.value) {
                    return;
                }
            };
            if (typeof $3z.onTimeRangeSelect === "function") {
                $3z.onTimeRangeSelect($Y);
                if ($Y.preventDefault.value) {
                    return;
                }
            };
            $3z.active.sendNavigate($3z.day);
            if (typeof $3z.onChanged === "function") {
                $3z.onChanged($Y);
            };
            if (typeof $3z.onTimeRangeSelected === "function") {
                $3z.onTimeRangeSelected($Y);
            }
        }
    };
    (function() {
        if (DayPilot.Global.defaultCss) {
            return;
        };
        var $T = DayPilot.sheet();
        $T.add(".bubble_default_main", "cursor: default;");
        $T.add(".bubble_default_main_inner", 'border-radius: 5px;font-size: 12px;padding: 4px;color: #666;background: #eeeeee; background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #ccc;-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);');
        $T.add(".calendar_default_main", "border: 1px solid #c0c0c0; font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;");
        $T.add(".calendar_default_main *, .calendar_default_main *:before, .calendar_default_main *:after", "box-sizing: content-box;");
        $T.add(".calendar_default_rowheader_inner,.calendar_default_cornerright_inner,.calendar_default_corner_inner,.calendar_default_colheader_inner,.calendar_default_alldayheader_inner", "color: #333;background: #f3f3f3;");
        $T.add(".calendar_default_cornerright_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;	border-bottom: 1px solid #c0c0c0;");
        $T.add(".calendar_default_rowheader_inner", "font-size: 16pt;text-align: right; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;");
        $T.add(".calendar_default_corner_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;");
        $T.add(".calendar_default_rowheader_minutes", "font-size:10px;vertical-align: super;padding-left: 2px;padding-right: 2px;");
        $T.add(".calendar_default_colheader_inner", "text-align: center; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;");
        $T.add(".calendar_default_cell_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #ddd;border-bottom: 1px solid #ddd; background: #f9f9f9;");
        $T.add(".calendar_default_cell_business .calendar_default_cell_inner", "background: #fff");
        $T.add(".calendar_default_alldayheader_inner", "text-align: center;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;");
        $T.add(".calendar_default_message", "opacity: 0.9;filter: alpha(opacity=90);	padding: 10px; color: #ffffff;background: #ffa216;");
        $T.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner", 'color: #666; border: 1px solid #999;');
        $T.add(".calendar_default_event_bar", "top: 0px;bottom: 0px;left: 0px;width: 4px;background-color: #9dc8e8;");
        $T.add(".calendar_default_event_bar_inner", "position: absolute;width: 4px;background-color: #1066a8;");
        $T.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner", 'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $T.add(".calendar_default_selected .calendar_default_event_inner", "background: #ddd;");
        $T.add(".calendar_default_alldayevent_inner", "position: absolute;top: 2px;bottom: 2px;left: 2px;right: 2px;padding: 2px;margin-right: 1px;font-size: 12px;");
        $T.add(".calendar_default_event_withheader .calendar_default_event_inner", "padding-top: 15px;");
        $T.add(".calendar_default_event", "cursor: default;");
        $T.add(".calendar_default_event_inner", "position: absolute;overflow: hidden;top: 0px;bottom: 0px;left: 0px;right: 0px;padding: 2px 2px 2px 6px;font-size: 12px;");
        $T.add(".calendar_default_shadow_inner", "background-color: #666666;	opacity: 0.5;filter: alpha(opacity=50);height: 100%;");
        $T.add(".calendar_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)'; cursor: pointer;");
        $T.add(".calendar_default_event_delete:hover", "opacity: 1;-ms-filter: none;");
        $T.add(".calendar_default_scroll_up", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAB3RJTUUH2wESDiYcrhwCiQAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAARnQU1BAACxjwv8YQUAAACcSURBVHjaY2AgF9wWsTW6yGMlhi7OhC7AyMDQzMnBXIpFHAFuCtuaMTP+P8nA8P/b1x//FfW/HHuF1UQmxv+NUP1c3OxMVVhNvCVi683E8H8LXOY/w9+fTH81tF8fv4NiIpBRj+YoZtZ/LDUoJmKYhsVUpv0MDiyMDP96sIYV0FS2/8z9ICaLlOhvS4b/jC//MzC8xBG0vJeF7GQBlK0xdiUzCtsAAAAASUVORK5CYII=);");
        $T.add(".calendar_default_scroll_down", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAACqSURBVChTY7wpam3L9J+xmQEP+PGPKZZxP4MDi4zI78uMDIwa2NT+Z2DYovrmiC+TI8OBP/8ZmEqwGvif4e8vxr+FIDkmEKH25vBWBgbG0+iK/zEwLtF+ffwOXCGI8Y+BoRFFIdC030x/WmBiYBNhpgLdswNJ8RSYaSgmgk39z1gPUfj/29ef/9rwhQTDHRHbrbdEbLvRFcGthkkAra/9/uMvhkK8piNLAgCRpTnNn4AEmAAAAABJRU5ErkJggg==);");
        $T.add(".calendar_default_now", "background-color: red;");
        $T.add(".calendar_default_now:before", "content: ''; top: -5px; border-width: 5px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute; -moz-transform: scale(.9999);");
        $T.add(".menu_default_main", "font-family: Tahoma, Arial, Helvetica, Sans-Serif;font-size: 12px;border: 1px solid #dddddd;background-color: white;padding: 0px;cursor: default;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAABCAIAAABG0om7AAAAKXRFWHRDcmVhdGlvbiBUaW1lAHBvIDEwIDUgMjAxMCAyMjozMzo1OSArMDEwMGzy7+IAAAAHdElNRQfaBQoUJAesj4VUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAABGdBTUEAALGPC/xhBQAAABVJREFUeNpj/P//PwO1weMnT2RlZAAYuwX/4oA3BgAAAABJRU5ErkJggg==);background-repeat: repeat-y;xborder-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);");
        $T.add(".menu_default_main *, .menu_default_main *:before, .menu_default_main *:after", "box-sizing: content-box;");
        $T.add(".menu_default_title", "background-color: #f2f2f2;border-bottom: 1px solid gray;padding: 4px 4px 4px 37px;");
        $T.add(".menu_default_main a", "padding: 2px 2px 2px 35px;color: black;text-decoration: none;cursor: default;");
        $T.add(".menu_default_main a img", "margin-left: 6px;margin-top: 2px;");
        $T.add(".menu_default_main a span", "display: block;height: 20px;line-height: 20px; overflow:hidden;padding-left: 2px;padding-right: 20px;");
        $T.add(".menu_default_main a:hover", 'background: #eeeeee;background: -webkit-gradient(linear, left top, left bottom, from(#efefef), to(#e6e6e6));background: -webkit-linear-gradient(top, #efefef 0%, #e6e6e6);background: -moz-linear-gradient(top, #efefef 0%, #e6e6e6);background: -ms-linear-gradient(top, #efefef 0%, #e6e6e6);background: -o-linear-gradient(top, #efefef 0%, #e6e6e6);background: linear-gradient(top, #efefef 0%, #e6e6e6);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#efefef", endColorStr="#e6e6e6");');
        $T.add(".menu_default_main div div", "border-top: 1px solid #dddddd;margin-top: 2px;margin-bottom: 2px;margin-left: 28px;");
        $T.add(".menu_default_main a.menu_default_item_disabled", "color: #ccc");
        $T.add(".menu_default_item_haschildren.menu_default_item_haschildren_active", 'background: #eeeeee;background: -webkit-gradient(linear, left top, left bottom, from(#efefef), to(#e6e6e6));background: -webkit-linear-gradient(top, #efefef 0%, #e6e6e6);background: -moz-linear-gradient(top, #efefef 0%, #e6e6e6);background: -ms-linear-gradient(top, #efefef 0%, #e6e6e6);background: -o-linear-gradient(top, #efefef 0%, #e6e6e6);background: linear-gradient(top, #efefef 0%, #e6e6e6);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#efefef", endColorStr="#e6e6e6");');
        $T.add(".menu_default_item_haschildren a:before", "content: ''; border-width: 6px; border-color: transparent transparent transparent black; border-style: solid; width: 0px; height:0px; position: absolute; right: 5px; margin-top: 4px;");
        $T.add(".month_default_main", "border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;color: #333;");
        $T.add(".month_default_main *, .month_default_main *:before, .month_default_main *:after", "box-sizing: content-box;");
        $T.add(".month_default_cell_inner", "border-right: 1px solid #ddd;border-bottom: 1px solid #ddd;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;background-color: #f9f9f9;");
        $T.add(".month_default_cell_business .month_default_cell_inner", "background-color: #fff;");
        $T.add(".month_default_cell_header", "text-align: right;padding-right: 2px;");
        $T.add(".month_default_header_inner", 'text-align: center; vertical-align: middle;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;cursor: default;color: #333;background: #f3f3f3;');
        $T.add(".month_default_message", 'padding: 10px;opacity: 0.9;filter: alpha(opacity=90);color: #ffffff;background: #ffa216;background: -webkit-gradient(linear, left top, left bottom, from(#ffa216), to(#ff8400));background: -webkit-linear-gradient(top, #ffa216 0%, #ff8400);background: -moz-linear-gradient(top, #ffa216 0%, #ff8400);background: -ms-linear-gradient(top, #ffa216 0%, #ff8400);background: -o-linear-gradient(top, #ffa216 0%, #ff8400);background: linear-gradient(top, #ffa216 0%, #ff8400);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffa216", endColorStr="#ff8400");');
        $T.add(".month_default_event_inner", 'position: absolute;top: 0px;bottom: 0px;left: 1px;right: 1px;overflow:hidden;padding: 2px;padding-left: 5px;font-size: 12px;color: #333;background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #999;border-radius: 0px;');
        $T.add(".month_default_event_continueright .month_default_event_inner", "border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-right-style: dotted;");
        $T.add(".month_default_event_continueleft .month_default_event_inner", "border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-left-style: dotted;");
        $T.add(".month_default_event_hover .month_default_event_inner", 'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#e8e8e8));background: -webkit-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -moz-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -ms-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -o-linear-gradient(top, #ffffff 0%, #e8e8e8);background: linear-gradient(top, #ffffff 0%, #e8e8e8);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#e8e8e8");');
        $T.add(".month_default_selected .month_default_event_inner, .month_default_event_hover.month_default_selected .month_default_event_inner", "background: #ddd;");
        $T.add(".month_default_shadow_inner", "background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;");
        $T.add(".month_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;");
        $T.add(".month_default_event_delete:hover", "opacity: 1;-ms-filter: none;");
        $T.add(".month_default_event_timeleft", "color: #ccc; font-size: 8pt");
        $T.add(".month_default_event_timeright", "color: #ccc; font-size: 8pt; text-align: right;");
        $T.add(".navigator_default_main", "border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000;");
        $T.add(".navigator_default_main *, .navigator_default_main *:before, .navigator_default_main *:after", "box-sizing: content-box;");
        $T.add(".navigator_default_month", "font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 11px;");
        $T.add(".navigator_default_day", "color: black;");
        $T.add(".navigator_default_weekend", "background-color: #f0f0f0;");
        $T.add(".navigator_default_dayheader", "color: black;");
        $T.add(".navigator_default_line", "border-bottom: 1px solid #c0c0c0;");
        $T.add(".navigator_default_dayother", "color: gray;");
        $T.add(".navigator_default_todaybox", "border: 1px solid red;");
        $T.add(".navigator_default_title, .navigator_default_titleleft, .navigator_default_titleright", 'border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;');
        $T.add(".navigator_default_busy", "font-weight: bold;");
        $T.add(".navigator_default_cell", "text-align: center;");
        $T.add(".navigator_default_select .navigator_default_cell_box", "background-color: #FFE794; opacity: 0.5;");
        $T.add(".navigator_default_title", "text-align: center;");
        $T.add(".navigator_default_titleleft, .navigator_default_titleright", "text-align: center;");
        $T.add(".navigator_default_dayheader", "text-align: center;");
        $T.add(".navigator_default_weeknumber", "text-align: center;");
        $T.add(".scheduler_default_main *, .scheduler_default_main *:before, .scheduler_default_main *:after", "box-sizing: content-box;");
        $T.add(".scheduler_default_main", "box-sizing: content-box; border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;");
        $T.add(".scheduler_default_selected .scheduler_default_event_inner", "background: #ddd;");
        $T.add(".scheduler_default_timeheader", "cursor: default;color: #333;");
        $T.add(".scheduler_default_message", "opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;");
        $T.add(".scheduler_default_timeheadergroup,.scheduler_default_timeheadercol", "color: #333;background: #f3f3f3;");
        $T.add(".scheduler_default_rowheader,.scheduler_default_corner", "color: #333;background: #f3f3f3;");
        $T.add(".scheduler_default_rowheader.scheduler_default_rowheader_selected", "background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
        $T.add(".scheduler_default_rowheader_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #eee;padding: 2px;");
        $T.add(".scheduler_default_timeheadergroup, .scheduler_default_timeheadercol", "text-align: center;");
        $T.add(".scheduler_default_timeheadergroup_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;");
        $T.add(".scheduler_default_timeheadercol_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;");
        $T.add(".scheduler_default_divider, .scheduler_default_splitter", "background-color: #c0c0c0;");
        $T.add(".scheduler_default_divider_horizontal", "background-color: #c0c0c0;");
        $T.add(".scheduler_default_matrix_vertical_line", "background-color: #eee;");
        $T.add(".scheduler_default_matrix_vertical_break", "background-color: #000;");
        $T.add(".scheduler_default_matrix_horizontal_line", "background-color: #eee;");
        $T.add(".scheduler_default_resourcedivider", "background-color: #c0c0c0;");
        $T.add(".scheduler_default_shadow_inner", "background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;");
        $T.add(".scheduler_default_event", "font-size:12px;color:#333;");
        $T.add(".scheduler_default_event_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;");
        $T.add(".scheduler_default_event_bar", "top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;");
        $T.add(".scheduler_default_event_bar_inner", "position:absolute;height:4px;background-color:#1066a8;");
        $T.add(".scheduler_default_event_inner", 'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $T.add(".scheduler_default_event_float_inner", "padding:6px 2px 2px 8px;");
        $T.add(".scheduler_default_event_float_inner:after", 'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;');
        $T.add(".scheduler_default_columnheader_inner", "font-weight: bold;");
        $T.add(".scheduler_default_columnheader_splitter", "background-color: #666;opacity: 0.5;filter: alpha(opacity=50);");
        $T.add(".scheduler_default_columnheader_cell_inner", "padding: 2px;");
        $T.add(".scheduler_default_cell", "background-color: #f9f9f9;");
        $T.add(".scheduler_default_cell.scheduler_default_cell_business", "background-color: #fff;");
        $T.add(".scheduler_default_cell.scheduler_default_cell_business.scheduler_default_cell_selected,.scheduler_default_cell.scheduler_default_cell_selected", "background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,	color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
        $T.add(".scheduler_default_tree_image_no_children", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);");
        $T.add(".scheduler_default_tree_image_expand", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);");
        $T.add(".scheduler_default_tree_image_collapse", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);");
        $T.add(".scheduler_default_event_move_left", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $T.add(".scheduler_default_event_move_right", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $T.add(".scheduler_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;");
        $T.add(".scheduler_default_event_delete:hover", "opacity: 1;-ms-filter: none;");
        $T.add(".scheduler_default_rowmove_handle", "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;");
        $T.add(".scheduler_default_rowmove_source", "background-color: black; opacity: 0.2;");
        $T.add(".scheduler_default_rowmove_position_before, .scheduler_default_rowmove_position_after", "background-color: #999; height: 2px;");
        $T.add(".scheduler_default_rowmove_position_child", "margin-left: 10px; background-color: #999; height: 2px;");
        $T.add(".scheduler_default_rowmove_position_child:before", "content: '+'; color: #999; position: absolute; top: -8px; left: -10px;");
        $T.add(".scheduler_default_rowmove_position_forbidden", "background-color: red; height: 2px; margin-left: 10px;");
        $T.add(".scheduler_default_rowmove_position_forbidden:before", "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;");
        $T.add(".scheduler_default_link_horizontal", "border-bottom-style: solid; border-bottom-color: red");
        $T.add(".scheduler_default_link_vertical", "border-right-style: solid; border-right-color: red");
        $T.add(".scheduler_default_link_arrow_right:before", "content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;");
        $T.add(".scheduler_default_link_arrow_left:before", "content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;");
        $T.add(".scheduler_default_link_arrow_down:before", "content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;");
        $T.add(".scheduler_default_link_arrow_up:before", "content: ''; border-width: 6px; border-color: transparent transparent red transparent; border-style: solid; width: 0px; height:0px; position: absolute;");
        $T.add(".scheduler_default_shadow_overlap .scheduler_default_shadow_inner", "background-color: red;");
        $T.add(".scheduler_default_block", "background-color: gray; opacity: 0.5; filter: alpha(opacity=50);");
        $T.add(".scheduler_default_main .scheduler_default_event_group", "box-sizing: border-box; font-size:12px; color:#666; padding:4px 2px 2px 2px; overflow:hidden; border:1px solid #ccc; background-color: #fff;");
        $T.add(".scheduler_default_main .scheduler_default_header_icon", "box-sizing: border-box; border: 1px solid #c0c0c0; background-color: #f5f5f5; color: #000;");
        $T.add(".scheduler_default_header_icon:hover", "background-color: #ccc;");
        $T.add(".scheduler_default_header_icon_hide:before", "content: '\\00AB';");
        $T.add(".scheduler_default_header_icon_show:before", "content: '\\00BB';");
        $T.add(".scheduler_default_row_new .scheduler_default_rowheader_inner", "cursor: text; background-position: 0px 5px; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);");
        $T.add(".scheduler_default_row_new .scheduler_default_rowheader_inner:hover", "background: white;");
        $T.add(".scheduler_default_rowheader textarea", "padding: 3px;");
        $T.add(".scheduler_default_rowheader_scroll", "cursor: default;");
        $T.add(".scheduler_default_shadow_forbidden .scheduler_default_shadow_inner", "background-color: red;");
        $T.add(".scheduler_default_event_moving_source", "opacity: 0.5; filter: alpha(opacity=50);");
        $T.add(".scheduler_default_linkpoint", "background-color: white; border: 1px solid gray; border-radius: 5px;");
        $T.add(".scheduler_default_linkpoint.scheduler_default_linkpoint_hover", "background-color: black;");
        $T.add(".scheduler_default_event.scheduler_default_event_version .scheduler_default_event_inner", "background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,	color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
        $T.add(".gantt_default_selected .gantt_default_event_inner", "background: #ddd;");
        $T.add(".gantt_default_main", "border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;");
        $T.add(".gantt_default_main *, .gantt_default_main *:before, .gantt_default_main *:after", "box-sizing: content-box;");
        $T.add(".gantt_default_timeheader", "cursor: default;color: #666;");
        $T.add(".gantt_default_message", "opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;");
        $T.add(".gantt_default_timeheadergroup,.gantt_default_timeheadercol", "color: #333;background: #f3f3f3;");
        $T.add(".gantt_default_rowheader,.gantt_default_corner", "color: #333;background: #f3f3f3;");
        $T.add(".gantt_default_rowheader.gantt_default_rowheader_selected", "background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
        $T.add(".gantt_default_rowheader_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;padding: 2px;");
        $T.add(".gantt_default_timeheadergroup, .gantt_default_timeheadercol", "text-align: center;");
        $T.add(".gantt_default_timeheadergroup_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;border-bottom: 1px solid #aaa;");
        $T.add(".gantt_default_timeheadercol_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;");
        $T.add(".gantt_default_divider, .gantt_default_splitter", "background-color: #aaa;");
        $T.add(".gantt_default_divider_horizontal", "background-color: #aaa;");
        $T.add(".gantt_default_matrix_vertical_line", "background-color: #eee;");
        $T.add(".gantt_default_matrix_vertical_break", "background-color: #000;");
        $T.add(".gantt_default_matrix_horizontal_line", "background-color: #eee;");
        $T.add(".gantt_default_resourcedivider", "background-color: #aaa;");
        $T.add(".gantt_default_shadow_inner", "background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;");
        $T.add(".gantt_default_event", "font-size:12px;color:#666;");
        $T.add(".gantt_default_event_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;");
        $T.add(".gantt_default_event_bar", "top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;");
        $T.add(".gantt_default_event_bar_inner", "position:absolute;height:4px;background-color:#1066a8;");
        $T.add(".gantt_default_event_inner", 'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $T.add(".gantt_default_event_float_inner", "padding:6px 2px 2px 8px;");
        $T.add(".gantt_default_event_float_inner:after", 'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;');
        $T.add(".gantt_default_columnheader_inner", "font-weight: bold;");
        $T.add(".gantt_default_columnheader_splitter", "background-color: #666;opacity: 0.5;filter: alpha(opacity=50);");
        $T.add(".gantt_default_columnheader_cell_inner", "padding: 2px;");
        $T.add(".gantt_default_cell", "background-color: #f9f9f9;");
        $T.add(".gantt_default_cell.gantt_default_cell_business", "background-color: #fff;");
        $T.add(".gantt_default_cell.gantt_default_cell_business.gantt_default_cell_selected,.gantt_default_cell.gantt_default_cell_selected", "background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,	color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
        $T.add(".gantt_default_tree_image_no_children", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);");
        $T.add(".gantt_default_tree_image_expand", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);");
        $T.add(".gantt_default_tree_image_collapse", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);");
        $T.add(".gantt_default_event_move_left", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $T.add(".gantt_default_event_move_right", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $T.add(".gantt_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;");
        $T.add(".gantt_default_event_delete:hover", "opacity: 1;-ms-filter: none;");
        $T.add(".gantt_default_rowmove_handle", "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;");
        $T.add(".gantt_default_rowmove_source", "background-color: black; opacity: 0.2;");
        $T.add(".gantt_default_rowmove_position_before, .gantt_default_rowmove_position_after", "background-color: #999; height: 2px;");
        $T.add(".gantt_default_rowmove_position_child", "margin-left: 10px; background-color: #999; height: 2px;");
        $T.add(".gantt_default_rowmove_position_child:before", "content: '+'; color: #999; position: absolute; top: -8px; left: -10px;");
        $T.add(".gantt_default_rowmove_position_forbidden", "background-color: red; height: 2px; margin-left: 10px;");
        $T.add(".gantt_default_rowmove_position_forbidden:before", "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;");
        $T.add(".gantt_default_task_group .gantt_default_event_inner", "position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: blue; filter: none; border: 0px none;");
        $T.add(".gantt_default_task_group.gantt_default_event:before", "content:''; border-color: transparent transparent transparent blue; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;");
        $T.add(".gantt_default_task_group.gantt_default_event:after", "content:''; border-color: transparent blue transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;");
        $T.add(".gantt_default_task_milestone .gantt_default_event_inner", "position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: green; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;");
        $T.add(".gantt_default_browser_ie8 .gantt_default_task_milestone .gantt_default_event_inner", "-ms-filter: \"progid:$3G.Microsoft.Matrix($3H='auto expand',$3I=0.7071067811865476,$3J=-0.7071067811865475,$3K=0.7071067811865475,$3L=0.7071067811865476);\"");
        $T.add(".gantt_default_event_left", "white-space: nowrap; padding-top: 5px; color: #666; cursor: default;");
        $T.add(".gantt_default_event_right", "white-space: nowrap; padding-top: 5px; color: #666; cursor: default;");
        $T.add(".gantt_default_link_horizontal", "border-bottom-style: solid; border-bottom-color: red;");
        $T.add(".gantt_default_link_vertical", "border-right-style: solid; border-right-color: red;");
        $T.add(".gantt_default_link_arrow_right:before", "content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;");
        $T.add(".gantt_default_link_arrow_left:before", "content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;");
        $T.add(".gantt_default_link_arrow_down:before", "content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;");
        $T.add(".gantt_default_link_arrow_up:before", "content: ''; border-width: 6px; border-color: transparent transparent red transparent; border-style: solid; width: 0px; height:0px; position: absolute;");
        $T.add(".gantt_default_shadow_overlap .gantt_default_shadow_inner", "background-color: red;");
        $T.add(".gantt_default_block", "background-color: gray; opacity: 0.5; filter: alpha(opacity=50);");
        $T.add(".gantt_default_link_hover", "box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)");
        $T.add(".gantt_default_main .gantt_default_header_icon", "box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;");
        $T.add(".gantt_default_header_icon:hover", "background-color: #ccc;");
        $T.add(".gantt_default_header_icon_hide:before", "content: '\\00AB';");
        $T.add(".gantt_default_header_icon_show:before", "content: '\\00BB';");
        $T.add(".gantt_default_row_new .gantt_default_rowheader_inner", "cursor: text; background-position: 0 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);");
        $T.add(".gantt_default_row_new .gantt_default_rowheader_inner:hover", "background: white;");
        $T.add(".gantt_default_rowheader textarea", "padding: 5px;");
        $T.add(".gantt_default_rowheader_scroll", "cursor: default;");
        $T.add(".gantt_default_shadow_forbidden .gantt_default_shadow_inner", "background-color: red;");
        $T.add(".gantt_default_event_moving_source", "opacity: 0.5; filter: alpha(opacity=50);");
        $T.add(".gantt_default_event.gantt_default_event_version .gantt_default_event_inner", "background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,	color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
        $T.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event:before", "border:0;");
        $T.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before", 'content:"";border-color: transparent #fff transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;left:-4px;');
        $T.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner", "padding-left: 8px;");
        $T.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before", 'content:"";border-color: transparent #000 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;left:-4px;');
        $T.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event:after", "border:0;");
        $T.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after", 'content:"";border-color: transparent transparent transparent #fff;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;right:-2px;');
        $T.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner", "padding-right: 8px;");
        $T.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after", 'content:"";border-color: transparent transparent transparent #000;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;right:-2px;');
        $T.add(".gantt_default_linkpoint", "background-color: white; border: 1px solid gray; border-radius: 5px;");
        $T.add(".gantt_default_linkpoint.gantt_default_linkpoint_hover", "background-color: black;");
        $T.add(".kanban_default_main *, .kanban_default_main *:before, .kanban_default_main *:after", "box-sizing: content-box;");
        $T.add(".kanban_default_main", "box-sizing: content-box; border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;");
        $T.add(".kanban_default_selected .kanban_default_event_inner", "background: #ddd;");
        $T.add(".kanban_default_timeheader", "cursor: default;color: #333;");
        $T.add(".kanban_default_message", "opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;");
        $T.add(".kanban_default_colheadercell", "color: #333;background: #f3f3f3;");
        $T.add(".kanban_default_rowheader,.kanban_default_corner", "color: #333;background: #f3f3f3;");
        $T.add(".kanban_default_rowheader.kanban_default_rowheader_selected", "background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
        $T.add(".kanban_default_rowheader_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #f3f3f3;padding: 2px;");
        $T.add(".kanban_default_colheadercell", "text-align: center;");
        $T.add(".kanban_default_colheadercell_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;");
        $T.add(".kanban_default_divider, .kanban_default_splitter", "background-color: #c0c0c0;");
        $T.add(".kanban_default_divider_horizontal", "background-color: #c0c0c0;");
        $T.add(".kanban_default_matrix_vertical_line", "background-color: #eee;");
        $T.add(".kanban_default_matrix_vertical_break", "background-color: #000;");
        $T.add(".kanban_default_matrix_horizontal_line", "background-color: #eee;");
        $T.add(".kanban_default_rowheaderdivider", "background-color: #c0c0c0;");
        $T.add(".kanban_default_shadow_inner", "background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;");
        $T.add(".kanban_default_card", "font-size:12px;color:#333;");
        $T.add(".kanban_default_card_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;");
        $T.add(".kanban_default_card_inner", 'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $T.add(".kanban_default_cell", "background-color: #fff;");
        $T.add(".kanban_default_cell.kanban_default_cell_selected", "background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,	color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
        $T.add(".kanban_default_tree_image_no_children", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);");
        $T.add(".kanban_default_tree_image_expand", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);");
        $T.add(".kanban_default_tree_image_collapse", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);");
        $T.add(".kanban_default_card_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;");
        $T.add(".kanban_default_card_delete:hover", "opacity: 1;-ms-filter: none;");
        $T.add(".kanban_default_rowmove_source", "background-color: black; opacity: 0.2;");
        $T.add(".kanban_default_rowmove_position_before, .kanban_default_rowmove_position_after", "background-color: #999; height: 2px;");
        $T.add(".kanban_default_rowmove_position_forbidden", "background-color: red; height: 2px; margin-left: 10px;");
        $T.add(".kanban_default_rowmove_position_forbidden:before", "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;");
        $T.add(".kanban_default_block", "background-color: gray; opacity: 0.5; filter: alpha(opacity=50);");
        $T.add(".kanban_default_main .kanban_default_header_icon", "box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;");
        $T.add(".kanban_default_header_icon:hover", "background-color: #ccc;");
        $T.add(".kanban_default_header_icon_hide:before", "content: '\\00AB';");
        $T.add(".kanban_default_header_icon_show:before", "content: '\\00BB';");
        $T.add(".kanban_default_row_new .kanban_default_rowheader_inner", "cursor: text; background-position: 0px 5px; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);");
        $T.add(".kanban_default_row_new .kanban_default_rowheader_inner:hover", "background: white;");
        $T.add(".kanban_default_rowheader textarea", "padding: 3px;");
        $T.add(".kanban_default_rowheader_scroll", "cursor: default;");
        $T.add(".kanban_default_card_moving_source", "opacity: 0.5; filter: alpha(opacity=50);");
        $T.add(".kanban_default_card .kanban_default_card_inner", "padding: 5px 5px 5px 10px;");
        $T.add(".kanban_default_cell", "background-color: #fff;");
        $T.add(".kanban_default_rowmove_handle", "opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;");
        $T.add(".kanban_default_card_header", "font-size: 120%; font-weight: bold;");
        $T.add(".kanban_default_card_bar", "background-color: #cc0000; cursor:move;");
        $T.add(".kanban_default_cell.kanban_default_collapsed", "background-color: #eee;");
        $T.add(".kanban_default_swimlane_collapse", "cursor:pointer; border: 1px solid #ccc; text-align:center;");
        $T.add(".kanban_default_swimlane_collapse:before", "content: '^';");
        $T.add(".kanban_default_swimlane_expand", "cursor:pointer; border: 1px solid #ccc; text-align:center;");
        $T.add(".kanban_default_swimlane_expand:before", "content: '>';");
        $T.add(".kanban_default_columnmove_handle", "opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;");
        $T.add(".kanban_default_columnmove_position", "background-color: #333;");
        $T.commit();
        DayPilot.Global.defaultCss = true;
    })();
    var $3M = function(id) {
        var $3z = this;
        this.id = id;
        this.widths = [];
        this.titles = [];
        this.height = null;
        this.splitterWidth = 3;
        this.css = {};
        this.css.title = null;
        this.css.titleInner = null;
        this.css.splitter = null;
        this.blocks = [];
        this.drag = {};
        this.updated = function() {};
        this.updating = function() {};
        this.init = function() {
            var $a;
            if (!id) {
                throw "error: id not provided";
            } else if (typeof id === 'string') {
                $a = document.getElementById(id);
            } else if (id.appendChild) {
                $a = id;
            } else {
                throw "error: invalid object provided";
            };
            this.div = $a;
            this.blocks = [];
            for (var i = 0; i < this.widths.length; i++) {
                var s = document.createElement("div");
                s.style.display = "inline-block";
                if ($3z.height !== null) {
                    s.style.height = $3z.height + "px";
                } else {
                    s.style.height = "100%";
                };
                s.style.width = (this.widths[i] - this.splitterWidth) + "px";
                s.style.overflow = 'hidden';
                s.style.verticalAlign = "top";
                s.style.position = "relative";
                s.setAttribute("unselectable", "on");
                s.className = this.css.title;
                $a.appendChild(s);
                var $0i = document.createElement("div");
                $0i.innerHTML = this.titles[i];
                $0i.setAttribute("unselectable", "on");
                $0i.className = this.css.titleInner;
                s.appendChild($0i);
                var $3N = document.createElement("div");
                $3N.style.display = "inline-block";
                if ($3z.height !== null) {
                    $3N.style.height = $3z.height + "px";
                } else {
                    $3N.style.height = "100%";
                };
                $3N.style.width = this.splitterWidth + "px";
                $3N.style.position = "relative";
                $3N.appendChild(document.createElement("div"));
                $3N.style.cursor = "col-resize";
                $3N.setAttribute("unselectable", "on");
                $3N.className = this.css.splitter;
                var $1n = {};
                $1n.index = i;
                $1n.width = this.widths[i];
                $3N.data = $1n;
                $3N.onmousedown = function(ev) {
                    $3z.drag.start = DayPilot.page(ev);
                    $3z.drag.data = this.data;
                    $3z.div.style.cursor = "col-resize";
                    ev = ev || window.event;
                    ev.preventDefault ? ev.preventDefault() : ev.returnValue = false;
                };
                $a.appendChild($3N);
                var $3O = {};
                $3O.section = s;
                $3O.handle = $3N;
                this.blocks.push($3O);
            };
            this.registerGlobalHandlers();
        };
        this.updateWidths = function() {
            for (var i = 0; i < this.blocks.length; i++) {
                var $3O = this.blocks[i];
                var $x = this.widths[i];
                $3O.handle.data.width = $x;
                this.$4a(i);
            }
        };
        this.$4a = function(i) {
            var $3O = this.blocks[i];
            var $x = this.widths[i];
            $3O.section.style.width = ($x - this.splitterWidth) + "px";
        };
        this.totalWidth = function() {
            var t = 0;
            for (var i = 0; i < this.widths.length; i++) {
                t += this.widths[i];
            };
            return t;
        };
        this.gMouseMove = function(ev) {
            if (!$3z.drag.start) {
                return;
            };
            var $1n = $3z.drag.data;
            var $3P = DayPilot.page(ev);
            var $3Q = $3P.x - $3z.drag.start.x;
            var i = $1n.index;
            $3z.widths[i] = Math.max(5, $1n.width + $3Q);
            $3z.$4a(i);
            var $1m = {};
            $1m.widths = this.widths;
            $1m.index = $1n.index;
            $3z.updating($1m);
        };
        this.gMouseUp = function(ev) {
            if (!$3z.drag.start) {
                return;
            };
            $3z.drag.start = null;
            document.body.style.cursor = "";
            $3z.div.style.cursor = "";
            var $1n = $3z.drag.data;
            $1n.width = $3z.widths[$1n.index];
            var $1m = {};
            $1m.widths = this.widths;
            $1m.index = $1n.index;
            $3z.updated($1m);
        };
        this.registerGlobalHandlers = function() {
            DayPilot.re(document, 'mousemove', this.gMouseMove);
            DayPilot.re(document, 'mouseup', this.gMouseUp);
        };
    };
    DayPilot.Splitter = $3M;
})();
DayPilot.JSON = {};
(function() {
    function f(n) {
        return n < 10 ? '0' + n : n;
    };
    if (typeof Date.prototype.toJSON !== 'function') {
        Date.prototype.toJSON = function() {
            return isFinite(this.valueOf()) ? this.getUTCFullYear() + '-' + f(this.getUTCMonth() + 1) + '-' + f(this.getUTCDate()) + 'T' + f(this.getUTCHours()) + ':' + f(this.getUTCMinutes()) + ':' + f(this.getUTCSeconds()) + 'Z' : null;
        };
    };
    if (typeof String.prototype.toJSON !== 'function') {
        String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function($1s) {
            return this.valueOf();
        };
    };
    var cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
        $3R = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
        $3S, $3T, $3U = {
            '\b': '\\b',
            '\t': '\\t',
            '\n': '\\n',
            '\f': '\\f',
            '\r': '\\r',
            '"': '\\"',
            '\\': '\\\\'
        },
        $3V;

    function quote($07) {
        $3R.lastIndex = 0;
        return $3R.test($07) ? '"' + $07.replace($3R, function(a) {
            var c = $3U[a];
            if (typeof c === 'string') {
                return c;
            };
            return '\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
        }) + '"' : '"' + $07 + '"';
    };

    function str($1s, $3W) {
        var i, k, v, length, $3X = $3S,
            $3Y, $1U = $3W[$1s];
        if ($1U && typeof $1U === 'object' && typeof $1U.toJSON === 'function' && !$1U.ignoreToJSON) {
            $1U = $1U.toJSON($1s);
        };
        if (typeof $3V === 'function') {
            $1U = $3V.call($3W, $1s, $1U);
        };
        switch (typeof $1U) {
            case 'string':
                return quote($1U);
            case 'number':
                return isFinite($1U) ? String($1U) : 'null';
            case 'boolean':
            case 'null':
                return String($1U);
            case 'object':
                if (!$1U) {
                    return 'null';
                };
                $3S += $3T;
                $3Y = [];
                if (typeof $1U.length === 'number' && !$1U.propertyIsEnumerable('length')) {
                    length = $1U.length;
                    for (i = 0; i < length; i += 1) {
                        $3Y[i] = str(i, $1U) || 'null';
                    };
                    v = $3Y.length === 0 ? '[]' : $3S ? '[\n' + $3S + $3Y.join(',\n' + $3S) + '\n' + $3X + ']' : '[' + $3Y.join(',') + ']';
                    $3S = $3X;
                    return v;
                };
                if ($3V && typeof $3V === 'object') {
                    length = $3V.length;
                    for (i = 0; i < length; i += 1) {
                        k = $3V[i];
                        if (typeof k === 'string') {
                            v = str(k, $1U);
                            if (v) {
                                $3Y.push(quote(k) + ($3S ? ': ' : ':') + v);
                            }
                        }
                    }
                } else {
                    for (k in $1U) {
                        if (Object.hasOwnProperty.call($1U, k)) {
                            v = str(k, $1U);
                            if (v) {
                                $3Y.push(quote(k) + ($3S ? ': ' : ':') + v);
                            }
                        }
                    }
                };
                v = ($3Y.length === 0) ? '{\u007D' : $3S ? '{\n' + $3S + $3Y.join(',\n' + $3S) + '\n' + $3X + '\u007D' : '{' + $3Y.join(',') + '\u007D';
                $3S = $3X;
                return v;
        }
    };
    DayPilot.JSON.stringify = function($1U, $3Z, $40) {
        if (typeof JSON !== "undefined" && JSON.stringify) {
            return JSON.stringify($1U, $3Z, $40);
        };
        var i;
        $3S = '';
        $3T = '';
        if (typeof $40 === 'number') {
            for (i = 0; i < $40; i += 1) {
                $3T += ' ';
            }
        } else if (typeof $40 === 'string') {
            $3T = $40;
        };
        $3V = $3Z;
        if ($3Z && typeof $3Z !== 'function' && (typeof $3Z !== 'object' || typeof $3Z.length !== 'number')) {
            throw new Error('JSON.stringify');
        };
        return str('', {
            '': $1U
        });
    };
    DayPilot.JSON.parse = function($02, $41) {
        var j;

        function walk($3W, $1s) {
            var k, v, $1U = $3W[$1s];
            if ($1U && typeof $1U === 'object') {
                for (k in $1U) {
                    if (Object.prototype.hasOwnProperty.call($1U, k)) {
                        v = walk($1U, k);
                        if (v !== undefined) {
                            $1U[k] = v;
                        } else {
                            delete $1U[k];
                        }
                    }
                }
            };
            return $41.call($3W, $1s, $1U);
        };
        $02 = String($02);
        cx.lastIndex = 0;
        if (cx.test($02)) {
            $02 = $02.replace(cx, function(a) {
                return '\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
            });
        };
        if (/^[\],:{};\s]*$/
            .test($02.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, ']').replace(/(?:^|:|,)(?:\s*\[)+/g, ''))) {
            j = eval('(' + $02 + ')');
            return typeof $41 === 'function' ? walk({
                '': j
            }, '') : j;
        };
        throw new SyntaxError('JSON.parse');
    };
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
if (typeof DayPilotBubble === 'undefined') {
    var DayPilotBubble = DayPilot.BubbleVisible = {};
};
(function() {
    if (typeof DayPilot.Bubble !== 'undefined') {
        return;
    };
    var DayPilotBubble = {};
    DayPilotBubble.mouseMove = function(ev) {
        if (typeof(DayPilotBubble) === 'undefined') {
            return;
        };
        DayPilotBubble.mouse = DayPilotBubble.mousePosition(ev);
        var b = DayPilotBubble.active;
        if (b && b.$T.showPosition) {
            var $a = b.$T.showPosition;
            var $b = DayPilotBubble.mouse;
            if ($a.clientX !== $b.clientX || $a.clientY !== $b.clientY) {}
        }
    };
    DayPilotBubble.touchPosition = function(ev) {
        if (!ev || !ev.touches) {
            return null;
        };
        var $c = ev.touches[0];
        var $d = {};
        $d.x = $c.pageX;
        $d.y = $c.pageY;
        $d.clientX = $c.clientX;
        $d.clientY = $c.clientY;
        return $d;
    };
    DayPilotBubble.mousePosition = function(e) {
        var $e = DayPilot.page(e);
        if (e) {
            $e.clientY = e.clientY;
            $e.clientX = e.clientX;
        };
        return $e;
    };
    DayPilot.Bubble = function($f) {
        this.v = '2200';
        var $g = this;
        var $h = {};
        this.cssOnly = true;
        this.hideAfter = 500;
        this.loadingText = "Loading...";
        this.animated = true;
        this.animation = "fast";
        this.position = "EventTop";
        this.hideOnClick = true;
        this.showAfter = 500;
        this.showLoadingLabel = true;
        this.zIndex = 10;
        this.theme = "bubble_default";
        this.$T = function() {};
        this.callBack = function($i) {
            if (this.aspnet()) {
                WebForm_DoCallback(this.uniqueID, DayPilot.JSON.stringify($i), this.updateView, this, this.callbackError, true);
            } else {
                if ($i.calendar.internal.bubbleCallBack) {
                    $i.calendar.internal.bubbleCallBack($i, this);
                } else {
                    $i.calendar.bubbleCallBack($i, this);
                }
            }
        };
        this.callbackError = function($e, $j) {
            alert($e);
        };
        this.updateView = function($e, $j) {
            if ($g !== $j) {
                throw "Callback object mismatch (internal error)";
            };
            if (!$e) {
                $g.removeDiv();
                $g.removeShadow();
                return;
            };
            DayPilotBubble.active = $g;
            if ($g) {
                if ($h.div) {
                    $h.div.firstChild.innerHTML = $e;
                };
                $g.adjustPosition();
                if (!$g.animated) {
                    $g.addShadow();
                }
            }
        };
        this.init = function() {};
        this.aspnet = function() {
            return (typeof WebForm_DoCallback !== 'undefined');
        };
        this.rounded = function() {
            return this.corners === 'Rounded';
        };
        this.showEvent = function(e, $k) {
            var a = new DayPilotBubble.CallBackArgs(e.calendar || e.root, 'Event', e, e.bubbleHtml ? e.bubbleHtml() : null);
            if ($k) {
                this.show(a);
            } else {
                this.showOnMouseOver(a);
            }
        };
        this.showCell = function($l) {
            var a = new DayPilotBubble.CallBackArgs($l.calendar || $l.root, 'Cell', $l, $l.staticBubbleHTML ? $l.staticBubbleHTML() : null);
            this.showOnMouseOver(a);
        };
        this.showTime = function($m) {
            var a = new DayPilotBubble.CallBackArgs($m.calendar || $m.root, 'Time', $m, $m.staticBubbleHTML ? $m.staticBubbleHTML() : null);
            this.showOnMouseOver(a);
        };
        this.showResource = function($n) {
            var a = new DayPilotBubble.CallBackArgs($n.calendar || $n.root, 'Resource', $n, $n.bubbleHtml ? $n.bubbleHtml() : null);
            this.showOnMouseOver(a);
        };
        this.showHtml = function($o, $p) {
            var a = new DayPilotBubble.CallBackArgs(null, 'Html', null, $o);
            a.div = $p;
            this.show(a);
        };
        this.show = function($q) {
            var $r = this.animated;
            this.$T.showPosition = DayPilotBubble.mouse;
            if (!DayPilotBubble.mouse) {
                setTimeout(function() {
                    $g.show($q);
                }, 100);
                return;
            };
            var id;
            try {
                id = DayPilot.JSON.stringify($q.object);
            } catch (e) {
                return;
            };
            if (DayPilotBubble.active === this && this.$T.sourceId === id) {
                return;
            };
            if (typeof DayPilot.Menu !== 'undefined' && DayPilot.Menu.active) {
                return;
            };
            if (!$g.cssOnly) {
                $g.cssOnly = true;
                DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.");
            };
            DayPilotBubble.hideActive();
            DayPilotBubble.active = this;
            this.$T.sourceId = id;
            var $p = document.createElement("div");
            $p.setAttribute("unselectable", "on");
            $p.style.position = 'absolute';
            if (!this.showLoadingLabel) {
                $p.style.display = 'none';
            };
            if (!this.cssOnly) {
                if (this.width) {
                    $p.style.width = this.width;
                };
                $p.style.cursor = 'default';
            } else {
                $p.className = this.$U("_main");
            };
            $p.style.top = '0px';
            $p.style.left = '0px';
            $p.style.zIndex = this.zIndex + 1;
            if ($r) {
                $p.style.visibility = 'hidden';
            };
            if (this.hideOnClick) {
                $p.onclick = function() {
                    DayPilotBubble.hideActive();
                };
            };
            $p.onmousemove = function(e) {
                DayPilotBubble.cancelTimeout();
                var e = e || window.event;
                e.cancelBubble = true;
            };
            $p.oncontextmenu = function() {
                return false;
            };
            $p.onmouseout = this.delayedHide;
            var $s = document.createElement("div");
            $p.appendChild($s);
            if (this.cssOnly) {
                $s.className = this.$U("_main_inner");
            } else {
                $s.style.padding = '4px';
                if (this.border) {
                    $s.style.border = this.border;
                };
                if (this.rounded()) {
                    $s.style.MozBorderRadius = "5px";
                    $s.style.webkitBorderRadius = "5px";
                    $s.style.borderRadius = "5px";
                };
                $s.style.backgroundColor = this.backgroundColor;
            };
            $s.innerHTML = this.loadingText;
            document.body.appendChild($p);
            $h.div = $p;
            var $p = this.getDiv($q);
            if (this.position === "EventTop" && $p) {
                var $t = 2;
                var $u = DayPilot.abs($p, true);
                this.$T.mouse = DayPilotBubble.mouse;
                this.$T.mouse.x = $u.x;
                this.$T.mouse.y = $u.y;
                this.$T.mouse.h = $u.h + $t;
                this.$T.mouse.w = $u.w;
            } else {
                this.$T.mouse = DayPilotBubble.mouse;
            };
            if (this.showLoadingLabel && !$r) {
                this.adjustPosition();
                this.addShadow();
            };
            if ($q.staticHTML && typeof this.onLoad !== 'function') {
                this.updateView($q.staticHTML, this);
            } else if (typeof this.onLoad === 'function') {
                var $i = {};
                $i.source = $q.object;
                $i.async = false;
                $i.html = $q.staticHTML;
                $i.loaded = function() {
                    if (this.async) {
                        $g.updateView($i.html, $g);
                    }
                };
                this.onLoad($i);
                if (!$i.async) {
                    $g.updateView($i.html, $g);
                }
            } else if (this.$V($q)) {
                this.callBack($q);
            }
        };
        this.getDiv = function($q) {
            if ($q.div) {
                return $q.div;
            };
            if ($q.type === 'Event' && $q.calendar && $q.calendar.internal.findEventDiv) {
                return $q.calendar.internal.findEventDiv($q.object);
            }
        };
        this.$U = function($v) {
            var $w = this.theme || this.cssClassPrefix;
            if ($w) {
                return $w + $v;
            } else {
                return "";
            }
        };
        this.loadingElement = null;
        this.loadingStart = function($u) {};
        this.loadingStop = function() {};
        this.adjustPosition = function() {
            var $r = this.animated;
            var $x = this.position;
            var $y = 10;
            if (!$h.div) {
                return;
            };
            if (!this.$T.mouse) {
                return;
            };
            if (!this.$T.mouse.x || !this.$T.mouse.y) {
                DayPilotBubble.hideActive();
                return;
            };
            var $p = $h.div;
            $p.style.display = '';
            var $z = $p.offsetHeight;
            var $A = $p.offsetWidth;
            $p.style.display = 'none';
            var wd = DayPilot.wd();
            var $B = wd.width;
            var $C = wd.height;
            if ($x === 'Mouse') {
                var $D = 22;
                var $E = 10;
                var top = 0;
                if (this.$T.mouse.clientY > $C - $z + $y) {
                    var $F = this.$T.mouse.clientY - ($C - $z) + $y;
                    top = (this.$T.mouse.y - $z - $E);
                } else {
                    top = this.$T.mouse.y + $D;
                };
                if (typeof top === 'number') {
                    $p.style.top = Math.max(top, 0) + "px";
                };
                if (this.$T.mouse.clientX > $B - $A + $y) {
                    var $G = this.$T.mouse.clientX - ($B - $A) + $y;
                    $p.style.left = (this.$T.mouse.x - $G) + 'px';
                } else {
                    $p.style.left = this.$T.mouse.x + 'px';
                }
            } else if ($x === 'EventTop') {
                var $H = 2;
                var top = this.$T.mouse.y - $z - $H;
                var $I = wd.scrollTop;
                if (top < $I) {
                    top = this.$T.mouse.y + this.$T.mouse.h + $H;
                };
                if (typeof top === 'number') {
                    $p.style.top = Math.max(top, 0) + 'px';
                };
                var $J = this.$T.mouse.x;
                if (this.$T.mouse.x + $A + $y > $B) {
                    $J = $B - $A - $y;
                };
                $p.style.left = $J + 'px';
            };
            $p.style.display = '';
            if ($r) {
                $p.style.display = '';
                var $K = {};
                $K.color = $p.firstChild.style.color;
                $K.overflow = $p.style.overflow;
                $p.firstChild.style.color = "transparent";
                $p.style.overflow = 'hidden';
                this.removeShadow();
                DayPilot.pop($p, {
                    "finished": function() {
                        $p.firstChild.style.color = $K.color;
                        $p.style.overflow = $K.overflow;
                        $g.addShadow();
                    },
                    "vertical": "bottom",
                    "horizontal": "left",
                    "animation": $g.animation
                });
            }
        };
        this.delayedHide = function() {
            DayPilotBubble.cancelTimeout();
            if ($g.hideAfter > 0) {
                DayPilotBubble.timeout = window.setTimeout(DayPilotBubble.hideActive, $g.hideAfter);
            }
        };
        this.showOnMouseOver = function($q) {
            DayPilotBubble.cancelTimeout();
            var $L = function($M) {
                return function() {
                    $g.show($M);
                };
            };
            DayPilotBubble.timeout = window.setTimeout($L($q), this.showAfter);
        };
        this.hideOnMouseOut = function() {
            this.delayedHide();
        };
        this.$V = function($i) {
            if ($i.calendar.backendUrl) {
                return true;
            };
            if (typeof WebForm_DoCallback === 'function' && this.uniqueID) {
                return true;
            };
            return false;
        };
        this.addShadow = function() {
            if (!this.useShadow) {
                return;
            };
            if (this.cssOnly) {
                return;
            };
            if (!$h.div) {
                return;
            };
            var $p = $h.div;
            if (this.shadows && this.shadows.length > 0) {
                this.removeShadow();
            };
            this.shadows = [];
            for (var i = 0; i < 5; i++) {
                var $N = document.createElement('div');
                $N.setAttribute("unselectable", "on");
                $N.style.position = 'absolute';
                $N.style.width = $p.offsetWidth + 'px';
                $N.style.height = $p.offsetHeight + 'px';
                $N.style.top = $p.offsetTop + i + 'px';
                $N.style.left = $p.offsetLeft + i + 'px';
                $N.style.zIndex = this.zIndex;
                $N.style.filter = 'alpha(opacity:10)';
                $N.style.opacity = 0.1;
                $N.style.backgroundColor = '#000000';
                if (this.rounded()) {
                    $N.style.MozBorderRadius = "5px";
                    $N.style.webkitBorderRadius = "5px";
                    $N.style.borderRadius = "5px";
                };
                document.body.appendChild($N);
                this.shadows.push($N);
            }
        };
        this.removeShadow = function() {
            if (!this.shadows) {
                return;
            };
            for (var i = 0; i < this.shadows.length; i++) {
                document.body.removeChild(this.shadows[i]);
            };
            this.shadows = [];
        };
        this.removeDiv = function() {
            if (!$h.div) {
                return;
            };
            document.body.removeChild($h.div);
            $h.div = null;
        };
        if ($f) {
            for (var name in $f) {
                this[name] = $f[name];
            }
        };
        this.init();
    };
    DayPilot.Bubble.touchPosition = function(ev) {
        if (ev.touches) {
            DayPilotBubble.mouse = DayPilotBubble.touchPosition(ev);
        }
    };
    DayPilotBubble.cancelTimeout = function() {
        if (DayPilotBubble.timeout) {
            window.clearTimeout(DayPilotBubble.timeout);
        }
    };
    DayPilotBubble.hideActive = function() {
        DayPilotBubble.cancelTimeout();
        var $g = DayPilotBubble.active;
        if ($g) {
            $g.removeDiv();
            $g.removeShadow();
        };
        DayPilotBubble.active = null;
    };
    DayPilotBubble.CallBackArgs = function($O, $P, $Q, $R) {
        this.calendar = $O;
        this.type = $P;
        this.object = $Q;
        this.staticHTML = $R;
        this.toJSON = function() {
            var $S = {};
            $S.uid = this.calendar.uniqueID;
            $S.type = this.type;
            $S.object = $Q;
            return $S;
        };
    };
    DayPilot.re(document, 'mousemove', DayPilotBubble.mouseMove);
    DayPilot.BubbleVisible.Bubble = DayPilotBubble.Bubble;
    DayPilot.BubbleVisible.hideActive = DayPilotBubble.hideActive;
    DayPilot.BubbleVisible.cancelTimeout = DayPilotBubble.cancelTimeout;
    DayPilot.Bubble.hideActive = DayPilotBubble.hideActive;
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
if (typeof DayPilotCalendar === 'undefined') {
    var DayPilotCalendar = DayPilot.CalendarVisible = {};
};
(function() {
    if (typeof DayPilot.Calendar !== 'undefined') {
        return;
    };
    DayPilot.Calendar = function(id, $a) {
        this.v = '2200';
        var $b = false;
        if (this instanceof DayPilot.Calendar && !this.$4n) {
            $b = true;
            this.$4n = true;
        };
        if (!$b) {
            throw "DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'";
        };
        var $c = this;
        this.uniqueID = null;
        this.id = id;
        this.isCalendar = true;
        this.api = 2;
        this.clientName = id;
        this.clientState = {};
        this.$4o = {};
        this.$4o.pixels = {};
        this.$4o.events = [];
        this.elements = {};
        this.elements.events = [];
        this.elements.separators = [];
        this.nav = {};
        this.events = {};
        this.hideUntilInit = true;
        this.$4p = true;
        this.allDayEnd = "DateTime";
        this.allDayEventHeight = 25;
        this.allowMultiSelect = true;
        this.autoRefreshCommand = 'refresh';
        this.autoRefreshEnabled = false;
        this.autoRefreshInterval = 60;
        this.autoRefreshMaxCount = 20;
        this.backendUrl = null;
        this.borderColor = "#000000";
        this.bubble = null;
        this.businessBeginsHour = 9;
        this.businessEndsHour = 18;
        this.cellBackColor = "#FFFFD5";
        this.cellBackColorNonBusiness = "#FFF4BC";
        this.cellBorderColor = "#999999";
        this.cellHeight = 20;
        this.cellDuration = 30;
        this.columnBubble = null;
        this.columnMarginRight = 5;
        this.columns = null;
        this.columnWidth = 200;
        this.columnWidthSpec = "Auto";
        this.contextMenu = null;
        this.contextMenuSelection = null;
        this.cornerBackColor = "#ECE9D8";
        this.cornerHtml = '';
        this.crosshairColor = 'Gray';
        this.crosshairOpacity = 20;
        this.crosshairType = "Header";
        this.cssOnly = true;
        this.dayBeginsHour = 0;
        this.dayEndsHour = 24;
        this.days = 1;
        this.durationBarColor = 'blue';
        this.durationBarVisible = true;
        this.durationBarWidth = 5;
        this.durationBarImageUrl = null;
        this.eventArrangement = "SideBySide";
        this.eventBackColor = '#ffffff';
        this.eventBorderColor = "#000000";
        this.eventFontFamily = 'Tahoma';
        this.eventFontSize = '8pt';
        this.eventFontColor = "#000000";
        this.eventSelectColor = 'blue';
        this.headerFontSize = '10pt';
        this.headerFontFamily = 'Tahoma';
        this.headerFontColor = "#000000";
        this.headerHeight = 20;
        this.headerLevels = 1;
        this.height = 300;
        this.heightSpec = 'BusinessHours';
        this.hideFreeCells = false;
        this.headerDateFormat = null;
        this.hourHalfBorderColor = "#F3E4B1";
        this.hourBorderColor = "#EAD098";
        this.hourFontColor = "#000000";
        this.hourFontFamily = "Tahoma";
        this.hourFontSize = "16pt";
        this.hourNameBackColor = "#ECE9D8";
        this.hourNameBorderColor = "#ACA899";
        this.hourWidth = 45;
        this.initScrollPos = null;
        this.loadingLabelText = "Loading...";
        this.loadingLabelVisible = true;
        this.loadingLabelBackColor = "orange";
        this.loadingLabelFontColor = "#ffffff";
        this.loadingLabelFontFamily = "Tahoma";
        this.loadingLabelFontSize = "10pt";
        this.locale = "en-us";
        this.messageHideAfter = 5000;
        this.moveBy = "Full";
        this.notifyCommit = 'Immediate';
        this.numberFormat = "0.00";
        this.roundedCorners = false;
        this.rtl = false;
        this.scrollLabelsVisible = false;
        this.selectedColor = "#316AC5";
        this.shadow = 'Fill';
        this.showToolTip = true;
        this.showAllDayEvents = false;
        this.showAllDayEventStartEnd = true;
        this.showEventStartEnd = false;
        this.showHeader = true;
        this.showHours = true;
        this.showCurrentTime = true;
        this.showCurrentTimeMode = "Day";
        this.showCurrentTimeOffset = 0;
        this.startDate = DayPilot.Date.today();
        this.cssClassPrefix = "calendar_default";
        this.tapAndHoldTimeout = 300;
        this.theme = null;
        this.timeFormat = 'Auto';
        this.timeHeaderCellDuration = 60;
        this.useEventBoxes = 'Always';
        this.viewType = 'Days';
        this.visible = true;
        this.weekStarts = null;
        this.width = null;
        this.eventClickHandling = 'Enabled';
        this.eventDoubleClickHandling = 'Disabled';
        this.eventRightClickHandling = 'ContextMenu';
        this.eventDeleteHandling = 'Disabled';
        this.eventEditHandling = 'Update';
        this.eventHoverHandling = 'Bubble';
        this.eventResizeHandling = 'Update';
        this.eventMoveHandling = 'Update';
        this.eventSelectHandling = 'Update';
        this.eventTapAndHoldHandling = 'Move';
        this.headerClickHandling = 'Enabled';
        this.timeRangeTapAndHoldHandling = 'Select';
        this.timeRangeSelectedHandling = 'Enabled';
        this.timeRangeDoubleClickHandling = "Enabled";
        this.timeRangeRightClickHandling = "ContextMenu";
        this.onTimeRangeRightClick = null;
        this.onTimeRangeRightClicked = null;
        this.$4q = true;
        this.$4r = false;
        this.$4s = 0;
        this.doubleClickTimeout = 300;
        this.members = {};
        this.members.obsolete = ["Init", "cleanSelection", "cssClassPrefix", "cssOnly", "clientName", "uniqueID"];
        this.members.ignore = ["internal", "nav", "debug", "temp", "elements", "members"];
        this.members.noCssOnly = ["allDayEventBorderColor", "allDayEventFontColor", "allDayEventFontFamily", "allDayEventFontSize", "borderColor", "cellBackColor", "cellBackColorNonBusiness", "cellBorderColor", "cornerBackColor", "durationBarColor", "durationBarImageUrl", "eventBackColor", "eventBorderColor", "eventFontColor", "eventFontFamily", "eventFontSize", "eventSelectColor", "headerFontColor", "headerFontFamily", "headerFontSize", "hourBorderColor", "hourFontColor", "hourFontFamily", "hourFontSize", "hourHalfBorderColor", "hourNameBackColor", "hourNameBorderColor", "loadingLabelBackColor", "loadingLabelFontColor", "loadingLabelFontFamily", "loadingLabelFontSize", "roundedCorners", "selectedColor", "shadow", "useEventSelectionBars"];
        this.$4t = {};
        this.$4t.ie = (navigator && navigator.userAgent && navigator.userAgent.indexOf("MSIE") !== -1);
        this.$4t.ie9 = (navigator && navigator.userAgent && navigator.userAgent.indexOf("MSIE 9") !== -1);
        this.$4t.ielt9 = (function() {
            var $d = document.createElement("div");
            $d.innerHTML = "<!--[if lt IE 9]><i></i><![endif]-->";
            var $e = ($d.getElementsByTagName("i").length === 1);
            return $e;
        })();
        this.$4t.ff = (navigator && navigator.userAgent && navigator.userAgent.indexOf("Firefox") !== -1);
        this.$4t.opera105 = (function() {
            if (/Opera[\/\s](\d+\.\d+)/.test(navigator.userAgent)) {
                var v = new Number(RegExp.$1);
                return v >= 10.5;
            };
            return false;
        })();
        this.$4t.webkit522 = (function() {
            if (/AppleWebKit[\/\s](\d+\.\d+)/.test(navigator.userAgent)) {
                var v = new Number(RegExp.$1);
                return v >= 522;
            };
            return false;
        })();
        this.clearSelection = function() {
            if (!this.selectedCells) {
                this.selectedCells = [];
                return;
            };
            this.$4u();
            this.selectedCells = [];
        };
        this.$4u = function() {
            if (!this.selectedCells) {
                return;
            };
            for (var j = 0; j < this.selectedCells.length; j++) {
                var $f = this.selectedCells[j];
                if ($f) {
                    if ($f.selected) {
                        $f.removeChild($f.selected);
                        $f.firstChild.style.display = '';
                        $f.selected = null;
                    }
                }
            }
        };
        this.cleanSelection = this.clearSelection;
        this.$4v = function($g, $h, $i) {
            var $j = {};
            $j.action = $g;
            $j.parameters = $i;
            $j.data = $h;
            $j.header = this.$4w();
            var $k = "JSON" + DayPilot.JSON.stringify($j);
            __doPostBack($c.uniqueID, $k);
        };
        this.$4x = function($g, $i, $h, $l) {
            if (!this.$4y()) {
                $c.debug.message("Callback invoked without the server-side backend specified. Callback canceled.", "warning");
                return;
            };
            if (this.callbackTimeout) {
                window.clearTimeout(this.callbackTimeout);
            };
            if (typeof $l === 'undefined') {
                $l = "CallBack";
            };
            this.callbackTimeout = window.setTimeout(function() {
                $c.$4z();
            }, 100);
            var $j = {};
            $j.action = $g;
            $j.type = $l;
            $j.parameters = $i;
            $j.data = $h;
            $j.header = this.$4w();
            var $k = "JSON" + DayPilot.JSON.stringify($j);
            if (this.backendUrl) {
                DayPilot.request(this.backendUrl, this.$4A, $k, this.$4B);
            } else if (typeof WebForm_DoCallback === 'function') {
                WebForm_DoCallback(this.uniqueID, $k, this.$4C, this.clientName, this.onCallbackError, true);
            }
        };
        this.$4y = function() {
            if (this.backendUrl) {
                return true;
            };
            if (typeof WebForm_DoCallback === 'function' && this.uniqueID) {
                return true;
            };
            return false;
        };
        this.$4B = function($m) {
            if (typeof $c.onAjaxError === 'function') {
                var $n = {};
                $n.request = $m;
                $c.onAjaxError($n);
            } else if (typeof $c.ajaxError === 'function') {
                $c.ajaxError($m);
            }
        };
        this.dispose = function() {
            var c = $c;
            if (!c.nav.top) {
                return;
            };
            c.$4D();
            c.$4E();
            if (c.nav.messageClose) {
                c.nav.messageClose.onclick = null;
            };
            if (c.nav.hourTable) c.nav.hourTable.oncontextmenu = null;
            if (c.nav.hourTable) c.nav.hourTable.onmousemove = null;
            if (c.nav.header) c.nav.header.oncontextmenu = null;
            if (c.nav.corner) c.nav.corner.oncontextmenu = null;
            c.nav.zoom.onmousemove = null;
            c.nav.scroll.onscroll = null;
            c.nav.scroll.root = null;
            DayPilot.pu(c.nav.loading);
            c.$4F();
            c.$4G();
            c.nav.select = null;
            c.nav.cornerRight = null;
            c.nav.scrollable = null;
            c.nav.bottomLeft = null;
            c.nav.bottomRight = null;
            c.nav.allday = null;
            c.nav.zoom = null;
            c.nav.loading = null;
            c.nav.events = null;
            c.nav.header = null;
            c.nav.hourTable = null;
            c.nav.scrolltop = null;
            c.nav.scroll = null;
            c.nav.vsph = null;
            c.nav.main = null;
            c.nav.message = null;
            c.nav.messageClose = null;
            c.nav.top.removeAttribute("style");
            c.nav.top.removeAttribute("class");
            c.nav.top.innerHTML = '';
            c.nav.top.dp = null;
            c.nav.top = null;
            DayPilot.ue(window, 'resize', c.$4H);
            DayPilotCalendar.unregister(c);
        };
        this.$4I = function() {
            this.nav.top.dispose = this.dispose;
        };
        this.$4A = function($o) {
            $c.$4C($o.responseText);
        };
        this.$4w = function() {
            var h = {};
            h.v = this.v;
            h.control = "dpc";
            h.id = this.id;
            h.clientState = $c.clientState;
            h.columns = this.$4J();
            h.days = $c.days;
            h.startDate = $c.startDate;
            h.cellDuration = $c.cellDuration;
            h.cssOnly = $c.cssOnly;
            h.cssClassPrefix = $c.cssClassPrefix;
            h.heightSpec = $c.heightSpec;
            h.businessBeginsHour = $c.businessBeginsHour;
            h.businessEndsHour = $c.businessEndsHour;
            h.viewType = $c.viewType;
            h.dayBeginsHour = $c.dayBeginsHour;
            h.dayEndsHour = $c.dayEndsHour;
            h.headerLevels = $c.headerLevels;
            h.backColor = $c.cellBackColor;
            h.nonBusinessBackColor = $c.cellBackColorNonBusiness;
            h.eventHeaderVisible = $c.eventHeaderVisible;
            h.timeFormat = $c.timeFormat;
            h.timeHeaderCellDuration = $c.timeHeaderCellDuration;
            h.locale = $c.locale;
            h.scrollY = $c.scrollPos;
            h.showAllDayEvents = $c.showAllDayEvents;
            h.tagFields = $c.tagFields;
            h.weekStarts = $c.weekStarts;
            h.hourNameBackColor = $c.hourNameBackColor;
            h.hourFontFamily = $c.hourFontFamily;
            h.hourFontSize = $c.hourFontSize;
            h.hourFontColor = $c.hourFontColor;
            h.selected = $c.multiselect.events();
            h.hashes = $c.hashes;
            return h;
        };
        this.$4K = function() {
            this.$4L();
            DayPilot.Areas.hideAll();
        };
        this.$4J = function() {
            var $p = [];
            $p.ignoreToJSON = true;
            if (!this.columns) {
                return $p;
            };
            for (var i = 0; i < this.columns.length; i++) {
                var $q = this.columns[i];
                var $r = this.$4M($q);
                $p.push($r);
            };
            return $p;
        };
        this.$4M = function($q) {
            var $r = {};
            $r.Value = $q.id;
            $r.Name = $q.name;
            $r.ToolTip = $q.toolTip;
            $r.Date = $q.start;
            $r.Children = this.$4N($q.children);
            return $r;
        };
        this.$4N = function($s) {
            var $t = [];
            $t.ignoreToJSON = true;
            if (!$s) {
                return $t;
            };
            for (var i = 0; i < $s.length; i++) {
                $t.push(this.$4M($s[i]));
            };
            return $t;
        };
        this.$4C = function($u, $v) {
            var $u = DayPilot.Util.parseJSON($u);
            if ($u.BubbleGuid) {
                var $w = $u.BubbleGuid;
                var $x = this.bubbles[$w];
                delete this.bubbles[$w];
                $c.$4O();
                if (typeof $u.Result.BubbleHTML !== 'undefined') {
                    $x.updateView($u.Result.BubbleHTML, $x);
                };
                return;
            };
            if ($u.CallBackRedirect) {
                document.location.href = $u.CallBackRedirect;
                return;
            };
            if (typeof $u.ClientState !== 'undefined') {
                $c.clientState = $u.ClientState;
            };
            if ($u.UpdateType === "None") {
                $c.$4O();
                $c.$4P($u.CallBackData, true);
                if ($u.Message) {
                    $c.message($u.Message);
                };
                return;
            };
            if ($u.VsUpdate) {
                var $y = document.createElement("input");
                $y.type = 'hidden';
                $y.name = $c.id + "_vsupdate";
                $y.id = $y.name;
                $y.value = $u.VsUpdate;
                $c.nav.vsph.innerHTML = '';
                $c.nav.vsph.appendChild($y);
            };
            $c.$4E();
            $c.multiselect.clear(true);
            $c.multiselect.$4Q = $u.SelectedEvents;
            if (typeof $u.TagFields !== 'undefined') {
                $c.tagFields = $u.TagFields;
            };
            if (typeof $u.SortDirections !== 'undefined') {
                $c.sortDirections = $u.SortDirections;
            };
            if ($u.UpdateType === "Full") {
                $c.colors = $u.Colors;
                $c.palette = $u.Palette;
                $c.dirtyColors = $u.DirtyColors;
                $c.cellProperties = $u.CellProperties;
                $c.cellConfig = $u.CellConfig;
                $c.columns = $u.Columns;
                $c.days = $u.Days;
                $c.startDate = new DayPilot.Date($u.StartDate).getDatePart();
                $c.cellDuration = $u.CellDuration;
                $c.heightSpec = $u.HeightSpec ? $u.HeightSpec : $c.heightSpec;
                $c.businessBeginsHour = $u.BusinessBeginsHour ? $u.BusinessBeginsHour : $c.businessBeginsHour;
                $c.businessEndsHour = $u.BusinessEndsHour ? $u.BusinessEndsHour : $c.businessEndsHour;
                $c.viewType = $u.ViewType;
                $c.headerLevels = $u.HeaderLevels;
                $c.backColor = $u.BackColor ? $u.BackColor : $c.backColor;
                $c.nonBusinessBackColor = $u.NonBusinessBackColor ? $u.NonBusinessBackColor : $c.nonBusinessBackColor;
                $c.eventHeaderVisible = $u.EventHeaderVisible ? $u.EventHeaderVisible : $c.eventHeaderVisible;
                $c.timeFormat = $u.TimeFormat ? $u.TimeFormat : $c.timeFormat;
                $c.timeHeaderCellDuration = typeof $u.TimeHeaderCellDuration !== 'undefined' ? $u.TimeHeaderCellDuration : $c.timeHeaderCellDuration;
                $c.locale = $u.Locale ? $u.Locale : $c.locale;
                $c.dayBeginsHour = typeof $u.DayBeginsHour !== 'undefined' ? $u.DayBeginsHour : $c.dayBeginsHour;
                $c.dayEndsHour = typeof $u.DayEndsHour !== 'undefined' ? $u.DayEndsHour : $c.dayEndsHour;
                $c.cornerBackColor = $u.CornerBackColor;
                $c.cornerHtml = $u.CornerHTML;
                $c.hours = $u.Hours;
                $c.$4R();
                $c.$4S();
            };
            if ($u.Hashes) {
                for (var $z in $u.Hashes) {
                    $c.hashes[$z] = $u.Hashes[$z];
                }
            };
            $c.$4T($u.Events);
            $c.$4U();
            if ($u.UpdateType === "Full" || $c.hideFreeCells) {
                $c.$4V();
                $c.$4W();
                $c.$4X();
                $c.$4Y();
                $c.$4Z();
                $c.$50();
                $c.$51();
                $c.$52();
                $c.clearSelection();
                $c.$53();
                if (typeof $u.ScrollY !== "undefined") {
                    $c.scrollToY($u.ScrollY);
                } else {
                    $c.scrollToY($c.initScrollPos);
                }
            };
            $c.$54();
            $c.$55();
            $c.$56();
            $c.$57();
            if ($c.heightSpec === "Parent100Pct") {
                $c.$4H();
            };
            if ($c.timeRangeSelectedHandling !== "HoldForever") {
                $c.clearSelection();
            };
            $c.$58();
            if ($c.todo) {
                if ($c.todo.del) {
                    var $A = $c.todo.del;
                    $A.parentNode.removeChild($A);
                    $c.todo.del = null;
                }
            };
            $c.$4P($u.CallBackData, true);
            $c.$4O();
            $c.$59();
            if ($u.Message) {
                $c.message($u.Message);
            }
        };
        this.$4P = function($h, $B) {
            var $C = function($h, $D) {
                return function() {
                    if ($c.$5a()) {
                        if (typeof $c.onAfterRender === 'function') {
                            var $n = {};
                            $n.isCallBack = $D;
                            $n.data = $h;
                            $c.onAfterRender($n);
                        }
                    } else {
                        if ($c.afterRender) {
                            $c.afterRender($h, $D);
                        }
                    }
                };
            };
            window.setTimeout($C($h, $B), 0);
        };
        this.$5b = function($E, $F, $l) {
            var $G = $c.nav.events;
            var $H = $G.clientWidth / $G.rows[0].cells.length;
            var i = Math.floor($c.coords.x / $H);
            if (i < 0) {
                i = 0;
            };
            if ($c.rtl) {
                i = $c.$5c.length - i - 1;
            };
            var $q = $G.rows[0].cells[i];
            var $I = 0;
            var $J = 0;
            var top = 0;
            if (typeof $E.duration !== 'undefined') {
                var $K = $E.duration;
                top = Math.floor((($c.coords.y - $I) + $c.cellHeight / 2) / $c.cellHeight) * $c.cellHeight + $I;
                $J = $K * $c.cellHeight / (60 * $c.cellDuration);
                $J = Math.max($J, $c.cellHeight);
            } else {
                var e = $E.event;
                $J = e.part.height;
                top = e.part.top;
            };
            var $L = document.createElement('div');
            $L.setAttribute('unselectable', 'on');
            $L.style.position = 'absolute';
            $L.style.width = '100%';
            $L.style.height = $J + 'px';
            $L.style.left = '0px';
            $L.style.top = top + 'px';
            $L.style.zIndex = 101;
            $L.exclude = true;
            var $M = document.createElement("div");
            $L.appendChild($M);
            if (this.cssOnly) {
                $L.className = $c.$5d("_shadow");
                $M.className = this.$5d("_shadow_inner");
            };
            if (!this.cssOnly) {
                $M.style.position = "absolute";
                $M.style.top = "0px";
                $M.style.bottom = "0px";
                $M.style.left = "0px";
                $M.style.right = "0px";
                if ($l === 'Fill') {
                    $M.style.backgroundColor = "#aaaaaa";
                    $M.style.opacity = 0.5;
                    $M.style.filter = "alpha(opacity=50)";
                    $M.style.border = '2px solid #aaaaaa';
                } else {
                    $M.style.border = '2px dotted #666666';
                };
                if (this.roundedCorners) {
                    $M.style.MozBorderRadius = "5px";
                    $M.style.webkitBorderRadius = "5px";
                    $M.style.borderRadius = "5px";
                }
            };
            $q.events.appendChild($L);
            return $L;
        };
        this.$5e = function() {
            return this.$5f() / (3600 * 1000);
        };
        this.$5g = function() {
            if (this.businessBeginsHour > this.businessEndsHour) {
                return 24 - this.businessBeginsHour + this.businessEndsHour;
            } else {
                return this.businessEndsHour - this.businessBeginsHour;
            }
        };
        this.$5h = function() {
            if (this.dayBeginsHour >= this.dayEndsHour) {
                return 24 - this.dayBeginsHour + this.dayEndsHour;
            } else {
                return this.dayEndsHour - this.dayBeginsHour;
            }
        };
        this.$5f = function($N) {
            var $O = 0;
            if (this.heightSpec === 'BusinessHoursNoScroll') {
                $O = this.$5g();
            } else if (this.hideFreeCells && !$N) {
                var $P = (this.$5i - 1) * this.cellDuration / this.cellHeight;
                var $Q = Math.ceil($P / 60);
                var $R = this.businessBeginsHour > this.businessEndsHour ? this.businessEndsHour + 24 : this.businessEndsHour;
                $O = Math.max(this.dayBeginsHour + $Q, $R) - this.$5j();
            } else {
                $O = this.$5h();
            };
            return $O * 60 * 60 * 1000;
        };
        this.message = function($S, $T, $U, $V) {
            if (!$S) {
                return;
            };
            var $T = $T || this.messageHideAfter || 2000;
            var $U = $U || "#ffffff";
            var $V = $V || "#000000";
            var $W = 0.8;
            var $d;
            var top = this.$5k();
            var $X = this.showHours ? this.hourWidth : 0;
            var $Y = DayPilot.sw($c.$5l());
            if (!this.cssOnly) {
                top += 1;
                $X += 2;
                $Y -= 2;
            };
            if ($c.rtl) {
                var $Z = $X;
                $X = $Y;
                $Y = $Z;
            };
            if (!this.nav.message) {
                $d = document.createElement("div");
                $d.style.position = "absolute";
                $d.style.left = ($X) + "px";
                $d.style.top = (top) + "px";
                $d.style.right = "0px";
                $d.style.display = 'none';
                $d.onmousemove = function() {
                    if ($d.messageTimeout && !$d.status) {
                        clearTimeout($d.messageTimeout);
                    }
                };
                $d.onmouseout = function() {
                    if ($c.nav.message.style.display !== 'none') {
                        $d.messageTimeout = setTimeout($c.$5m, 500);
                    }
                };
                var $M = document.createElement("div");
                $M.onclick = function() {
                    $c.nav.message.style.display = 'none';
                };
                if (!this.cssOnly) {
                    $M.style.padding = "5px";
                    $M.style.opacity = $W;
                    $M.style.filter = "alpha(opacity=" + ($W * 100) + ")";
                } else {
                    $M.className = this.$5d("_message");
                };
                $d.appendChild($M);
                var close = document.createElement("div");
                close.style.position = "absolute";
                if (!this.cssOnly) {
                    close.style.top = "5px";
                    close.style.right = (DayPilot.sw($c.$5l()) + 5) + "px";
                    close.style.color = $U;
                    close.style.lineHeight = "100%";
                    close.style.cursor = "pointer";
                    close.style.fontWeight = "bold";
                    close.innerHTML = "X";
                } else {
                    close.className = this.$5d("_message_close");
                };
                close.onclick = function() {
                    $c.nav.message.style.display = 'none';
                };
                $d.appendChild(close);
                this.nav.top.insertBefore($d, this.nav.loading);
                this.nav.message = $d;
                this.nav.messageClose = close;
            } else {
                $d = $c.nav.message;
                this.nav.message.style.top = top + "px";
            };
            if (this.nav.cornerRight) {
                this.nav.message.style.right = $Y + "px";
            } else {
                this.nav.message.style.right = "0px";
            };
            var $00 = function() {
                if (!$c.nav.message) {
                    return;
                };
                var $M = $c.nav.message.firstChild;
                if (!$c.cssOnly) {
                    $M.style.padding = "5px";
                    $M.style.opacity = $W;
                    $M.style.backgroundColor = $V;
                    $M.style.color = $U;
                };
                $M.innerHTML = $S;
                var end = function() {
                    $d.messageTimeout = setTimeout($c.$5m, $T);
                };
                DayPilot.fade($c.nav.message, 0.2, end);
            };
            clearTimeout($d.messageTimeout);
            if (this.nav.message.style.display !== 'none') {
                DayPilot.fade($c.nav.message, -0.2, $00);
            } else {
                $00();
            }
        };
        this.message.show = function($S) {
            $c.message($S);
        };
        this.message.hide = function() {
            $c.$5m();
        };
        this.$5m = function() {
            var end = function() {
                $c.nav.message.style.display = 'none';
            };
            DayPilot.fade($c.nav.message, -0.2, end);
        };
        this.$4Y = function() {
            if (this.nav.message) {
                this.nav.message.style.top = (this.$5k()) + "px";
            }
        };
        this.$5n = function() {
            return this.$5f() / (60 * 1000 * this.cellDuration);
        };
        this.eventClickPostBack = function(e, $h) {
            this.$4v('EventClick', $h, e);
        };
        this.eventClickCallBack = function(e, $h) {
            this.$4x('EventClick', e, $h);
        };
        this.$5o = function(e) {
            var $d = this;
            var e = e || window.event;
            var $01 = e.ctrlKey;
            var $02 = e.metaKey;
            if (typeof(DayPilot.Bubble) !== 'undefined') {
                DayPilot.Bubble.hideActive();
            };
            if ($c.eventDoubleClickHandling === 'Disabled') {
                $c.$5p($d, $01, $02);
                return;
            };
            if (!$c.timeouts) {
                $c.timeouts = [];
            } else {
                for (var $03 in $c.timeouts) {
                    window.clearTimeout($c.timeouts[$03]);
                };
                $c.timeouts = [];
            };
            var $04 = function($d, $01, $02) {
                return function() {
                    $c.$5p($d, $01, $02);
                };
            };
            $c.timeouts.push(window.setTimeout($04(this, $01, $02), $c.doubleClickTimeout));
        };
        this.$5p = function($05, $01, $02) {
            var e = $05.event;
            if (!e.client.clickEnabled()) {
                return;
            };
            if ($c.$5a()) {
                var $n = {};
                $n.e = e;
                $n.ctrl = $01;
                $n.meta = $02;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventClick === 'function') {
                    $c.onEventClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventClickHandling) {
                    case 'PostBack':
                        $c.eventClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventClickCallBack(e);
                        break;
                    case 'Edit':
                        $c.$5q($05);
                        break;
                    case 'Select':
                        $c.$5r($05, e, $01, $02);
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                    case 'ContextMenu':
                        var $06 = e.client.contextMenu();
                        if ($06) {
                            $06.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(e);
                            }
                        };
                        break;
                };
                if (typeof $c.onEventClicked === 'function') {
                    $c.onEventClicked($n);
                }
            } else {
                switch ($c.eventClickHandling) {
                    case 'PostBack':
                        $c.eventClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventClick(e);
                        break;
                    case 'Edit':
                        $c.$5q($05);
                        break;
                    case 'Select':
                        $c.$5r($05, e, $01, $02);
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                    case 'ContextMenu':
                        var $06 = e.client.contextMenu();
                        if ($06) {
                            $06.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(e);
                            }
                        };
                        break;
                }
            }
        };
        this.eventDoubleClickPostBack = function(e, $h) {
            this.$4v('EventDoubleClick', $h, e);
        };
        this.eventDoubleClickCallBack = function(e, $h) {
            this.$4x('EventDoubleClick', e, $h);
        };
        this.$5s = function(ev) {
            if (typeof(DayPilotBubble) !== 'undefined') {
                DayPilotBubble.hideActive();
            };
            if ($c.timeouts) {
                for (var $03 in $c.timeouts) {
                    window.clearTimeout($c.timeouts[$03]);
                };
                $c.timeouts = null;
            };
            var e = this.event;
            var ev = ev || window.event;
            if ($c.$5a()) {
                var $n = {};
                $n.e = e;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventDoubleClick === 'function') {
                    $c.onEventDoubleClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventDoubleClickHandling) {
                    case 'PostBack':
                        $c.eventDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDoubleClickCallBack(e);
                        break;
                    case 'Edit':
                        if (!e.allday()) {
                            $c.$5q(this);
                        };
                        break;
                    case 'Select':
                        if (!e.allday()) {
                            $c.$5r(this, e, ev.ctrlKey);
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                };
                if (typeof $c.onEventDoubleClicked === 'function') {
                    $c.onEventDoubleClicked($n);
                }
            } else {
                switch ($c.eventDoubleClickHandling) {
                    case 'PostBack':
                        $c.eventDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDoubleClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventDoubleClick(e);
                        break;
                    case 'Edit':
                        if (!e.allday()) {
                            $c.$5q(this);
                        };
                        break;
                    case 'Select':
                        if (!e.allday()) {
                            $c.$5r(this, e, ev.ctrlKey);
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                }
            }
        };
        this.eventRightClickPostBack = function(e, $h) {
            this.$4v('EventRightClick', $h, e);
        };
        this.eventRightClickCallBack = function(e, $h) {
            this.$4x('EventRightClick', e, $h);
        };
        this.$5t = function(ev) {
            var e = this.event;
            if (!e.client.rightClickEnabled()) {
                return false;
            };
            if ($c.$5a()) {
                var $n = {};
                $n.e = e;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventRightClick === 'function') {
                    $c.onEventRightClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventRightClickHandling) {
                    case 'PostBack':
                        $c.eventRightClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventRightClickCallBack(e);
                        break;
                    case 'ContextMenu':
                        var $06 = e.client.contextMenu();
                        if ($06) {
                            $06.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(this.event);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                };
                if (typeof $c.onEventRightClicked === 'function') {
                    $c.onEventRightClicked($n);
                }
            } else {
                switch ($c.eventRightClickHandling) {
                    case 'PostBack':
                        $c.eventRightClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventRightClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventRightClick(e);
                        break;
                    case 'ContextMenu':
                        var $06 = e.client.contextMenu();
                        if ($06) {
                            $06.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(this.event);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                }
            };
            if (ev.preventDefault) {
                ev.preventDefault();
            };
            return false;
        };
        this.headerClickPostBack = function(c, $h) {
            this.$4v('HeaderClick', $h, c);
        };
        this.headerClickCallBack = function(c, $h) {
            this.$4x('HeaderClick', c, $h);
        };
        this.$5u = function($E) {
            var $h = this.data;
            var c = new DayPilotCalendar.Column($h.id, $h.name, $h.start);
            if ($c.$5a()) {
                var $n = {};
                $n.header = {};
                $n.header.id = $h.id;
                $n.header.name = $h.name;
                $n.header.start = $h.start;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onHeaderClick === 'function') {
                    $c.onHeaderClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.headerClickHandling) {
                    case 'PostBack':
                        $c.headerClickPostBack(c);
                        break;
                    case 'CallBack':
                        $c.headerClickCallBack(c);
                        break;
                };
                if (typeof $c.onHeaderClicked === 'function') {
                    $c.onHeaderClicked($n);
                }
            } else {
                switch ($c.headerClickHandling) {
                    case 'PostBack':
                        $c.headerClickPostBack(c);
                        break;
                    case 'CallBack':
                        $c.headerClickCallBack(c);
                        break;
                    case 'JavaScript':
                        $c.onHeaderClick(c);
                        break;
                }
            }
        };
        this.$5v = function() {
            if (typeof(DayPilotBubble) !== 'undefined' && $c.columnBubble) {
                if ($c.viewType === "Resources") {
                    var $07 = {};
                    $07.calendar = $c;
                    $07.id = this.data.id;
                    $07.toJSON = function() {
                        var $08 = {};
                        $08.id = this.id;
                        return $08;
                    };
                    $c.columnBubble.showResource($07);
                } else {
                    var $09 = new DayPilot.Date(this.data.start);
                    var end = $09.addDays(1);
                    var $0a = {};
                    $0a.calendar = $c;
                    $0a.start = $09;
                    $0a.end = end;
                    $0a.toJSON = function() {
                        var $08 = {};
                        $08.start = this.start;
                        $08.end = this.end;
                        return $08;
                    };
                    $c.columnBubble.showTime($0a);
                }
            };
            var $f = this;
            var $d = $f.firstChild;
            if (!$d.active) {
                var $h = $f.data;
                var c = new DayPilotCalendar.Column($h.id, $h.name, $h.start);
                c.areas = $f.data.areas;
                DayPilot.Areas.showAreas($d, c);
            }
        };
        this.$5w = function(ev) {
            if (typeof(DayPilotBubble) !== 'undefined' && $c.columnBubble) {
                $c.columnBubble.hideOnMouseOut();
            };
            DayPilot.Areas.hideAreas(this.firstChild, ev);
        };
        this.eventDeletePostBack = function(e, $h) {
            this.$4v('EventDelete', $h, e);
        };
        this.eventDeleteCallBack = function(e, $h) {
            this.$4x('EventDelete', e, $h);
        };
        this.$5x = function($E) {
            var e;
            if ($E && $E.isEvent) {
                e = $E;
            } else {
                e = $E.parentNode.parentNode.event;
            };
            if ($c.$5a()) {
                var $n = {};
                $n.e = e;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventDelete === 'function') {
                    $c.onEventDelete($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventDeleteHandling) {
                    case 'PostBack':
                        $c.eventDeletePostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDeleteCallBack(e);
                        break;
                    case 'Update':
                        $c.events.remove(e);
                        break;
                };
                if (typeof $c.onEventDeleted === 'function') {
                    $c.onEventDeleted($n);
                }
            } else {
                switch ($c.eventDeleteHandling) {
                    case 'PostBack':
                        $c.eventDeletePostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDeleteCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventDelete(e);
                        break;
                }
            }
        };
        this.eventResizePostBack = function(e, $0b, $0c, $h) {
            if (!$0b) {
                throw 'newStart is null';
            };
            if (!$0c) {
                throw 'newEnd is null';
            };
            var $0d = {};
            $0d.e = e;
            $0d.newStart = $0b;
            $0d.newEnd = $0c;
            this.$4v('EventResize', $h, $0d);
        };
        this.eventResizeCallBack = function(e, $0b, $0c, $h) {
            if (!$0b) throw 'newStart is null';
            if (!$0c) throw 'newEnd is null';
            var $0d = {};
            $0d.e = e;
            $0d.newStart = $0b;
            $0d.newEnd = $0c;
            this.$4x('EventResize', $0d, $h);
        };
        this.$5y = function($l, $g, $0d, $h) {
            if ($l === 'PostBack') {
                $c.postBack2($g, $0d, $h);
            } else if ($l === 'CallBack') {
                $c.$4x($g, $0d, $h, "CallBack");
            } else if ($l === 'Immediate') {
                $c.$4x($g, $0d, $h, "Notify");
            } else if ($l === 'Queue') {
                $c.queue.add(new DayPilot.Action(this, $g, $0d, $h));
            } else if ($l === 'Notify') {
                if ($0e.notifyType() === 'Notify') {
                    $c.$4x($g, $0d, $h, "Notify");
                } else {
                    $c.queue.add(new DayPilot.Action($c, $g, $0d, $h));
                }
            } else {
                throw "Invalid event invocation type";
            }
        };
        this.$5j = function($N) {
            if (this.heightSpec === 'BusinessHoursNoScroll') {
                return this.businessBeginsHour;
            } else if (this.hideFreeCells && !$N) {
                var $P = (this.$5z) * this.cellDuration / this.cellHeight;
                var $Q = Math.floor($P / 60);
                $Q = Math.max(0, $Q);
                return Math.min(this.dayBeginsHour + $Q, this.businessBeginsHour);
            } else {
                return this.dayBeginsHour;
            }
        };
        this.visibleStart = function() {
            return this.$5c[0].start;
        };
        this.visibleEnd = function() {
            var $0f = this.$5c;
            var $N = $0f.length - 1;
            return $0f[$N].start.addDays(1);
        };
        this.$5a = function() {
            return $c.api === 2;
        };
        this.$5A = function(e, $0g, $0h, $0i) {
            if (this.eventResizeHandling === 'Disabled') {
                return;
            };
            var $I = 0;
            var $0b = new Date();
            var $0c = new Date();
            var $09 = e.start();
            var end = e.end();
            var $0j = $c.cellDuration;
            var $0k = $c.$5c[e.part.dayIndex].start;
            if ($0i === 'top') {
                var $0k = $09.getDatePart();
                var $0l = Math.floor(($0h - $I) / $c.cellHeight);
                var $0m = $0l * $0j;
                var ts = $0m * 60 * 1000;
                var $0n = $c.$5j() * 60 * 60 * 1000;
                $0b = $0k.addTime(ts + $0n);
                $0c = e.end();
            } else if ($0i === 'bottom') {
                var $0l = Math.floor(($0h + $0g - $I) / $c.cellHeight);
                var $0m = $0l * $0j;
                var ts = $0m * 60 * 1000;
                var $0n = $c.$5j() * 60 * 60 * 1000;
                $0b = $09;
                $0c = $0k.addTime(ts + $0n);
            };
            if ($c.$5a()) {
                var $n = {};
                $n.e = e;
                $n.newStart = $0b;
                $n.newEnd = $0c;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventResize === 'function') {
                    $c.onEventResize($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventResizeHandling) {
                    case 'PostBack':
                        $c.eventResizePostBack(e, $0b, $0c);
                        break;
                    case 'CallBack':
                        $c.eventResizeCallBack(e, $0b, $0c);
                        break;
                    case 'Notify':
                        $c.eventResizeNotify(e, $0b, $0c);
                        break;
                    case 'Update':
                        e.start($0b);
                        e.end($0c);
                        $c.events.update(e);
                        break;
                };
                if (typeof $c.onEventResized === 'function') {
                    $c.onEventResized($n);
                }
            } else {
                switch ($c.eventResizeHandling) {
                    case 'PostBack':
                        $c.eventResizePostBack(e, $0b, $0c);
                        break;
                    case 'CallBack':
                        $c.eventResizeCallBack(e, $0b, $0c);
                        break;
                    case 'JavaScript':
                        $c.onEventResize(e, $0b, $0c);
                        break;
                    case 'Notify':
                        $c.eventResizeNotify(e, $0b, $0c);
                        break;
                }
            }
        };
        this.eventResizeNotify = function(e, $0b, $0c, $h) {
            var $0o = new DayPilot.Event(e.copy(), this);
            e.start($0b);
            e.end($0c);
            e.commit();
            $c.update();
            this.$5B("Notify", $0o, $0b, $0c, $h);
        };
        this.$5B = function($l, e, $0b, $0c, $h) {
            var $0d = {};
            $0d.e = e;
            $0d.newStart = $0b;
            $0d.newEnd = $0c;
            this.$5y($l, "EventResize", $0d, $h);
        };
        this.eventMovePostBack = function(e, $0b, $0c, $0p, $h) {
            if (!$0b) throw 'newStart is null';
            if (!$0c) throw 'newEnd is null';
            var $0d = {};
            $0d.e = e;
            $0d.newStart = $0b;
            $0d.newEnd = $0c;
            $0d.newResource = $0p;
            this.$4v('EventMove', $h, $0d);
        };
        this.eventMoveCallBack = function(e, $0b, $0c, $0p, $h) {
            if (!$0b) throw 'newStart is null';
            if (!$0c) throw 'newEnd is null';
            var $0d = {};
            $0d.e = e;
            $0d.newStart = $0b;
            $0d.newEnd = $0c;
            $0d.newResource = $0p;
            this.$4x('EventMove', $0d, $h);
        };
        this.$5C = function(e, $0q, $0h, ev, $0r) {
            if ($c.eventMoveHandling === 'Disabled') {
                return;
            };
            var $I = 0;
            var $0l = Math.floor(($0h - $I) / $c.cellHeight);
            var $0j = $c.cellDuration;
            var $0s = $0l * $0j * 60 * 1000;
            var $09 = e.start();
            var end = e.end();
            var $0k = new Date();
            if ($09 instanceof DayPilot.Date) {
                $09 = $09.toDate();
            };
            $0k.setTime(Date.UTC($09.getUTCFullYear(), $09.getUTCMonth(), $09.getUTCDate()));
            var $0t = ($c.useEventBoxes !== 'Never') ? $09.getTime() - ($0k.getTime() + $09.getUTCHours() * 3600 * 1000 + Math.floor($09.getUTCMinutes() / $0j) * $0j * 60 * 1000) : 0;
            var length = end.getTime() - $09.getTime();
            var $0n = $c.$5j() * 3600 * 1000;
            if (typeof $0q === "undefined") {
                $0q = e.part.dayIndex;
            };
            var $0u = this.$5c[$0q];
            var $0v = $0u.start.getTime();
            var $0w = new Date();
            $0w.setTime($0v + $0s + $0t + $0n);
            var $0b = new DayPilot.Date($0w);
            var $0c = $0b.addTime(length);
            var external = !!$0r;
            var $0p = $0u.id;
            if ($c.$5a()) {
                var $n = {};
                $n.e = e;
                $n.newStart = $0b;
                $n.newEnd = $0c;
                $n.newResource = $0p;
                $n.external = external;
                $n.ctrl = false;
                if (ev) {
                    $n.ctrl = ev.ctrlKey;
                };
                $n.shift = false;
                if (ev) {
                    $n.shift = ev.shiftKey;
                };
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventMove === 'function') {
                    $c.onEventMove($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventMoveHandling) {
                    case 'PostBack':
                        $c.eventMovePostBack(e, $0b, $0c, $0p);
                        break;
                    case 'CallBack':
                        $c.eventMoveCallBack(e, $0b, $0c, $0p);
                        break;
                    case 'Notify':
                        $c.eventMoveNotify(e, $0b, $0c, $0p);
                        break;
                    case 'Update':
                        e.start($0b);
                        e.end($0c);
                        e.resource($0p);
                        if (external) {
                            e.commit();
                            $c.events.add(e);
                        } else {
                            $c.events.update(e);
                        };
                        $c.$5D();
                        break;
                };
                if (typeof $c.onEventMoved === 'function') {
                    $c.onEventMoved($n);
                }
            } else {
                switch ($c.eventMoveHandling) {
                    case 'PostBack':
                        $c.eventMovePostBack(e, $0b, $0c, $0p);
                        break;
                    case 'CallBack':
                        $c.eventMoveCallBack(e, $0b, $0c, $0p);
                        break;
                    case 'JavaScript':
                        $c.onEventMove(e, $0b, $0c, $0p, external, ev ? ev.ctrlKey : false, ev ? ev.shiftKey : false);
                        break;
                    case 'Notify':
                        $c.eventMoveNotify(e, $0b, $0c, $0p, null);
                        break;
                }
            }
        };
        this.eventMoveNotify = function(e, $0b, $0c, $0p, $h) {
            var $0o = new DayPilot.Event(e.copy(), this);
            e.start($0b);
            e.end($0c);
            e.resource($0p);
            e.commit();
            $c.update();
            this.$5E("Notify", $0o, $0b, $0c, $0p, $h);
        };
        this.$5E = function($l, e, $0b, $0c, $0p, $h) {
            var $0d = {};
            $0d.e = e;
            $0d.newStart = $0b;
            $0d.newEnd = $0c;
            $0d.newResource = $0p;
            this.$5y($l, "EventMove", $0d, $h);
        };
        this.$5D = function() {
            if ($c.todo) {
                if ($c.todo.del) {
                    var $A = $c.todo.del;
                    $A.parentNode.removeChild($A);
                    $c.todo.del = null;
                }
            }
        };
        this.$5F = function($n, $x) {
            var $w = $c.$5G($x);
            var $0d = {};
            $0d.args = $n;
            $0d.guid = $w;
            $c.$4x("Bubble", $0d);
        };
        this.$5G = function($x) {
            var $w = DayPilot.guid();
            if (!this.bubbles) {
                this.bubbles = [];
            };
            this.bubbles[$w] = $x;
            return $w;
        };
        this.eventMenuClickPostBack = function(e, $0x, $h) {
            var $0d = {};
            $0d.e = e;
            $0d.command = $0x;
            this.$4v('EventMenuClick', $h, $0d);
        };
        this.eventMenuClickCallBack = function(e, $0x, $h) {
            var $0d = {};
            $0d.e = e;
            $0d.command = $0x;
            this.$4x('EventMenuClick', $0d, $h);
        };
        this.$5H = function($0x, e, $0y) {
            switch ($0y) {
                case 'PostBack':
                    $c.eventMenuClickPostBack(e, $0x);
                    break;
                case 'CallBack':
                    $c.eventMenuClickCallBack(e, $0x);
                    break;
            }
        };
        this.timeRangeMenuClickPostBack = function(e, $0x, $h) {
            var $0d = {};
            $0d.selection = e;
            $0d.command = $0x;
            this.$4v("TimeRangeMenuClick", $h, $0d);
        };
        this.timeRangeMenuClickCallBack = function(e, $0x, $h) {
            var $0d = {};
            $0d.selection = e;
            $0d.command = $0x;
            this.$4x("TimeRangeMenuClick", $0d, $h);
        };
        this.$5I = function($0x, e, $0y) {
            switch ($0y) {
                case 'PostBack':
                    $c.timeRangeMenuClickPostBack(e, $0x);
                    break;
                case 'CallBack':
                    $c.timeRangeMenuClickCallBack(e, $0x);
                    break;
            }
        };
        this.timeRangeSelectedPostBack = function($09, end, $0z, $h) {
            var $0A = {};
            $0A.start = $09;
            $0A.end = end;
            $0A.resource = $0z;
            this.$4v('TimeRangeSelected', $h, $0A);
        };
        this.timeRangeSelectedCallBack = function($09, end, $0z, $h) {
            var $0A = {};
            $0A.start = $09;
            $0A.end = end;
            $0A.resource = $0z;
            this.$4x('TimeRangeSelected', $0A, $h);
        };
        this.$5J = function($09, end, $q) {
            $09 = new DayPilot.Date($09);
            end = new DayPilot.Date(end);
            var $0z = $q;
            if ($c.$5a()) {
                var $n = {};
                $n.start = $09;
                $n.end = end;
                $n.resource = $0z;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onTimeRangeSelect === 'function') {
                    $c.onTimeRangeSelect($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.timeRangeSelectedHandling) {
                    case 'PostBack':
                        $c.timeRangeSelectedPostBack($09, end, $0z);
                        break;
                    case 'CallBack':
                        $c.timeRangeSelectedCallBack($09, end, $0z);
                        break;
                };
                if (typeof $c.onTimeRangeSelected === 'function') {
                    $c.onTimeRangeSelected($n);
                }
            } else {
                switch ($c.timeRangeSelectedHandling) {
                    case 'PostBack':
                        $c.timeRangeSelectedPostBack($09, end, $q);
                        break;
                    case 'CallBack':
                        $c.timeRangeSelectedCallBack($09, end, $q);
                        break;
                    case 'JavaScript':
                        $c.onTimeRangeSelected($09, end, $q);
                        break;
                }
            }
        };
        this.timeRangeDoubleClickPostBack = function($09, end, $q, $h) {
            var $0A = {};
            $0A.start = $09;
            $0A.end = end;
            $0A.resource = $q;
            this.$4v('TimeRangeDoubleClick', $h, $0A);
        };
        this.timeRangeDoubleClickCallBack = function($09, end, $q, $h) {
            var $0A = {};
            $0A.start = $09;
            $0A.end = end;
            $0A.resource = $q;
            this.$4x('TimeRangeDoubleClick', $0A, $h);
        };
        this.$5K = function($09, end, $q) {
            if ($c.$5a()) {
                var $0z = $q;
                var $n = {};
                $n.start = $09;
                $n.end = end;
                $n.resource = $0z;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onTimeRangeDoubleClick === 'function') {
                    $c.onTimeRangeDoubleClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.timeRangeDoubleClickHandling) {
                    case 'PostBack':
                        $c.timeRangeDoubleClickPostBack($09, end, $0z);
                        break;
                    case 'CallBack':
                        $c.timeRangeDoubleClickCallBack($09, end, $0z);
                        break;
                };
                if (typeof $c.onTimeRangeDoubleClicked === 'function') {
                    $c.onTimeRangeDoubleClicked($n);
                }
            } else {
                switch ($c.timeRangeDoubleClickHandling) {
                    case 'PostBack':
                        $c.timeRangeDoubleClickPostBack($09, end, $q);
                        break;
                    case 'CallBack':
                        $c.timeRangeDoubleClickCallBack($09, end, $q);
                        break;
                    case 'JavaScript':
                        $c.onTimeRangeDoubleClick($09, end, $q);
                        break;
                }
            }
        };
        this.eventEditPostBack = function(e, $0B, $h) {
            var $0d = {};
            $0d.e = e;
            $0d.newText = $0B;
            this.$4v("EventEdit", $h, $0d);
        };
        this.eventEditCallBack = function(e, $0B, $h) {
            var $0d = {};
            $0d.e = e;
            $0d.newText = $0B;
            this.$4x("EventEdit", $0d, $h);
        };
        this.$5L = function(e, $0B) {
            if ($c.$5a()) {
                var $n = {};
                $n.e = e;
                $n.newText = $0B;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventEdit === 'function') {
                    $c.onEventEdit($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventEditHandling) {
                    case 'PostBack':
                        $c.eventEditPostBack(e, $0B);
                        break;
                    case 'CallBack':
                        $c.eventEditCallBack(e, $0B);
                        break;
                    case 'Update':
                        e.text($0B);
                        $c.events.update(e);
                        break;
                };
                if (typeof $c.onEventEdited === 'function') {
                    $c.onEventEdited($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                }
            } else {
                switch ($c.eventEditHandling) {
                    case 'PostBack':
                        $c.eventEditPostBack(e, $0B);
                        break;
                    case 'CallBack':
                        $c.eventEditCallBack(e, $0B);
                        break;
                    case 'JavaScript':
                        $c.onEventEdit(e, $0B);
                        break;
                }
            }
        };
        this.eventSelectPostBack = function(e, $0C, $h) {
            var $0d = {};
            $0d.e = e;
            $0d.change = $0C;
            this.$4v('EventSelect', $h, $0d);
        };
        this.eventSelectCallBack = function(e, $0C, $h) {
            var $0d = {};
            $0d.e = e;
            $0d.change = $0C;
            this.$4x('EventSelect', $0d, $h);
        };
        this.$5M = function($d, e, $01, $02) {
            var m = $c.multiselect;
            var $0D = false;
            var $0E = m.isSelected(e);
            var $0F = $01 || $02;
            if (!$0F && $0E && !$0D && m.$5N.length === 1) {
                return;
            };
            if ($c.$5a()) {
                m.previous = m.events();
                var $n = {};
                $n.e = e;
                $n.selected = m.isSelected(e);
                $n.ctrl = $01;
                $n.meta = $02;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventSelect === 'function') {
                    $c.onEventSelect($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventSelectHandling) {
                    case 'PostBack':
                        $c.eventSelectPostBack(e, $0C);
                        break;
                    case 'CallBack':
                        if (typeof WebForm_InitCallback !== 'undefined') {
                            window.__theFormPostData = "";
                            window.__theFormPostCollection = [];
                            WebForm_InitCallback();
                        };
                        $c.eventSelectCallBack(e, $0C);
                        break;
                    case 'Update':
                        m.$5O($d, $01);
                        break;
                };
                if (typeof $c.onEventSelected === 'function') {
                    $n.change = m.isSelected(e) ? "selected" : "deselected";
                    $n.selected = m.isSelected(e);
                    $c.onEventSelected($n);
                }
            } else {
                m.previous = m.events();
                m.$5O($d, $01);
                var $0C = m.isSelected(e) ? "selected" : "deselected";
                switch ($c.eventSelectHandling) {
                    case 'PostBack':
                        $c.eventSelectPostBack(e, $0C);
                        break;
                    case 'CallBack':
                        if (typeof WebForm_InitCallback !== 'undefined') {
                            window.__theFormPostData = "";
                            window.__theFormPostCollection = [];
                            WebForm_InitCallback();
                        };
                        $c.eventSelectCallBack(e, $0C);
                        break;
                    case 'JavaScript':
                        $c.onEventSelect(e, $0C);
                        break;
                }
            }
        };
        this.commandCallBack = function($0x, $h) {
            this.$4D();
            var $0d = {};
            $0d.command = $0x;
            this.$4x('Command', $0d, $h);
        };
        this.$5P = function(ev) {
            if ($0G.active || $0G.using) {
                return;
            };
            clearTimeout(DayPilotCalendar.selectedTimeout);
            if (DayPilotCalendar.selecting) {
                return;
            };
            if (DayPilotCalendar.editing) {
                DayPilotCalendar.editing.blur();
                return;
            };
            if ($c.selectedCells && $c.timeRangeDoubleClickHandling !== 'Disabled') {
                for (var i = 0; i < $c.selectedCells.length; i++) {
                    if (this === $c.selectedCells[i]) {
                        return;
                    }
                }
            };
            if ($c.timeRangeSelectedHandling === "Disabled") {
                return;
            };
            var $0H = DayPilot.Util.mouseButton(ev);
            if (!$0H.left) {
                return;
            };
            DayPilotCalendar.firstMousePos = DayPilot.mc(ev || window.event);
            $c.clearSelection();
            DayPilotCalendar.topSelectedCell = this;
            DayPilotCalendar.bottomSelectedCell = this;
            DayPilotCalendar.column = DayPilotCalendar.getColumn(this);
            $c.selectedCells.push(this);
            DayPilotCalendar.firstSelected = this;
        };
        this.$5Q = function() {
            var $0I = this.getSelection();
            if (!$0I) {
                return;
            };
            if (!$c.selectedCells) {
                return;
            };
            for (var j = 0; j < $c.selectedCells.length; j++) {
                var $f = $c.selectedCells[j];
                if ($f && !$f.selected) {
                    var $d = document.createElement("div");
                    $d.style.height = ($c.cellHeight - 1) + "px";
                    $d.style.backgroundColor = $c.selectedColor;
                    $f.firstChild.style.display = "none";
                    $f.insertBefore($d, $f.firstChild);
                    $f.selected = $d;
                }
            }
        };
        this.$5R = function(ev) {
            if (typeof(DayPilotBubble) !== 'undefined' && $c.cellBubble) {
                $c.cellBubble.hideOnMouseOut();
            }
        };
        this.$5S = function(ev) {
            if (typeof(DayPilotCalendar) === 'undefined') {
                return;
            };
            if ($0G.active || $0G.using) {
                return;
            };
            if (typeof(DayPilotBubble) !== 'undefined' && $c.cellBubble) {
                var $q = DayPilotCalendar.getColumn(this);
                var $07 = $c.$5c[$q].id;
                var $f = {};
                $f.calendar = $c;
                $f.start = this.start;
                $f.end = this.end;
                $f.resource = $07;
                $f.toJSON = function() {
                    var $08 = {};
                    $08.start = this.start;
                    $08.end = this.end;
                    $08.resource = this.resource;
                    return $08;
                };
                $c.cellBubble.showCell($f);
            };
            if (DayPilotCalendar.firstMousePos) {
                var $0J = DayPilotCalendar.firstMousePos;
                var $0K = DayPilot.mc(ev || window.event);
                if ($0J.x !== $0K.x || $0J.y !== $0K.y) {
                    DayPilotCalendar.selecting = true;
                    $c.clearSelection();
                    $c.$5Q();
                }
            };
            if (!DayPilotCalendar.selecting) {
                return;
            };
            var $0L = DayPilot.mc(ev || window.event);
            var $0M = DayPilotCalendar.getColumn(this);
            if ($0M !== DayPilotCalendar.column) {
                return;
            };
            $c.clearSelection();
            if ($0L.y < DayPilotCalendar.firstMousePos.y) {
                $c.selectedCells = DayPilotCalendar.getCellsBelow(this);
                DayPilotCalendar.topSelectedCell = $c.selectedCells[0];
                DayPilotCalendar.bottomSelectedCell = DayPilotCalendar.firstSelected;
            } else {
                $c.selectedCells = DayPilotCalendar.getCellsAbove(this);
                DayPilotCalendar.topSelectedCell = DayPilotCalendar.firstSelected;
                DayPilotCalendar.bottomSelectedCell = $c.selectedCells[0];
            };
            $c.$5Q();
        };
        this.getSelection = function() {
            if (!DayPilotCalendar.topSelectedCell) {
                return null;
            };
            if (!DayPilotCalendar.bottomSelectedCell) {
                return null;
            };
            var $09 = DayPilotCalendar.topSelectedCell.start;
            var end = DayPilotCalendar.bottomSelectedCell.end;
            var $0N = DayPilotCalendar.topSelectedCell.resource;
            return new DayPilot.Selection($09, end, $0N, $c);
        };
        this.$5T = function(ev) {
            if (DayPilotCalendar.firstMousePos) {
                var $0O = function() {
                    DayPilotCalendar.selecting = true;
                    $c.$5Q();
                    DayPilotCalendar.firstMousePos = null;
                    DayPilotCalendar.selecting = false;
                    var $0P = $c.getSelection();
                    $c.$5J($0P.start, $0P.end, $0P.resource);
                };
                if (DayPilotCalendar.selecting && DayPilotCalendar.topSelectedCell !== null) {
                    $0O();
                } else {
                    DayPilotCalendar.selectedTimeout = setTimeout($0O, 100);
                }
            } else {
                DayPilotCalendar.selecting = false;
            }
        };
        this.$5U = function(ev) {
            var $0Q = $c.columnWidthSpec === "Fixed";
            if ($0Q || $c.$5V) {
                if (!$c.nav.bottomLeft) {
                    return;
                };
                $c.nav.bottomLeft.scrollTop = $c.nav.bottomRight.scrollTop;
                if ($c.nav.upperRight) {
                    $c.nav.upperRight.scrollLeft = $c.nav.bottomRight.scrollLeft;
                };
                $c.nav.scrollLayer.scrollLeft = $c.nav.bottomRight.scrollLeft;
            };
            var scroll = $c.$5W();
            $c.scrollPos = scroll.scrollTop;
            $c.$5X = scroll.clientHeight;
            $c.nav.scrollpos.value = $c.scrollPos;
            $c.$58();
        };
        this.$58 = function() {
            if (!this.scrollLabelsVisible) {
                return;
            };
            if (!this.$5Y) {
                return;
            };
            var $0R = this.nav && this.nav.main && this.nav.main.rows && this.nav.main.rows.length > 0 && this.nav.main.rows[0].cells.length > 0;
            if (!$0R) {
                return;
            };
            var $0f = this.$5c;
            var $0S = (this.showHours ? this.hourWidth : 0);
            var $H = this.nav.main.rows[0].cells[0].clientWidth;
            var iw = 10;
            var $0T = 1;
            for (var i = 0; i < this.nav.scrollUp.length; i++) {
                var $0U = this.nav.scrollUp[i];
                var $0V = this.nav.scrollDown[i];
                var $X = Math.floor($0S + i * $H + $H / 2 - (iw / 2) + $0T);
                if ($X < 0) {
                    $X = 0;
                };
                $X -= $c.nav.bottomRight.scrollLeft;
                if ($0U && $0U.style) {
                    $0U.style.left = $X + "px";
                };
                if ($0V && $0V.style) {
                    $0V.style.left = $X + "px";
                }
            };
            var $0W = this.$5Z();
            for (var i = 0; i < this.nav.scrollUp.length; i++) {
                var up = this.nav.scrollUp[i];
                var $0X = this.nav.scrollDown[i];
                var $0Y = this.$5Y[i].minEnd - $0W;
                var $0Z = this.$5Y[i].maxStart - $0W;
                if (up && $0X) {
                    if ($0Y <= $c.scrollPos && parseInt(up.style.left) >= $c.hourWidth) {
                        up.style.top = (this.$5k()) + "px";
                        up.style.display = '';
                    } else {
                        up.style.display = 'none';
                    };
                    if ($0Z >= $c.scrollPos + $c.$5X && parseInt($0X.style.left) >= $c.hourWidth) {
                        $0X.style.top = (this.$5k() + this.$5X - 10) + "px";
                        $0X.style.display = '';
                    } else {
                        $0X.style.display = 'none';
                    }
                }
            }
        };
        this.$60 = function($E) {
            var $10 = $E.parentNode;
            var $X = 0;
            var top = $E.offsetTop;
            var $11 = $E.parentNode.offsetWidth;
            var $J = $E.offsetHeight;
            if ($E.event.allday()) {
                $X = $E.offsetLeft;
                $11 = $E.offsetWidth;
            };
            var $12 = document.createElement('textarea');
            $12.style.boxSizing = "border-box";
            $12.style.position = 'absolute';
            $12.style.width = $11 + 'px';
            $12.style.height = $J + 'px';
            var $13 = DayPilot.gs($E, 'fontFamily');
            if (!$13) $13 = DayPilot.gs($E, 'font-family');
            $12.style.fontFamily = $13;
            var $14 = DayPilot.gs($E, 'fontSize');
            if (!$14) $14 = DayPilot.gs($E, 'font-size');
            $12.style.fontSize = $14;
            $12.style.left = $X + 'px';
            $12.style.top = top + 'px';
            $12.style.border = '1px solid black';
            $12.style.padding = '0px';
            $12.style.marginTop = '0px';
            $12.style.backgroundColor = 'white';
            $12.value = DayPilot.tr($E.event.text());
            $12.event = $E.event;
            $10.appendChild($12);
            return $12;
        };
        this.$5r = function($d, e, $01, $02) {
            $c.$5M($d, e, $01, $02);
        };
        this.multiselect = {};
        this.multiselect.$4Q = [];
        this.multiselect.$5N = [];
        this.multiselect.$61 = [];
        this.multiselect.$62 = [];
        this.multiselect.$63 = function() {
            var m = $c.multiselect;
            return DayPilot.JSON.stringify(m.events());
        };
        this.multiselect.events = function() {
            var m = $c.multiselect;
            var $15 = [];
            $15.ignoreToJSON = true;
            for (var i = 0; i < m.$5N.length; i++) {
                $15.push(m.$5N[i]);
            };
            return $15;
        };
        this.multiselect.$64 = function() {
            var h = $c.nav.select;
            h.value = $c.multiselect.$63();
        };
        this.multiselect.$5O = function($d, $16) {
            var m = $c.multiselect;
            if (m.isSelected($d.event)) {
                if ($c.allowMultiSelect) {
                    if ($16) {
                        m.remove($d.event, true);
                    } else {
                        var $17 = m.$5N.length;
                        m.clear(true);
                        if ($17 > 1) {
                            m.add($d.event, true);
                        }
                    }
                } else {
                    m.clear(true);
                }
            } else {
                if ($c.allowMultiSelect) {
                    if ($16) {
                        m.add($d.event, true);
                    } else {
                        m.clear(true);
                        m.add($d.event, true);
                    }
                } else {
                    m.clear(true);
                    m.add($d.event, true);
                }
            };
            m.redraw();
            m.$64();
        };
        this.multiselect.$65 = function(ev) {
            var m = $c.multiselect;
            return m.$66(ev, m.$4Q);
        };
        this.multiselect.$67 = function() {
            var m = $c.multiselect;
            var $18 = [];
            for (var i = 0; i < m.$5N.length; i++) {
                var event = m.$5N[i];
                $18.push(event.value());
            };
            alert($18.join("\n"));
        };
        this.multiselect.add = function(ev, $19) {
            var m = $c.multiselect;
            if (m.$68(ev) === -1) {
                m.$5N.push(ev);
            };
            m.$64();
            if ($19) {
                return;
            };
            m.redraw();
        };
        this.multiselect.remove = function(ev, $19) {
            var m = $c.multiselect;
            var i = m.$68(ev);
            if (i !== -1) {
                m.$5N.splice(i, 1);
            };
            m.$64();
            if ($19) {
                return;
            };
            m.redraw();
        };
        this.multiselect.clear = function($19) {
            var m = $c.multiselect;
            m.$5N = [];
            m.$64();
            if ($19) {
                return;
            };
            m.redraw();
        };
        this.multiselect.redraw = function() {
            var m = $c.multiselect;
            for (var i = 0; i < $c.elements.events.length; i++) {
                var $d = $c.elements.events[i];
                if (m.isSelected($d.event)) {
                    m.$69($d);
                } else {
                    m.$6a($d);
                }
            }
        };
        this.multiselect.$69 = function($d) {
            var m = $c.multiselect;
            var cn = $c.cssOnly ? $c.$5d("_selected") : $c.$5d("selected");
            var c = m.$6b($d);
            DayPilot.Util.addClass(c, cn);
            if ($c.useEventSelectionBars) {
                m.$6c($d);
            };
            m.$61.push($d);
        };
        this.multiselect.$6b = function($d) {
            if ($c.cssOnly) {
                return $d;
            };
            for (var i = 0; i < $d.childNodes.length; i++) {
                var c = $d.childNodes[i];
                if (c.getAttribute("c") === "1") {
                    return c;
                }
            };
            return null;
        };
        this.multiselect.$6d = function() {
            var m = $c.multiselect;
            for (var i = 0; i < m.$61.length; i++) {
                var $d = m.$61[i];
                m.$6a($d, true);
            };
            m.$61 = [];
        };
        this.multiselect.$6a = function($d, $1a) {
            var m = $c.multiselect;
            var cn = $c.cssOnly ? $c.$5d("_selected") : $c.$5d("selected");
            var c = m.$6b($d);
            DayPilot.Util.removeClass(c, cn);
            if ($c.useEventSelectionBars) {
                m.$6e($d);
            };
            if ($1a) {
                return;
            };
            var i = DayPilot.indexOf(m.$61, $d);
            if (i !== -1) {
                m.$61.splice(i, 1);
            }
        };
        this.multiselect.isSelected = function(ev) {
            return $c.multiselect.$66(ev, $c.multiselect.$5N);
        };
        this.multiselect.$68 = function(ev) {
            return DayPilot.indexOf($c.multiselect.$5N, ev);
        };
        this.multiselect.$66 = function(e, $18) {
            if (!$18) {
                return false;
            };
            for (var i = 0; i < $18.length; i++) {
                var ei = $18[i];
                if (e === ei) {
                    return true;
                };
                if (typeof ei.value === 'function') {
                    if (ei.value() !== null && e.value() !== null && ei.value() === e.value()) {
                        return true;
                    };
                    if (ei.value() === null && e.value() === null && ei.recurrentMasterId() === e.recurrentMasterId() && e.start().toStringSortable() === ei.start()) {
                        return true;
                    }
                } else {
                    if (ei.value !== null && e.value() !== null && ei.value === e.value()) {
                        return true;
                    };
                    if (ei.value === null && e.value() === null && ei.recurrentMasterId === e.recurrentMasterId() && e.start().toStringSortable() === ei.start) {
                        return true;
                    }
                }
            };
            return false;
        };
        this.multiselect.$6c = function($1b) {
            var w = 5;
            if (!$1b.top) {
                var top = document.createElement("div");
                top.setAttribute("unselectable", "on");
                top.style.position = 'absolute';
                top.style.left = $1b.offsetLeft + 'px';
                top.style.width = $1b.offsetWidth + 'px';
                top.style.top = ($1b.offsetTop - w) + 'px';
                top.style.height = w + 'px';
                top.style.backgroundColor = $c.eventSelectColor;
                top.style.zIndex = 100;
                $1b.parentNode.appendChild(top);
                $1b.top = top;
            };
            if (!$1b.bottom) {
                var $1c = document.createElement("div");
                $1c.setAttribute("unselectable", "on");
                $1c.style.position = 'absolute';
                $1c.style.left = $1b.offsetLeft + 'px';
                $1c.style.width = $1b.offsetWidth + 'px';
                $1c.style.top = ($1b.offsetTop + $1b.offsetHeight) + 'px';
                $1c.style.height = w + 'px';
                $1c.style.backgroundColor = $c.eventSelectColor;
                $1c.style.zIndex = 100;
                $1b.parentNode.appendChild($1c);
                $1b.bottom = $1c;
            }
        };
        this.multiselect.$6e = function($1b) {
            if ($1b.top) {
                $1b.parentNode.removeChild($1b.top);
                $1b.top = null;
            };
            if ($1b.bottom) {
                $1b.parentNode.removeChild($1b.bottom);
                $1b.bottom = null;
            }
        };
        this.$5q = function($E) {
            if (DayPilotCalendar.editing) {
                DayPilotCalendar.editing.blur();
                return;
            };
            var $12 = this.$60($E);
            DayPilotCalendar.editing = $12;
            DayPilot.re($12, DayPilot.touch.start, function(ev) {
                ev.stopPropagation();
            });
            $12.onblur = function() {
                var id = $E.event.value();
                var $1d = $E.event.tag();
                var $1e = $E.event.text();
                var $0B = $12.value;
                DayPilotCalendar.editing = null;
                $12.onblur = null;
                DayPilot.de($12);
                if ($1e === $0B) {
                    return;
                };
                $E.style.display = 'none';
                $c.$5L($E.event, $0B);
            };
            $12.onkeypress = function(e) {
                var $1f = (window.event) ? event.keyCode : e.keyCode;
                if ($1f === 13) {
                    this.onblur();
                    return false;
                } else if ($1f === 27) {
                    $12.parentNode.removeChild($12);
                    DayPilotCalendar.editing = false;
                };
                return true;
            };
            $12.select();
            $12.focus();
        };
        this.$6f = function() {
            if ($c.viewType === "Resources") {
                return false;
            };
            if ($c.columns && $c.$4y()) {
                return false;
            };
            return true;
        };
        this.$4R = function() {
            var $1g = $c.$6f();
            if ($1g) {
                this.$5c = this.$6g();
                this.$6h(this.$5c);
            } else {
                if (!this.columns) {
                    this.columns = [];
                };
                this.$6h(this.columns);
                this.$5c = this.$6i(this.headerLevels, true);
            }
        };
        this.$6j = function() {
            var $09 = this.startDate.getDatePart();
            var $1h = this.days;
            switch (this.viewType) {
                case "Day":
                    $1h = 1;
                    break;
                case "Week":
                    $1h = 7;
                    $09 = $09.firstDayOfWeek($0e.weekStarts());
                    break;
                case "WorkWeek":
                    $1h = 5;
                    $09 = $09.firstDayOfWeek(1);
                    break;
            };
            var end = $09.addDays($1h);
            var $u = {};
            $u.start = $09;
            $u.end = end;
            $u.days = $1h;
            return $u;
        };
        this.$6g = function() {
            var $0f = [];
            var $1i = this.$6j();
            var $09 = $1i.start;
            var $1h = $1i.days;
            for (var i = 0; i < $1h; i++) {
                var $q = {};
                $q.start = $09.addDays(i);
                var $1j = $0e.locale().datePattern;
                if ($c.headerDateFormat) {
                    $1j = $c.headerDateFormat;
                };
                $q.name = $q.start.toString($1j, $0e.locale());
                $q.html = $q.name;
                $0f.push($q);
            };
            return $0f;
        };
        this.$6k = function($q) {
            if ($q.Start) {
                $q.id = $q.Value;
                $q.start = $q.Start;
                $q.name = $q.Name;
                $q.html = $q.InnerHTML;
                $q.toolTip = $q.ToolTip;
                $q.backColor = $q.BackColor;
                $q.areas = $q.Areas;
                $q.children = $q.Children;
                delete $q.Value;
                delete $q.Start;
                delete $q.Name;
                delete $q.InnerHTML;
                delete $q.ToolTip;
                delete $q.BackColor;
                delete $q.Areas;
                delete $q.Children;
            };
            $q.start = $q.start || $c.startDate;
            $q.start = new DayPilot.Date($q.start);
            $q.html = $q.html || $q.name;
            $q.getChildren = function($1k, $1l) {
                var $18 = [];
                if ($1k <= 1) {
                    $18.push(this);
                    return $18;
                };
                if (!this.children || this.children.length === 0) {
                    if ($1l) {
                        $18.push(this);
                    } else {
                        $18.push("empty");
                    };
                    return $18;
                };
                for (var i = 0; i < this.children.length; i++) {
                    var $1m = this.children[i];
                    var $1n = $1m.getChildren($1k - 1, $1l);
                    for (var j = 0; j < $1n.length; j++) {
                        $18.push($1n[j]);
                    }
                };
                return $18;
            };
            $q.getChildrenCount = function($1k) {
                var $17 = 0;
                if (!this.children || this.children.length <= 0 || $1k <= 1) {
                    return 1;
                };
                for (var i = 0; i < this.children.length; i++) {
                    $17 += this.children[i].getChildrenCount($1k - 1);
                };
                return $17;
            };
            $q.putIntoBlock = function(ep) {
                for (var i = 0; i < this.blocks.length; i++) {
                    var $1o = this.blocks[i];
                    if ($1o.overlapsWith(ep.part.top, ep.part.height)) {
                        $1o.events.push(ep);
                        $1o.min = Math.min($1o.min, ep.part.top);
                        $1o.max = Math.max($1o.max, ep.part.top + ep.part.height);
                        return i;
                    }
                };
                var $1o = [];
                $1o.lines = [];
                $1o.events = [];
                $1o.overlapsWith = function($09, $11) {
                    var end = $09 + $11 - 1;
                    if (!(end < this.min || $09 > this.max - 1)) {
                        return true;
                    };
                    return false;
                };
                $1o.putIntoLine = function(ep) {
                    var $1p = this;
                    for (var i = 0; i < this.lines.length; i++) {
                        var $1q = this.lines[i];
                        if ($1q.isFree(ep.part.top, ep.part.height)) {
                            $1q.push(ep);
                            return i;
                        }
                    };
                    var $1q = [];
                    $1q.isFree = function($09, $11) {
                        var end = $09 + $11 - 1;
                        var $N = this.length;
                        for (var i = 0; i < $N; i++) {
                            var e = this[i];
                            if (!(end < e.part.top || $09 > e.part.top + e.part.height - 1)) {
                                return false;
                            }
                        };
                        return true;
                    };
                    $1q.push(ep);
                    this.lines.push($1q);
                    return this.lines.length - 1;
                };
                $1o.events.push(ep);
                $1o.min = ep.part.top;
                $1o.max = ep.part.top + ep.part.height;
                this.blocks.push($1o);
                return this.blocks.length - 1;
            };
            $q.putIntoLine = function(ep) {
                var $1p = this;
                for (var i = 0; i < this.lines.length; i++) {
                    var $1q = this.lines[i];
                    if ($1q.isFree(ep.part.top, ep.part.height)) {
                        $1q.push(ep);
                        return i;
                    }
                };
                var $1q = [];
                $1q.isFree = function($09, $11) {
                    var end = $09 + $11 - 1;
                    var $N = this.length;
                    for (var i = 0; i < $N; i++) {
                        var e = this[i];
                        if (!(end < e.part.top || $09 > e.part.top + e.part.height - 1)) {
                            return false;
                        }
                    };
                    return true;
                };
                $1q.push(ep);
                this.lines.push($1q);
                return this.lines.length - 1;
            };
            if ($q.children) {
                this.$6h($q.children);
            }
        };
        this.$6h = function(cc) {
            DayPilot.list(cc).each(function($1r) {
                $c.$6k($1r);
            });
        };
        this.$6i = function($1k, $1l) {
            var $1s = this.$6f() ? this.$5c : this.columns;
            var $18 = [];
            for (var i = 0; i < $1s.length; i++) {
                var $t = $1s[i].getChildren($1k, $1l);
                for (var j = 0; j < $t.length; j++) {
                    $18.push($t[j]);
                }
            };
            return $18;
        };
        this.$57 = function() {
            if (!this.showAllDayEvents) {
                return;
            };
            var $1t = this.nav.header;
            if (!$1t) {
                return;
            };
            $1t.style.display = 'none';
            var $0f = this.$5c.length;
            for (var j = 0; j < this.$6l.lines.length; j++) {
                var $1q = this.$6l.lines[j];
                for (var i = 0; i < $1q.length; i++) {
                    var $h = $1q[i];
                    var $d = document.createElement("div");
                    $d.event = $h;
                    $d.setAttribute("unselectable", "on");
                    $d.style.position = 'absolute';
                    if ($c.rtl) {
                        $d.style.right = (100.0 * $h.part.colStart / $0f) + "%";
                    } else {
                        $d.style.left = (100.0 * $h.part.colStart / $0f) + "%";
                    };
                    $d.style.width = (100.0 * $h.part.colWidth / $0f) + "%";
                    $d.style.height = $0e.allDayEventHeight() + 'px';
                    $d.className = this.$5d("_alldayevent");
                    $d.style.top = (this.headerLevels * $0e.headerHeight() + j * ($0e.allDayEventHeight())) + "px";
                    if ($h.data.cssClass) {
                        DayPilot.Util.addClass($d, $h.data.cssClass);
                    };
                    $d.style.textAlign = 'left';
                    $d.style.lineHeight = "1.2";
                    if ($h.client.clickEnabled()) {
                        $d.onclick = this.$5o;
                    };
                    if ($h.client.doubleClickEnabled()) {
                        $d.ondblclick = this.$5s;
                    };
                    if ($h.client.clickEnabled() || $h.client.doubleClickEnabled()) {
                        $d.style.cursor = "pointer";
                    } else {
                        $d.style.cursor = "default";
                    };
                    DayPilot.re($d, "contextmenu", this.$5t);
                    $d.onmousemove = function(ev) {
                        var $d = this;
                        if (!$d.active) {
                            var $1u = [];
                            if ($h.client.deleteEnabled()) {
                                $1u.push({
                                    "action": "JavaScript",
                                    "v": "Hover",
                                    "w": 17,
                                    "h": 17,
                                    "top": 3,
                                    "right": 3,
                                    "css": $c.$5d("_event_delete"),
                                    "js": function(e) {
                                        $c.$5x(e);
                                    }
                                });
                            };
                            var $18 = $d.event.cache ? $d.event.cache.areas : $d.event.data.areas;
                            if ($18 && $18.length > 0) {
                                $1u = $1u.concat($18);
                            };
                            DayPilot.Areas.showAreas($d, $d.event, null, $1u);
                            if ($c.cssOnly) {
                                DayPilot.Util.addClass($d, $c.$5d("_alldayevent_hover"));
                            }
                        };
                        if (typeof(DayPilotBubble) !== 'undefined' && $c.bubble && $c.eventHoverHandling !== 'Disabled') {
                            $c.bubble.showEvent(this.event);
                        }
                    };
                    $d.onmouseout = function(ev) {
                        var $d = this;
                        if ($c.cssOnly) {
                            DayPilot.Util.removeClass($d, $c.$5d("_alldayevent_hover"));
                        };
                        DayPilot.Areas.hideAreas(this, ev);
                        if ($c.bubble) {
                            $c.bubble.hideOnMouseOut();
                        }
                    };
                    if (this.showToolTip && !this.bubble) {
                        $d.setAttribute("title", $h.client.toolTip());
                    };
                    var $1v = $h.start().getTime() === $h.part.start.getTime();
                    var $1w = $h.end().getTime() === $h.part.end.getTime();
                    var back = $h.data.backColor;
                    if (!this.cssOnly) {
                        var $M = document.createElement("div");
                        $M.setAttribute("unselectable", "on");
                        $M.style.marginLeft = '2px';
                        $M.style.marginRight = '3px';
                        $M.style.paddingLeft = '2px';
                        $M.style.height = ($0e.allDayEventHeight() - 2) + 'px';
                        $M.style.border = '1px solid ' + this.allDayEventBorderColor;
                        $M.style.overflow = 'hidden';
                        $M.style.position = 'relative';
                        $M.style.backgroundColor = back;
                        $M.className = this.$5d("alldayevent");
                        if (this.roundedCorners) {
                            $M.style.MozBorderRadius = "5px";
                            $M.style.webkitBorderRadius = "5px";
                            $M.style.borderRadius = "5px";
                        };
                        var $1x = [];
                        var $1y = true;
                        var $1z = this.showAllDayEventStartEnd;
                        var $1A = this.showAllDayEventStartEnd;
                        var $1B = "Center";
                        var $1C = 0;
                        if ($1z) {
                            if ($1B === 'Left') {
                                $1x.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:8pt;color:gray;text-align:right;");
                                $1x.push("width:");
                                $1x.push($1C - 4);
                                $1x.push("px;");
                                $1x.push("><span style='background-color:");
                            } else {
                                $1x.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:8pt;color:gray'><span style='background-color:");
                            };
                            $1x.push('transparent');
                            $1x.push("' unselectable='on'>");
                            if ($1v) {
                                if ($h.start().getDatePart().getTime() !== $h.start().getTime()) {
                                    $1x.push(DayPilot.DateUtil.hours($h.start(), this.$6m.timeFormat() === 'Clock12Hours'));
                                }
                            } else {
                                $1x.push("~");
                            };
                            $1x.push("</span></div></div>");
                        };
                        if ($1A) {
                            $1x.push("<div unselectable='on' style='position:absolute;text-align:right;height:1px;font-size:1px;width:100%'><div unselectable='on' style='margin-right:4px;font-size:8pt;color:gray'><span style='background-color:");
                            $1x.push('transparent');
                            $1x.push("' unselectable='on'>");
                            if ($1w) {
                                if ($h.end().getDatePart().getTime() !== $h.end().getTime()) {
                                    $1x.push(DayPilot.DateUtil.hours($h.end(), this.$6m.timeFormat() === 'Clock12Hours'));
                                }
                            } else {
                                $1x.push("~");
                            };
                            $1x.push("</span></div></div>");
                        };
                        if ($1B === 'Left') {
                            var $X = $1z ? $1C : 0;
                            $1x.push("<div style='margin-top:0px;height:");
                            $1x.push($0e.allDayEventHeight() - 2);
                            $1x.push("px;");
                            $1x.push(";overflow:hidden;text-align:left;padding-left:");
                            $1x.push($X);
                            $1x.push("px;font-size:");
                            $1x.push(this.allDayEventFontSize);
                            $1x.push(";color:");
                            $1x.push(this.allDayEventFontColor);
                            $1x.push(";font-family:");
                            $1x.push(this.eventFontFamily);
                            $1x.push("' unselectable='on'>");
                            if ($h.client.innerHTML()) {
                                $1x.push($h.client.innerHTML());
                            } else {
                                $1x.push($h.text());
                            };
                            $1x.push("</div>");
                        } else if ($1B === 'Center') {
                            if ($1y) {
                                $1x.push("<div style='position:absolute; text-align:center; width: 98%; height:1px;'>");
                                $1x.push("<span style='background-color:");
                                $1x.push('transparent');
                                $1x.push(";font-size:");
                                $1x.push(this.allDayEventFontSize);
                                $1x.push(";color:");
                                $1x.push(this.allDayEventFontColor);
                                $1x.push(";font-family:");
                                $1x.push(this.allDayEventFontFamily);
                                $1x.push("' unselectable='on'>");
                                if ($h.client.innerHTML()) {
                                    $1x.push($h.client.innerHTML());
                                } else {
                                    $1x.push($h.text());
                                };
                                $1x.push("</span>");
                                $1x.push("</div>");
                            } else {
                                $1x.push("<div style='margin-top:0px;height:");
                                $1x.push($0e.allDayEventHeight() - 2);
                                $1x.push("px;");
                                $1x.push(";overflow:hidden;text-align:center;font-size:");
                                $1x.push(this.allDayEventFontSize);
                                $1x.push(";color:");
                                $1x.push(this.allDayEventFontColor);
                                $1x.push(";font-family:");
                                $1x.push(this.allDayEventFontFamily);
                                $1x.push("' unselectable='on'>");
                                if ($h.client.innerHTML()) {
                                    $1x.push($h.client.innerHTML());
                                } else {
                                    $1x.push($h.text());
                                };
                                $1x.push("</div>");
                            }
                        };
                        $M.innerHTML = $1x.join('');
                        $d.appendChild($M);
                    } else {
                        var $M = document.createElement("div");
                        $M.setAttribute("unselectable", "on");
                        $M.className = this.$5d("_alldayevent_inner");
                        if (back) {
                            $M.style.background = back;
                        };
                        if ($c.rtl) {
                            if (!$1v) {
                                DayPilot.Util.addClass($d, this.$5d("_alldayevent_continueright"));
                            };
                            if (!$1w) {
                                DayPilot.Util.addClass($d, this.$5d("_alldayevent_continueleft"));
                            }
                        } else {
                            if (!$1v) {
                                DayPilot.Util.addClass($d, this.$5d("_alldayevent_continueleft"));
                            };
                            if (!$1w) {
                                DayPilot.Util.addClass($d, this.$5d("_alldayevent_continueright"));
                            }
                        };
                        if ($h.client.innerHTML()) {
                            $M.innerHTML = $h.client.innerHTML();
                        } else {
                            $M.innerHTML = $h.text();
                        };
                        $d.appendChild($M);
                    };
                    if ($c.$5a()) {
                        if (typeof $c.onAfterEventRender === 'function') {
                            var $n = {};
                            $n.e = $d.event;
                            $n.div = $d;
                            $c.onAfterEventRender($n);
                        }
                    } else {
                        if ($c.afterEventRender) {
                            $c.afterEventRender($d.event, $d);
                        }
                    };
                    this.nav.allday.appendChild($d);
                    this.elements.events.push($d);
                }
            };
            $1t.style.display = '';
        };
        this.$4E = function($1D) {
            $c.multiselect.$6d();
            if (this.elements.events) {
                for (var i = 0; i < this.elements.events.length; i++) {
                    var $d = this.elements.events[i];
                    var $E = $d.event;
                    if ($E && $1D && !$E.allday()) {
                        continue;
                    };
                    if ($E) {
                        $E.div = null;
                        $E.root = null;
                    };
                    $d.onclick = null;
                    $d.onclickSave = null;
                    $d.ondblclick = null;
                    $d.oncontextmenu = null;
                    $d.onmouseover = null;
                    $d.onmouseout = null;
                    $d.onmousemove = null;
                    $d.onmousedown = null;
                    if ($d.firstChild && $d.firstChild.firstChild && $d.firstChild.firstChild.tagName && $d.firstChild.firstChild.tagName.toUpperCase() === 'IMG') {
                        var $1E = $d.firstChild.firstChild;
                        $1E.onmousedown = null;
                        $1E.onmousemove = null;
                        $1E.onclick = null;
                    };
                    $d.helper = null;
                    $d.event = null;
                    DayPilot.de($d);
                }
            };
            this.elements.events = [];
        };
        this.$6n = function($h) {
            var $G = this.nav.events;
            var $1F = this.roundedCorners;
            var $1G = this.roundedCorners && (this.$4t.ff || this.$4t.opera105 || this.$4t.webkit522 || !this.$4t.ielt9);
            var $1H = this.roundedCorners && !$1G;
            var $1I = $h.cache || $h.data;
            var $1J = $1I.borderColor || this.eventBorderColor;
            var $d = document.createElement("div");
            $d.setAttribute("unselectable", "on");
            $d.style.MozUserSelect = 'none';
            $d.style.KhtmlUserSelect = 'none';
            $d.style.WebkitUserSelect = 'none';
            $d.style.position = 'absolute';
            if (!this.cssOnly) {
                $d.style.fontFamily = this.eventFontFamily;
                $d.style.fontSize = this.eventFontSize;
                $d.style.color = $1I.fontColor || this.eventFontColor;
                if (!$1F) {
                    $d.style.backgroundColor = $1J;
                }
            } else {
                $d.className = this.$5d("_event");
            };
            $d.style.left = $h.part.left + '%';
            $d.style.top = ($h.part.top - this.$5Z()) + 'px';
            $d.style.width = $h.part.width + '%';
            $d.style.height = Math.max($h.part.height, 2) + 'px';
            $d.style.overflow = 'hidden';
            $d.isFirst = $h.part.start.getTime() === $h.start().getTime();
            $d.isLast = $h.part.end.getTime() === $h.end().getTime();
            if ($h.client.clickEnabled()) {
                $d.onclick = this.$5o;
            };
            if ($h.client.doubleClickEnabled()) {
                $d.ondblclick = this.$5s;
            };
            DayPilot.re($d, "contextmenu", this.$5t);
            $d.onmousemove = this.$6o;
            $d.onmouseout = this.$6p;
            $d.onmousedown = this.$6q;
            DayPilot.re($d, DayPilot.touch.start, this.$6r.onEventTouchStart);
            DayPilot.re($d, DayPilot.touch.move, this.$6r.onEventTouchMove);
            DayPilot.re($d, DayPilot.touch.end, this.$6r.onEventTouchEnd);
            var $1x = [];
            if ($1I.cssClass) {
                DayPilot.Util.addClass($d, $1I.cssClass);
            };
            if (this.showToolTip && !this.bubble) {
                $d.setAttribute("title", $h.client.toolTip());
            };
            var $M = document.createElement("div");
            $M.setAttribute("unselectable", "on");
            $M.className = $c.$5d("_event_inner");
            $M.innerHTML = $h.client.innerHTML();
            if ($1I.fontColor) {
                $M.style.color = $1I.fontColor;
            };
            if ($1I.backColor) {
                $M.style.background = $1I.backColor;
                if (DayPilot.browser.ie9 || DayPilot.browser.ielt9) {
                    $M.style.filter = '';
                }
            };
            if ($1I.borderColor) {
                $M.style.borderColor = $1I.borderColor;
            };
            if ($1I.backgroundImage) {
                $M.style.backgroundImage = "url(" + $1I.backgroundImage + ")";
                if ($1I.backgroundRepeat) {
                    $M.style.backgroundRepeat = $1I.backgroundRepeat;
                }
            };
            $d.appendChild($M);
            if ($h.client.barVisible()) {
                var $J = $h.part.height - 2;
                var $1K = 100 * $h.part.barTop / $J;
                var $1L = Math.ceil(100 * $h.part.barHeight / $J);
                if (this.durationBarMode === "PercentComplete") {
                    $1K = 0;
                    $1L = $1I.complete;
                };
                var $1M = document.createElement("div");
                $1M.setAttribute("unselectable", "on");
                $1M.className = this.$5d("_event_bar");
                $1M.style.position = "absolute";
                if ($1I.barBackColor) {
                    $1M.style.backgroundColor = $1I.barBackColor;
                };
                var $1N = document.createElement("div");
                $1N.setAttribute("unselectable", "on");
                $1N.className = this.$5d("_event_bar_inner");
                $1N.style.top = $1K + "%";
                if (0 < $1L && $1L <= 1) {
                    $1N.style.height = "1px";
                } else {
                    $1N.style.height = $1L + "%";
                };
                if ($1I.barColor) {
                    $1N.style.backgroundColor = $1I.barColor;
                };
                $1M.appendChild($1N);
                $d.appendChild($1M);
            };
            if ($1I.areas) {
                for (var i = 0; i < $1I.areas.length; i++) {
                    var $1O = $1I.areas[i];
                    var v = $1O.v || "Visible";
                    if (v !== 'Visible') {
                        continue;
                    };
                    var a = DayPilot.Areas.createArea($d, $h, $1O);
                    $d.appendChild(a);
                }
            };
            if ($G.rows[0].cells[$h.part.dayIndex]) {
                var $1P = $G.rows[0].cells[$h.part.dayIndex].events;
                $1P.appendChild($d);
                $c.$6s($d);
                $d.event = $h;
                if ($c.multiselect.$65($h)) {
                    $c.multiselect.add($d.event, true);
                };
                if ($c.$5a()) {
                    if (typeof $c.onAfterEventRender === 'function') {
                        var $n = {};
                        $n.e = $d.event;
                        $n.div = $d;
                        $c.onAfterEventRender($n);
                    }
                } else {
                    if ($c.afterEventRender) {
                        $c.afterEventRender($d.event, $d);
                    }
                }
            };
            $c.elements.events.push($d);
        };
        this.$6s = function(el) {
            var c = (el && el.childNodes) ? el.childNodes.length : 0;
            for (var i = 0; i < c; i++) {
                try {
                    var $1m = el.childNodes[i];
                    if ($1m.nodeType === 1) {
                        $1m.setAttribute("unselectable", "on");
                        this.$6s($1m);
                    }
                } catch (e) {}
            }
        };
        this.$56 = function() {
            var $09 = new Date();
            for (var i = 0; i < this.$5c.length; i++) {
                var $1Q = this.$5c[i];
                if (!$1Q.blocks) {
                    continue;
                };
                for (var m = 0; m < $1Q.blocks.length; m++) {
                    var $1o = $1Q.blocks[m];
                    for (var j = 0; j < $1o.lines.length; j++) {
                        var $1q = $1o.lines[j];
                        for (var k = 0; k < $1q.length; k++) {
                            var e = $1q[k];
                            e.part.width = 100 / $1o.lines.length;
                            e.part.left = e.part.width * j;
                            if (this.eventArrangement === 'Cascade') {
                                var $1R = (j === $1o.lines.length - 1);
                                if (!$1R) {
                                    e.part.width = e.part.width * 1.5;
                                }
                            };
                            if (this.eventArrangement === 'Full') {
                                e.part.left = e.part.left / 2;
                                e.part.width = 100 - e.part.left;
                            };
                            if (!e.allday()) {
                                this.$6n(e);
                            }
                        }
                    }
                }
            };
            this.multiselect.redraw();
            var end = new Date();
            var $1S = end.getTime() - $09.getTime();
        };
        this.$6t = function() {
            this.multiselect.$5N = [];
            for (var i = 0; i < this.$5c.length; i++) {
                var $1Q = this.$5c[i];
                for (var j = 0; j < $1Q.lines.length; j++) {
                    var $1q = $1Q.lines[j];
                    for (var k = 0; k < $1q.length; k++) {
                        var e = $1q[k];
                        e.part.width = 100 / $1Q.lines.length;
                        e.part.left = e.Width * j;
                        if (!e.allday()) {
                            this.$6n(e);
                        }
                    }
                }
            }
        };
        this.$5d = function($1T) {
            var $1U = this.theme || this.cssClassPrefix;
            if ($1U) {
                return $1U + $1T;
            } else {
                return "";
            }
        };
        this.$55 = function() {
            if (this.nav.top.style.visibility === 'hidden') {
                this.nav.top.style.visibility = 'visible';
            }
        };
        this.$6u = function() {
            var $J = this.$5k() + this.$6v();
            $c.debug.message("Getting totalHeight, headerHeight: " + this.$5k() + " scrollable: " + this.$6v());
            if ($J < 0) {
                return 0;
            };
            return $J;
        };
        this.$6w = function() {
            this.nav.top.dp = this;
            this.nav.top.innerHTML = '';
            this.nav.top.style.MozUserSelect = 'none';
            this.nav.top.style.KhtmlUserSelect = 'none';
            this.nav.top.style.WebkitUserSelect = 'none';
            this.nav.top.style.WebkitTapHighlightColor = "rgba(0,0,0,0)";
            this.nav.top.style.WebkitTouchCallout = "none";
            this.nav.top.style.position = 'relative';
            if (this.width) {
                this.nav.top.style.width = this.width;
            };
            if (this.rtl) {
                this.nav.top.style.direction = "rtl";
            };
            if (!this.cssOnly) {
                this.nav.top.style.lineHeight = "1.2";
                this.nav.top.style.textAlign = "left";
            };
            if (this.heightSpec === "Parent100Pct") {
                this.nav.top.style.height = "100%";
            } else {
                this.nav.top.style.height = this.$6u() + "px";
            };
            if (this.hideUntilInit) {
                this.nav.top.style.visibility = 'hidden';
            };
            if (!this.visible) {
                this.nav.top.style.display = "none";
            };
            this.nav.scroll = document.createElement("div");
            this.nav.scroll.style.height = this.$6v() + "px";
            if (this.cssOnly) {
                DayPilot.Util.addClass(this.nav.top, this.$5d("_main"));
            };
            this.nav.scroll.style.position = "relative";
            if (!this.cssOnly) {
                this.nav.scroll.style.border = "1px solid " + this.borderColor;
                this.nav.scroll.style.backgroundColor = this.hourNameBackColor;
            };
            if (this.showHeader) {
                var $1t = this.$6x();
                this.nav.top.appendChild($1t);
            };
            this.nav.scroll.style.zoom = 1;
            this.nav.scroll.setAttribute("data-id", "nav.scroll");
            this.nav.scroll.style.position = "absolute";
            this.nav.scroll.style.left = "0px";
            this.nav.scroll.style.right = "0px";
            this.nav.scroll.style.top = this.$5k() + "px";
            var $1V = this.$6y();
            this.nav.scrollable = $1V.firstChild;
            this.nav.scroll.appendChild($1V);
            this.nav.top.appendChild(this.nav.scroll);
            this.nav.vsph = document.createElement("div");
            this.nav.vsph.style.display = "none";
            this.nav.top.appendChild(this.nav.vsph);
            this.nav.scrollpos = document.createElement("input");
            this.nav.scrollpos.type = "hidden";
            this.nav.scrollpos.id = $c.id + "_scrollpos";
            this.nav.scrollpos.name = this.nav.scrollpos.id;
            this.nav.top.appendChild(this.nav.scrollpos);
            this.nav.select = document.createElement("input");
            this.nav.select.type = "hidden";
            this.nav.select.id = $c.id + "_select";
            this.nav.select.name = this.nav.select.id;
            this.nav.select.value = null;
            this.nav.top.appendChild(this.nav.select);
            this.nav.scrollLayer = document.createElement("div");
            this.nav.scrollLayer.style.position = 'absolute';
            this.nav.scrollLayer.style.top = '0px';
            this.nav.scrollLayer.style.left = '0px';
            this.nav.top.appendChild(this.nav.scrollLayer);
            this.nav.scrollUp = [];
            this.nav.scrollDown = [];
            this.nav.loading = document.createElement("div");
            this.nav.loading.style.position = 'absolute';
            this.nav.loading.style.top = '0px';
            this.nav.loading.style.left = (this.hourWidth + 5) + "px";
            this.nav.loading.style.backgroundColor = this.loadingLabelBackColor;
            this.nav.loading.style.fontSize = this.loadingLabelFontSize;
            this.nav.loading.style.fontFamily = this.loadingLabelFontFamily;
            this.nav.loading.style.color = this.loadingLabelFontColor;
            this.nav.loading.style.padding = '2px';
            this.nav.loading.innerHTML = this.loadingLabelText;
            this.nav.loading.style.display = 'none';
            this.nav.top.appendChild(this.nav.loading);
        };
        this.$6z = function() {
            var $0Q = this.columnWidthSpec === 'Fixed';
            var $1W = this.nav.header && this.nav.header.rows[this.nav.header.rows.length - 1];
            var $1X = this.nav.events.rows[0];
            for (var i = 0; i < $c.$5c.length; i++) {
                var $1Y = $1W && $1W.cells[i];
                var $1Z = $1X.cells[i];
                var $20 = $1Y && $1Y.firstChild;
                var $h = $c.$5c[i];
                if ($0Q) {
                    var $11 = $h.width ? $h.width : $c.columnWidth;
                    $20 && ($20.style.width = $11 + "px");
                    if ($1Z) {
                        $1Z.style.width = $11 + "px";
                    }
                } else {
                    $20 && ($20.style.width = null);
                    if ($1Z) {
                        $1Z.style.width = null;
                    }
                }
            }
        };
        this.$5l = function() {
            return this.$5V ? $c.nav.bottomRight : $c.nav.scroll;
        };
        this.$53 = function() {
            var $0Q = this.columnWidthSpec === 'Fixed';
            if (!$0Q) {
                var element = $c.$5l();
                if (this.heightSpec === "Fixed") {
                    element.style.overflowY = "scroll";
                } else if (this.heightSpec === 'BusinessHours' && this.$5e() <= this.businessEndsHour - this.businessBeginsHour) {
                    element.style.overflow = "hidden";
                } else if (this.heightSpec !== "Full" && this.heightSpec !== "BusinessHoursNoScroll") {
                    element.style.overflow = "auto";
                } else {
                    element.style.overflow = "hidden";
                }
            };
            if ($0Q) {
                var $21 = 0;
                var w = this.$5c.length * this.columnWidth;
                var $22 = $c.$5W();
                if (w > $22.clientWidth) {
                    $21 = DayPilot.sw($c.nav.bottomRight);
                };
                $c.nav.headerParent && ($c.nav.headerParent.style.width = (w + $21) + "px");
                $c.nav.main.style.width = w + "px";
                $c.nav.events.style.width = w + "px";
                $c.nav.crosshair.style.width = w + "px";
            } else {
                $c.nav.headerParent && ($c.nav.headerParent.style.width = "100%");
                $c.nav.main.style.width = "100%";
                $c.nav.events.style.width = "100%";
                $c.nav.crosshair.style.width = "100%";
            };
            this.$6z();
        };
        this.$50 = function() {
            if (!this.$4p) {
                DayPilot.pu(this.nav.hourTable);
            } else {
                this.$6A();
            };
            if (this.nav.hoursPlaceholder) {
                this.nav.hoursPlaceholder.innerHTML = '';
                this.nav.hourTable = this.$6B();
                this.nav.hoursPlaceholder.appendChild(this.nav.hourTable);
            }
        };
        this.$6A = function() {
            if (!this.nav.hourTable) {
                return;
            };
            for (var i = 0; i < this.nav.hourTable.rows.length; i++) {
                var $23 = this.nav.hourTable.rows[i];
                var $d = $23.cells[0].firstChild;
                $d.data = null;
                $d.onmousemove = null;
                $d.onmouseout = null;
            }
        };
        this.$6y = function() {
            var $24 = document.createElement("div");
            $24.style.zoom = 1;
            $24.style.position = 'relative';
            $24.onmousemove = this.$6C;
            DayPilot.re($24, DayPilot.touch.start, this.$6r.onMainTouchStart);
            DayPilot.re($24, DayPilot.touch.move, this.$6r.onMainTouchMove);
            DayPilot.re($24, DayPilot.touch.end, this.$6r.onMainTouchEnd);
            DayPilot.re($24, "contextmenu", function(ev) {
                var ev = ev || window.event;
                ev.preventDefault ? ev.preventDefault() : ev.returnValue = false;
            });
            if (navigator.msPointerEnabled) {
                $24.style.msTouchAction = "none";
                $24.style.touchAction = "none";
            };
            $24.daypilotMainD = true;
            $24.calendar = this;
            var $25 = null;
            var $26 = null;
            var $27 = null;
            var $0Q = this.columnWidthSpec === 'Fixed';
            if ($0Q || this.$5V) {
                if (this.showHours) {
                    var $X = document.createElement("div");
                    $X.style.cssFloat = "left";
                    $X.style.styleFloat = "left";
                    $X.style.width = (this.hourWidth) + "px";
                    $X.style.height = this.$6v() + "px";
                    $X.style.overflow = "hidden";
                    $X.style.position = "relative";
                    $24.appendChild($X);
                    $25 = $X;
                    var $21 = 30;
                    var $J = (this.$5f() * this.cellHeight) / (60000 * this.cellDuration) + $21;
                    $27 = document.createElement("div");
                    $27.style.height = ($J) + "px";
                    $X.appendChild($27);
                };
                var $Y = document.createElement("div");
                $Y.style.height = this.$6v() + "px";
                if (this.showHours) {
                    $Y.style.marginLeft = (this.hourWidth) + "px";
                };
                $Y.style.position = "relative";
                $Y.style.overflow = "auto";
                $24.appendChild($Y);
                $26 = $Y;
            } else {
                var $28 = document.createElement("table");
                $28.cellSpacing = "0";
                $28.cellPadding = "0";
                $28.border = "0";
                $28.style.border = "0px none";
                $28.style.width = "100%";
                $28.style.position = 'relative';
                var r = $28.insertRow(-1);
                var c;
                if (this.showHours) {
                    c = r.insertCell(-1);
                    c.style.verticalAlign = "top";
                    c.style.padding = '0px';
                    c.style.border = '0px none';
                    $27 = c;
                };
                c = r.insertCell(-1);
                c.width = "100%";
                c.style.padding = '0px';
                c.style.border = '0px none';
                c.style.verticalAlign = "top";
                if (!this.cssOnly) {
                    c.style.borderLeft = "1px solid " + this.borderColor;
                };
                $26 = c;
                $24.appendChild($28);
            };
            if ($27) {
                this.nav.hourTable = this.$6B();
                $27.appendChild(this.nav.hourTable);
            };
            if (!this.cssOnly && !this.$4q) {
                $26.appendChild(this.$6D());
            } else {
                var parent = document.createElement("div");
                parent.style.height = "0px";
                parent.style.position = "relative";
                parent.appendChild(this.$6D());
                var $29 = document.createElement("div");
                $29.style.position = "absolute";
                $29.style.top = "0px";
                $29.style.left = "0px";
                $29.style.width = "100%";
                $29.style.height = "0px";
                parent.appendChild($29);
                this.nav.crosshair = $29;
                parent.appendChild(this.$6E());
                $26.appendChild(parent);
            };
            this.nav.zoom = $24;
            this.nav.bottomLeft = $25;
            this.nav.bottomRight = $26;
            this.nav.hoursPlaceholder = $27;
            return $24;
        };
        this.$6D = function() {
            var $28 = document.createElement("table");
            $28.cellPadding = "0";
            $28.cellSpacing = "0";
            $28.border = "0";
            var $0Q = this.columnWidthSpec === 'Fixed';
            if (!$0Q) {
                $28.style.width = "100%";
            };
            $28.style.border = "0px none";
            if (!this.cssOnly) {};
            $28.style.tableLayout = 'fixed';
            this.nav.main = $28;
            this.nav.events = $28;
            return $28;
        };
        this.$6F = function() {
            var $0Q = this.columnWidthSpec === 'Fixed';
            if (!$0Q) {
                return "100%";
            } else {
                var $2a = 0;
                for (var i = 0; i < $c.$5c.length; i++) {
                    var $q = $c.$5c[i];
                    if ($q.width) {
                        $2a += $q.width;
                    } else {
                        $2a += $c.columnWidth;
                    }
                };
                return $2a + "px";
            }
        };
        this.$6E = function() {
            var $28 = document.createElement("table");
            $28.style.position = "absolute";
            $28.style.top = "0px";
            $28.cellPadding = "0";
            $28.cellSpacing = "0";
            $28.border = "0";
            $28.style.width = $c.$6F();
            $28.style.border = "0px none";
            $28.style.tableLayout = 'fixed';
            this.nav.events = $28;
            var $2b = true;
            var $0f = this.$5c;
            var cl = $0f.length;
            var r = ($2b) ? $28.insertRow(-1) : $28.rows[0];
            for (var j = 0; j < cl; j++) {
                var c = ($2b) ? r.insertCell(-1) : r.cells[j];
                if ($2b) {
                    c.style.padding = '0px';
                    c.style.border = '0px none';
                    c.style.height = '0px';
                    c.style.overflow = 'visible';
                    if (!$c.rtl) {
                        c.style.textAlign = 'left';
                    };
                    $c.$6G(c);
                }
            };
            return $28;
        };
        this.$6B = function() {
            var $28 = document.createElement("table");
            $28.cellSpacing = "0";
            $28.cellPadding = "0";
            $28.border = "0";
            $28.style.border = '0px none';
            $28.style.width = this.hourWidth + "px";
            $28.oncontextmenu = function() {
                return false;
            };
            $28.onmousemove = function() {
                $c.$4L();
            };
            var $2c = this.$5f() / (this.timeHeaderCellDuration * 60 * 1000);
            for (var i = 0; i < $2c; i++) {
                this.$6H($28, i);
            };
            return $28;
        };
        this.$6I = function() {
            return (this.$5j() - this.$5j(true)) * (60 / this.cellDuration);
        };
        this.$6J = function() {
            return (this.$5j() - this.$5j(true));
        };
        this.$5Z = function() {
            return this.$6I() * this.cellHeight;
        };
        this.$6H = function($28, i) {
            var $J = (this.cellHeight * 60 / this.cellDuration) / (60 / this.timeHeaderCellDuration);
            var r = $28.insertRow(-1);
            r.style.height = $J + "px";
            var c = r.insertCell(-1);
            c.valign = "bottom";
            c.setAttribute("unselectable", "on");
            if (!this.cssOnly) {
                c.className = this.$5d("rowheader");
                c.style.backgroundColor = this.hourNameBackColor;
                c.style.cursor = "default";
            };
            c.style.padding = '0px';
            c.style.border = '0px none';
            var $2d = document.createElement("div");
            if (this.cssOnly) {
                $2d.className = this.$5d("_rowheader");
            };
            $2d.style.position = "relative";
            $2d.style.width = this.hourWidth + "px";
            $2d.style.height = ($J) + "px";
            $2d.style.overflow = 'hidden';
            $2d.setAttribute("unselectable", "on");
            var $1o = document.createElement("div");
            if (this.cssOnly) {
                $1o.className = this.$5d("_rowheader_inner");
            };
            $1o.setAttribute("unselectable", "on");
            if (!this.cssOnly) {
                $1o.style.borderBottom = "1px solid " + this.hourNameBorderColor;
                $1o.style.textAlign = "right";
                $1o.style.height = ($J - 1) + "px";
            };
            var $S = null;
            var $h = null;
            if (this.hours) {
                var $2e = i + this.$6J();
                $h = this.hours[$2e];
                $S = $h.html;
            };
            var $2f = this.timeHeaderCellDuration;
            var $09 = this.startDate.addMinutes($2f * i + 60 * this.$5j());
            var $2g = $09.getHours();
            if (!$S) {
                var $2h = document.createElement("div");
                $2h.setAttribute("unselectable", "on");
                if (!this.cssOnly) {
                    $2h.style.padding = "2px";
                    $2h.style.fontFamily = this.hourFontFamily;
                    $2h.style.fontSize = this.hourFontSize;
                    $2h.style.color = this.hourFontColor;
                };
                var am = $2g < 12;
                if (this.$6m.timeFormat() === "Clock12Hours") {
                    $2g = $2g % 12;
                    if ($2g === 0) {
                        $2g = 12;
                    }
                };
                if (this.timeHeaderCellDuration !== 60) {
                    $2g += ":" + $09.toString("mm");
                };
                $2h.innerHTML = $2g;
                var $2i = document.createElement("span");
                $2i.setAttribute("unselectable", "on");
                if (!this.cssOnly) {
                    $2i.style.fontSize = "10px";
                    $2i.style.verticalAlign = "super";
                } else {
                    $2i.className = this.$5d("_rowheader_minutes");
                };
                var $2j;
                if (this.$6m.timeFormat() === "Clock12Hours") {
                    if (am) {
                        $2j = "AM";
                    } else {
                        $2j = "PM";
                    }
                } else {
                    $2j = "00";
                };
                if (!this.cssOnly) {
                    $2i.innerHTML = "&nbsp;" + $2j;
                } else {
                    $2i.innerHTML = $2j;
                };
                $2h.appendChild($2i);
                $S = $2h.outerHTML;
            };
            if (typeof $c.onBeforeTimeHeaderRender === 'function') {
                var $n = {};
                $n.header = {};
                $n.header.hours = $2g;
                $n.header.minutes = $09.getMinutes();
                $n.header.start = $09.toString("HH:mm");
                $n.header.html = $S;
                $n.header.areas = $h ? $h.areas : null;
                $c.onBeforeTimeHeaderRender($n);
                if ($n.header.html !== null) {
                    $S = $n.header.html;
                };
                $h = $n.header;
            };
            if ($h) {
                $2d.data = $h;
                $2d.onmousemove = $c.$6K;
                $2d.onmouseout = $c.$6L;
            };
            $1o.innerHTML = $S;
            $2d.appendChild($1o);
            c.appendChild($2d);
        };
        this.$6K = function(ev) {
            $c.$4L();
            var $d = this;
            if (!$d.active) {
                DayPilot.Areas.showAreas($d, $d.data);
            }
        };
        this.$6L = function(ev) {
            DayPilot.Areas.hideAreas(this, ev);
        };
        this.$6v = function() {
            switch (this.heightSpec) {
                case "Fixed":
                    return this.height;
                case "Parent100Pct":
                    return this.height;
                case "Full":
                    return (this.$5f() * this.cellHeight) / (60000 * this.cellDuration);
                case "BusinessHours":
                case "BusinessHoursNoScroll":
                    var $O = this.$5g();
                    return $O * this.cellHeight * 60 / this.cellDuration;
                default:
                    throw "DayPilot.Calendar: Unexpected 'heightSpec' value.";
            }
        };
        this.$5k = function() {
            if (!this.showHeader) {
                return 0;
            };
            var $2k = this.headerLevels * $0e.headerHeight();
            if (this.showAllDayEvents && $0e.allDayHeaderHeight()) {
                return $2k + $0e.allDayHeaderHeight();
            } else {
                return $2k;
            }
        };
        this.$4W = function() {
            if (!this.headerHeightAutoFit) {
                return;
            };
            var $N = 0;
            for (var x = 0; x < this.nav.header.rows.length; x++) {
                var $23 = this.nav.header.rows[x];
                for (var i = 0; i < $23.cells.length; i++) {
                    var $f = $23.cells[i];
                    var $d = $f.firstChild;
                    var $M = $d.firstChild;
                    var $2l = $d.style.height;
                    $d.style.height = "auto";
                    $M.style.position = "static";
                    var h = $d.offsetHeight;
                    $d.style.height = $2l;
                    $M.style.position = '';
                    $N = Math.max($N, h);
                }
            };
            if ($N > this.headerHeight) {
                this.$4o.headerHeight = $N;
                this.$4U();
                this.$4V();
            }
        };
        this.$5V = true;
        this.$6M = function() {
            var element = this.$5V ? $c.nav.bottomRight : $c.nav.scroll;
            if (this.cssOnly) {
                return DayPilot.sw(element) > 0;
            } else {
                return DayPilot.sw(element) > 2;
            }
        };
        this.$6x = function() {
            var $1t = document.createElement("div");
            if (!this.cssOnly) {
                $1t.style.borderLeft = "1px solid " + this.borderColor;
                $1t.style.borderRight = "1px solid " + this.borderColor;
            };
            var $0Q = this.columnWidthSpec === 'Fixed';
            if (!$0Q) {
                $1t.style.overflow = "auto";
            };
            $1t.style.position = "absolute";
            $1t.style.left = "0px";
            $1t.style.right = "0px";
            var $24 = document.createElement("div");
            $24.style.position = "relative";
            $24.style.zoom = "1";
            var $2m = null;
            var $0Q = this.columnWidthSpec === 'Fixed';
            if ($0Q || this.$5V) {
                var $X = document.createElement("div");
                $X.style.cssFloat = "left";
                $X.style.styleFloat = "left";
                $X.style.width = (this.hourWidth) + "px";
                if (this.showHours) {
                    var $2n = this.$6N();
                    this.nav.corner = $2n;
                    $X.appendChild($2n);
                    $24.appendChild($X);
                    this.nav.upperLeft = $X;
                };
                var $Y = document.createElement("div");
                if (this.showHours) {
                    $Y.style.marginLeft = (this.hourWidth) + "px";
                };
                $Y.style.position = "relative";
                $Y.style.overflow = "hidden";
                $Y.style.height = this.$5k() + "px";
                $24.appendChild($Y);
                this.nav.upperRight = $Y;
                $2m = document.createElement("div");
                $2m.style.position = "relative";
                $Y.appendChild($2m);
            } else {
                var $28 = document.createElement("table");
                $28.cellPadding = "0";
                $28.cellSpacing = "0";
                $28.border = "0";
                $28.style.width = "100%";
                $28.style.borderCollapse = 'separate';
                $28.style.border = "0px none";
                var r = $28.insertRow(-1);
                this.nav.fullHeader = $28;
                if (this.showHours) {
                    var c = r.insertCell(-1);
                    c.style.padding = '0px';
                    c.style.border = '0px none';
                    var $2n = this.$6N();
                    c.appendChild($2n);
                    this.nav.corner = $2n;
                };
                c = r.insertCell(-1);
                c.style.width = "100%";
                if (!this.cssOnly) {
                    c.style.backgroundColor = this.hourNameBackColor;
                };
                c.valign = "top";
                c.style.position = 'relative';
                c.style.padding = '0px';
                c.style.border = '0px none';
                $2m = document.createElement("div");
                $2m.style.position = "relative";
                $2m.style.height = this.$5k() + "px";
                $2m.style.overflow = "hidden";
                c.appendChild($2m);
                this.nav.mid = $2m;
                $24.appendChild($28);
            };
            this.nav.headerParent = $2m;
            this.$6O();
            var $2o = this.$6M();
            var $0Q = this.columnWidthSpec === 'Fixed';
            if ($2o && !$0Q) {
                this.$6P();
            };
            $1t.appendChild($24);
            return $1t;
        };
        this.$6O = function() {
            this.nav.unifiedCornerRight = null;
            this.nav.header = document.createElement("table");
            this.nav.header.cellPadding = "0";
            this.nav.header.cellSpacing = "0";
            var $0Q = this.columnWidthSpec === 'Fixed';
            if (!$0Q) {
                this.nav.header.width = "100%";
            };
            this.nav.header.style.tableLayout = "fixed";
            if (!this.cssOnly) {
                this.nav.header.style.borderBottom = "0px none #000000";
                this.nav.header.style.borderLeft = "1px solid " + this.borderColor;
                this.nav.header.style.borderTop = "1px solid " + this.borderColor;
            };
            this.nav.header.oncontextmenu = function() {
                return false;
            };
            var $2o = this.$6M();
            if (!this.cssOnly) {
                if ($2o) {
                    this.nav.header.style.borderRight = "1px solid " + this.borderColor;
                }
            };
            this.nav.headerParent.appendChild(this.nav.header);
            if (this.nav.allday) {
                DayPilot.de(this.nav.allday);
            };
            if (this.showAllDayEvents) {
                var $2p = document.createElement("div");
                $2p.style.position = 'absolute';
                $2p.style.top = "0px";
                $2p.style.height = "0px";
                var $0Q = this.columnWidthSpec === 'Fixed';
                if (!$0Q) {
                    $2p.style.left = "0px";
                    $2p.style.right = "0px";
                } else {
                    $2p.style.width = (this.$5c.length * this.columnWidth) + "px";
                };
                this.nav.allday = $2p;
                this.nav.headerParent.appendChild($2p);
            }
        };
        this.$6P = function() {
            if (!this.nav.fullHeader) {
                return;
            };
            var r = this.nav.fullHeader.rows[0];
            var c = r.insertCell(-1);
            if (!this.cssOnly) {
                c.className = this.$5d('cornerright');
                c.style.backgroundColor = this.hourNameBackColor;
                c.style.borderBottom = "0px none";
                c.style.borderLeft = "1px solid " + this.borderColor;
                c.style.borderRight = "0px none";
            };
            c.style.padding = '0px';
            c.style.verticalAlign = 'top';
            c.setAttribute("unselectable", "on");
            var $1x = document.createElement("div");
            $1x.setAttribute("unselectable", "on");
            if (this.cssOnly) {
                $1x.className = this.$5d('_cornerright');
            };
            $1x.style.overflow = "hidden";
            $1x.style.position = "relative";
            $1x.style.width = "16px";
            $1x.style.height = this.$5k() + "px";
            var $M = document.createElement("div");
            if (this.cssOnly) {
                $M.className = this.$5d('_cornerright_inner');
            } else {
                $M.style.borderTop = "1px solid " + this.borderColor;
            };
            $1x.appendChild($M);
            c.appendChild($1x);
            this.nav.cornerRight = $1x;
        };
        this.$6N = function() {
            var $1V = document.createElement("div");
            $1V.style.position = 'relative';
            if (!this.cssOnly) {
                $1V.style.backgroundColor = this.cornerBackColor;
                $1V.style.fontFamily = this.headerFontFamily;
                $1V.style.fontSize = this.headerFontSize;
                $1V.style.color = this.headerFontColor;
                $1V.className = this.$5d("corner");
            } else {
                $1V.className = this.$5d("_corner");
            };
            $1V.style.width = this.hourWidth + "px";
            $1V.style.height = this.$5k() + "px";
            $1V.style.overflow = "hidden";
            $1V.oncontextmenu = function() {
                return false;
            };
            var $2n = document.createElement("div");
            if (this.cssOnly) {
                $2n.className = this.$5d("_corner_inner");
            } else {
                $2n.style.borderTop = "1px solid " + this.borderColor;
            };
            $2n.setAttribute("unselectable", "on");
            var $S = this.cornerHTML || this.cornerHtml;
            $2n.innerHTML = $S ? $S : '';
            $1V.appendChild($2n);
            if (!this.numberFormat) return $1V;
            var $2q = document.createElement("div");
            $2q.style.position = 'absolute';
            $2q.style.padding = '2px';
            $2q.style.top = '0px';
            $2q.style.left = '1px';
            $2q.style.backgroundColor = "#FF6600";
            $2q.style.color = "white";
            $2q.innerHTML = "\u0044\u0045\u004D\u004F";
            $2q.setAttribute("unselectable", "on");
            $1V.appendChild($2q);
            return $1V;
        };
        this.$4F = function() {
            var $28 = this.nav.main;
            $28.root = null;
            $28.onmouseup = null;
            for (var y = 0; y < $28.rows.length; y++) {
                var r = $28.rows[y];
                for (var x = 0; x < r.cells.length; x++) {
                    var c = r.cells[x];
                    c.root = null;
                    c.onmousedown = null;
                    c.onmousemove = null;
                    c.onmouseout = null;
                    c.onmouseup = null;
                    c.onclick = null;
                    c.ondblclick = null;
                    c.oncontextmenu = null;
                }
            };
            if (!this.$4p) DayPilot.pu($28);
        };
        this.$4X = function() {
            for (var i = 0; this.nav.scrollUp && i < this.nav.scrollUp.length; i++) {
                this.nav.scrollLayer.removeChild(this.nav.scrollUp[i]);
            };
            for (var i = 0; this.nav.scrollDown && i < this.nav.scrollDown.length; i++) {
                this.nav.scrollLayer.removeChild(this.nav.scrollDown[i]);
            };
            this.nav.scrollUp = [];
            this.nav.scrollDown = [];
        };
        this.$6G = function(c) {
            var $d = document.createElement("div");
            $d.style.marginRight = $c.columnMarginRight + "px";
            $d.style.position = 'relative';
            $d.style.height = '1px';
            if (!this.cssOnly) {
                $d.style.fontSize = '1px';
                $d.style.lineHeight = '1.2';
            };
            $d.style.marginTop = '-1px';
            c.events = $d;
            var $2r = document.createElement("div");
            $2r.style.position = "relative";
            $d.style.height = "1px";
            $d.style.marginTop = "-1px";
            c.separators = $2r;
            c.appendChild($2r);
            c.appendChild($d);
        };
        this.$4Z = function() {
            var $28 = this.nav.main;
            var $0l = this.cellDuration * 60 * 1000;
            var $2s = this.$5n();
            var $2t = this.$6J() * (60 / this.cellDuration);
            var $0f = $c.$5c;
            var $2b = true;
            var scrollY = 0;
            if ($28) {
                scrollY = $c.$5W().scrollTop;
                this.$4F();
                if ($c.$4t.ielt9 && $2b) {
                    DayPilot.de(this.nav.scrollable.parentNode);
                    var $1V = this.$6y();
                    this.$6Q();
                    this.nav.scrollable = $1V.firstChild;
                    this.nav.scroll.appendChild($1V);
                    $28 = this.nav.main;
                }
            };
            this.nav.scrollable.daypilotMainD = true;
            this.nav.scrollable.calendar = this;
            while ($28 && $28.rows && $28.rows.length > 0 && $2b) {
                if (!this.$4p) DayPilot.pu($28.rows[0]);
                $28.deleteRow(0);
            };
            this.$6R = true;
            if (this.scrollLabelsVisible) {
                var $0f = this.$5c;
                var $0S = (this.showHours ? this.hourWidth : 0);
                var $H = (this.nav.scroll.clientWidth - $0S) / $0f.length;
                for (var i = 0; i < $0f.length; i++) {
                    var $0U = document.createElement("div");
                    $0U.style.position = 'absolute';
                    $0U.style.top = '0px';
                    $0U.style.left = ($0S + 2 + i * $H + $H / 2) + "px";
                    $0U.style.display = 'none';
                    var $1E = document.createElement("div");
                    $1E.style.height = '10px';
                    $1E.style.width = '10px';
                    if (this.cssOnly) {
                        $1E.className = this.$5d("_scroll_up");
                    } else {
                        $1E.style.backgroundRepeat = "no-repeat";
                        if (this.scrollUpUrl) {
                            $1E.style.backgroundImage = "url('" + this.scrollUpUrl + "')";
                        };
                        $1E.className = this.$5d("scroll_up");
                    };
                    $0U.appendChild($1E);
                    this.nav.scrollLayer.appendChild($0U);
                    this.nav.scrollUp.push($0U);
                    var $0V = document.createElement("div");
                    $0V.style.position = 'absolute';
                    $0V.style.top = '0px';
                    $0V.style.left = ($0S + 2 + i * $H + $H / 2) + "px";
                    $0V.style.display = 'none';
                    var $1E = document.createElement("div");
                    $1E.style.height = '10px';
                    $1E.style.width = '10px';
                    if (this.cssOnly) {
                        $1E.className = this.$5d("_scroll_down");
                    } else {
                        $1E.style.backgroundRepeat = "no-repeat";
                        if (this.scrollDownUrl) {
                            $1E.style.backgroundImage = "url('" + this.scrollDownUrl + "')";
                        };
                        $1E.className = this.$5d("scroll_down");
                    };
                    $0V.appendChild($1E);
                    this.nav.scrollLayer.appendChild($0V);
                    this.nav.scrollDown.push($0V);
                }
            };
            var cl = $0f.length;
            if (this.cssOnly || this.$4q) {
                var $15 = this.nav.events;
                while ($15 && $15.rows && $15.rows.length > 0 && $2b) {
                    if (!this.$4p) DayPilot.pu($15.rows[0]);
                    $15.deleteRow(0);
                };
                var r = ($2b) ? $15.insertRow(-1) : $15.rows[0];
                for (var j = 0; j < cl; j++) {
                    var c = ($2b) ? r.insertCell(-1) : r.cells[j];
                    if ($2b) {
                        c.style.padding = '0px';
                        c.style.border = '0px none';
                        c.style.height = '1px';
                        c.style.overflow = 'visible';
                        var $0Q = this.columnWidthSpec === 'Fixed';
                        if ($0Q) {
                            if ($0f[j].width) {
                                c.style.width = $0f[j].width + "px";
                            } else {
                                c.style.width = this.columnWidth + "px";
                            }
                        };
                        if (!$c.rtl) {
                            c.style.textAlign = 'left';
                        };
                        $c.$6G(c);
                    }
                }
            };
            for (var i = 0; i < $2s; i++) {
                var r = ($2b) ? $28.insertRow(-1) : $28.rows[i];
                var y = i + $2t;
                if ($2b) {
                    r.style.MozUserSelect = 'none';
                    r.style.KhtmlUserSelect = 'none';
                    r.style.WebkitUserSelect = 'none';
                };
                for (var j = 0; j < cl; j++) {
                    var $1Q = this.$5c[j];
                    var c = ($2b) ? r.insertCell(-1) : r.cells[j];
                    c.start = $1Q.start.addTime(y * $0l).addHours(this.$5j());
                    c.end = c.start.addTime($0l);
                    c.resource = $1Q.id;
                    if (typeof this.onBeforeCellRender === 'function') {
                        if (!this.cellProperties) {
                            this.cellProperties = {};
                        };
                        var $f = {};
                        $f.resource = c.resource;
                        $f.start = c.start;
                        $f.end = c.end;
                        var $2e = j + "_" + y;
                        $f.cssClass = null;
                        $f.html = null;
                        $f.backImage = null;
                        $f.backRepeat = null;
                        $f.backColor = null;
                        $f.business = this.$6S(c.start, c.end);
                        if (this.cellProperties[$2e]) {
                            DayPilot.Util.copyProps(this.cellProperties[$2e], $f, ['cssClass', 'html', 'backImage', 'backRepeat', 'backColor', 'business']);
                        };
                        var $n = {};
                        $n.cell = $f;
                        this.onBeforeCellRender($n);
                        this.cellProperties[$2e] = $f;
                    };
                    var $2u = $c.$6T(j, y);
                    if ($2b) {
                        c.root = this;
                        c.style.padding = '0px';
                        c.style.border = '0px none';
                        c.style.verticalAlign = 'top';
                        c.style.height = $c.cellHeight + 'px';
                        c.style.overflow = 'hidden';
                        c.setAttribute("unselectable", "on");
                        if (!this.cssOnly) {
                            var $2v = document.createElement("div");
                            $2v.style.height = ($c.cellHeight - 1) + "px";
                            $2v.style.width = '100%';
                            $2v.style.overflow = 'hidden';
                            $2v.setAttribute("unselectable", "on");
                            c.appendChild($2v);
                            var $d = document.createElement("div");
                            $d.setAttribute("unselectable", "on");
                            $d.style.fontSize = '1px';
                            $d.style.height = '0px';
                            c.appendChild($d);
                            if ((!$c.rtl && j !== cl - 1) || $c.rtl) {
                                c.style.borderRight = '1px solid ' + $c.cellBorderColor;
                            };
                            var $2w = (c.end.getMinutes() + c.end.getSeconds() + c.end.getMilliseconds()) > 0;
                            if ($2w) {
                                if ($c.hourHalfBorderColor !== '') {
                                    $d.style.borderBottom = '1px solid ' + $c.hourHalfBorderColor;
                                };
                                $d.className = $c.$5d("hourhalfcellborder");
                            } else {
                                if ($c.hourBorderColor !== '') {
                                    $d.style.borderBottom = '1px solid ' + $c.hourBorderColor;
                                };
                                $d.className = $c.$5d("hourcellborder");
                            }
                        } else {
                            var $2v = document.createElement("div");
                            $2v.className = $c.$5d("_cell");
                            $2v.style.position = "relative";
                            $2v.style.height = ($c.cellHeight) + "px";
                            $2v.style.overflow = 'hidden';
                            $2v.setAttribute("unselectable", "on");
                            var $M = document.createElement("div");
                            $M.className = $c.$5d("_cell_inner");
                            $2v.appendChild($M);
                            c.appendChild($2v);
                        }
                    } else {
                        $2v = c.firstChild;
                        $2v.className = $c.$5d("_cell");
                    };
                    c.onmousedown = this.$5P;
                    c.onmousemove = this.$5S;
                    c.onmouseout = this.$5R;
                    DayPilot.re(c, DayPilot.touch.end, this.$6r.onCellTouchEnd);
                    c.onmouseup = function() {
                        return false;
                    };
                    c.onclick = function() {
                        return false;
                    };
                    c.ondblclick = function() {
                        DayPilotCalendar.firstMousePos = null;
                        $c.$5Q();
                        clearTimeout(DayPilotCalendar.selectedTimeout);
                        if ($c.timeRangeDoubleClickHandling === 'Disabled') {
                            return;
                        };
                        var $0P = $c.getSelection();
                        $c.$5K($0P.start, $0P.end, $0P.resource);
                    };
                    c.oncontextmenu = function() {
                        if (!this.selected) {
                            $c.clearSelection();
                            DayPilotCalendar.column = DayPilotCalendar.getColumn(this);
                            $c.selectedCells.push(this);
                            DayPilotCalendar.firstSelected = this;
                            DayPilotCalendar.topSelectedCell = this;
                            DayPilotCalendar.bottomSelectedCell = this;
                            $c.$5Q();
                        };
                        if ($c.timeRangeRightClickHandling === "Disabled") {
                            return false;
                        };
                        var $0I = $c.getSelection();
                        var $n = {};
                        $n.start = $0I.start;
                        $n.end = $0I.end;
                        $n.resource = $0I.resource;
                        $n.preventDefault = function() {
                            this.preventDefault.value = true;
                        };
                        if (typeof $c.onTimeRangeRightClick === "function") {
                            $c.onTimeRangeRightClick($n);
                            if ($n.preventDefault.value) {
                                return false;
                            }
                        };
                        if ($c.timeRangeRightClickHandling === "ContextMenu" && $c.contextMenuSelection) {
                            $c.contextMenuSelection.show($c.getSelection());
                        };
                        if (typeof $c.onTimeRangeRightClicked === "function") {
                            $c.onTimeRangeRightClicked($n);
                        };
                        return false;
                    };
                    var $V = $c.$6U(j, y);
                    $2v = c.firstChild;
                    var $0Q = this.columnWidthSpec === 'Fixed';
                    if ($0Q) {
                        if ($1Q.width) {
                            $2v.style.width = $1Q.width + "px";
                        } else {
                            $2v.style.width = this.columnWidth + "px";
                        }
                    };
                    if ($V) {
                        if (this.cssOnly) {
                            $2v.firstChild.style.background = $V;
                        } else {
                            $2v.style.background = $V;
                        }
                    };
                    var $2x = $2u ? $2u.business : this.$6S(c.start, c.end);
                    if ($2x && this.cssOnly) {
                        DayPilot.Util.addClass($2v, $c.$5d("_cell_business"));
                    };
                    var $S = this.cssOnly ? $2v.firstChild : $2v;
                    if ($S) {
                        $S.innerHTML = '';
                    };
                    $2v.style.backgroundImage = "";
                    $2v.style.backgroundRepeat = "";
                    if ($2u) {
                        if ($2u.html) {
                            $S.innerHTML = $2u.html;
                        };
                        if ($2u.cssClass) {
                            if (this.cssOnly) {
                                DayPilot.Util.addClass($2v, $2u.cssClass);
                            } else {
                                DayPilot.Util.addClass(c, $c.$5d($2u.cssClass));
                            }
                        };
                        if ($2u.backImage) {
                            $2v.style.backgroundImage = "url('" + $2u.backImage + "')";
                        };
                        if ($2u.backRepeat) {
                            $2v.style.backgroundRepeat = $2u.backRepeat;
                        }
                    };
                    if (!this.cssOnly) {
                        DayPilot.Util.addClass(c, $c.$5d("cellbackground"));
                    }
                }
            };
            $28.onmouseup = this.$5T;
            $28.root = this;
            $c.nav.scrollable.style.display = '';
            $c.$5W().scrollTop = scrollY;
        };
        this.$6S = function($09, end) {
            if (this.businessBeginsHour < this.businessEndsHour) {
                return !($09.getHours() < this.businessBeginsHour || $09.getHours() >= this.businessEndsHour || $09.getDayOfWeek() === 6 || $09.getDayOfWeek() === 0);
            };
            if ($09.getHours() >= this.businessBeginsHour) {
                return true;
            };
            if ($09.getHours() < this.businessEndsHour) {
                return true;
            };
            return false;
        };
        this.$6C = function(ev) {
            ev = ev || window.event;
            ev.insideMainD = true;
            if (window.event && window.event.srcElement) {
                window.event.srcElement.inside = true;
            };
            DayPilotCalendar.activeCalendar = this;
            var $2y = $c.nav.main;
            $c.coords = DayPilot.mo3($2y, ev);
            var $0L = DayPilot.mc(ev);
            var $29 = $c.crosshairType && $c.crosshairType !== "Disabled";
            var $2z = $c.coords.x < $c.hourWidth;
            if (DayPilot.Global.moving || DayPilot.Global.resizing || DayPilotCalendar.selecting || $2z) {
                $c.$4L();
            } else if ($29) {
                $c.$6V();
            };
            if (DayPilot.Global.resizing) {
                $c.$6W($0L);
            } else if (DayPilot.Global.moving) {
                if (!DayPilot.Global.moving.helper) {
                    DayPilotCalendar.movingShadow = null;
                    return;
                };
                if (!DayPilotCalendar.movingShadow) {
                    var $2A = 3;
                    if (DayPilot.distance($0L, DayPilotCalendar.originalMouse) > $2A) {
                        DayPilotCalendar.movingShadow = $c.$5b(DayPilot.Global.moving, !$c.$4t.ie, $c.shadow);
                        DayPilotCalendar.movingShadow.style.width = (DayPilotCalendar.movingShadow.parentNode.offsetWidth + 1) + 'px';
                    } else {
                        return;
                    }
                };
                if (!$c.coords) {
                    return;
                };
                var $2B = $c.cellHeight;
                var $I = 0;
                var $0T = DayPilotCalendar.moveOffsetY;
                if (!$0T) {
                    $0T = $2B / 2;
                };
                if (this.moveBy === "Top") {
                    $0T = 0;
                };
                var $2C = Math.floor((($c.coords.y - $0T - $I) + $2B / 2) / $2B) * $2B + $I;
                if ($2C < $I) {
                    $2C = $I;
                };
                var $G = $c.nav.main;
                var $N = $G.clientHeight;
                var $J = parseInt(DayPilotCalendar.movingShadow.style.height);
                if ($2C + $J > $N) {
                    $2C = $N - $J;
                };
                DayPilotCalendar.movingShadow.style.top = $2C + 'px';
                var $H = $G.clientWidth / $G.rows[0].cells.length;
                var $q = Math.floor(($c.coords.x) / $H);
                if ($q < 0) {
                    $q = 0;
                };
                if ($c.rtl) {
                    $q = $c.$5c.length - $q - 1;
                };
                var $15 = $c.nav.events;
                if ($q < $15.rows[0].cells.length && $q >= 0 && DayPilotCalendar.movingShadow.column !== $q) {
                    DayPilotCalendar.movingShadow.column = $q;
                    DayPilotCalendar.moveShadow($15.rows[0].cells[$q]);
                }
            };
            if (DayPilotCalendar.drag) {
                if (DayPilotCalendar.gShadow) {
                    document.body.removeChild(DayPilotCalendar.gShadow);
                };
                DayPilotCalendar.gShadow = null;
                if (!DayPilotCalendar.movingShadow && $c.coords) {
                    var $L = $c.$5b(DayPilotCalendar.drag, false, DayPilotCalendar.drag.shadowType);
                    if ($L) {
                        DayPilotCalendar.movingShadow = $L;
                        var $0K = DayPilot.Date.today();
                        var ev = {
                            'value': DayPilotCalendar.drag.id,
                            'start': $0K,
                            'end': $0K.addSeconds(DayPilotCalendar.drag.duration),
                            'text': DayPilotCalendar.drag.text
                        };
                        var event = new DayPilot.Event(ev, $c);
                        event.external = true;
                        DayPilot.Global.moving = {};
                        DayPilot.Global.moving.event = event;
                        DayPilot.Global.moving.helper = {};
                    }
                };
                ev.cancelBubble = true;
            }
        };
        this.$6X = function($L) {
            var top = DayPilotCalendar.movingShadow.offsetTop;
            var e = DayPilot.Global.moving.event;
            var $2D = DayPilotCalendar.movingShadow.column;
        };
        this.$6W = function($0L) {
            if (!DayPilot.Global.resizing.event) {
                DayPilot.Global.resizing = null;
                DayPilot.de(DayPilotCalendar.resizingShadow);
                DayPilotCalendar.resizingShadow = null;
                return;
            };
            if (!DayPilotCalendar.resizingShadow) {
                DayPilotCalendar.resizingShadow = $c.$5b(DayPilot.Global.resizing, false, $c.shadow);
            };
            var $2B = DayPilot.Global.resizing.event.calendar.cellHeight;
            var $I = 0;
            var $2E = ($0L.y - DayPilotCalendar.originalMouse.y);
            console.log(DayPilot.Global.resizing.dpBorder);
            if (DayPilot.Global.resizing.dpBorder === 'bottom') {
                var $2F = Math.floor(((DayPilotCalendar.originalHeight + DayPilotCalendar.originalTop + $2E) + $2B / 2) / $2B) * $2B - DayPilotCalendar.originalTop + $I;
                if ($2F < $2B) $2F = $2B;
                var $N = DayPilot.Global.resizing.event.calendar.nav.main.clientHeight;
                if (DayPilotCalendar.originalTop + $2F > $N) {
                    $2F = $N - DayPilotCalendar.originalTop;
                };
                DayPilotCalendar.resizingShadow.style.height = ($2F) + 'px';
            } else if (DayPilot.Global.resizing.dpBorder === 'top') {
                var $2C = Math.floor(((DayPilotCalendar.originalTop + $2E - $I) + $2B / 2) / $2B) * $2B + $I;
                if ($2C < $I) {
                    $2C = $I;
                };
                if ($2C > DayPilotCalendar.originalTop + DayPilotCalendar.originalHeight - $2B) {
                    $2C = DayPilotCalendar.originalTop + DayPilotCalendar.originalHeight - $2B;
                };
                var $2F = DayPilotCalendar.originalHeight - ($2C - DayPilotCalendar.originalTop);
                if ($2F < $2B) {
                    $2F = $2B;
                } else {
                    DayPilotCalendar.resizingShadow.style.top = $2C + 'px';
                };
                DayPilotCalendar.resizingShadow.style.height = ($2F) + 'px';
            }
        };
        this.$6Y = {};
        var $1E = this.$6Y;
        $1E.getWidth = function() {
            return $c.nav.top.offsetWidth;
        };
        $1E.getHeight = function() {
            return $c.nav.top.offsetHeight - DayPilot.sh($c.nav.scroll) - 1;
        };
        $1E.download = function(name) {
            var $2G = $1E.canvas();
            var name = name || "image.png";
            if (window.navigator.msSaveBlob) {
                var $2H = $2G.msToBlob();
                window.navigator.msSaveBlob($2H, name);
            } else {
                var link = document.createElement("a");
                link.download = name;
                link.href = $2G.toDataURL();
                link.click();
            }
        };
        $1E.getCanvas = function() {
            return $1E.canvas();
        };
        $1E.getRectangles = function() {
            var $2I = ($c.showHours ? $c.hourWidth : 0);
            var $2J = $c.$5k();
            var $2K = {};
            $2K.main = {
                "x": 0,
                "y": 0,
                "w": $1E.getWidth(),
                "h": $1E.getHeight()
            };
            $2K.corner = {
                "x": 0,
                "y": 0,
                "w": $2I,
                "h": $2J
            };
            $2K.grid = {
                "x": $2I,
                "y": $2J,
                "w": $1E.getWidth() - $2I,
                "h": $1E.getHeight() - $2J
            };
            return $2K;
        };
        $1E.fakeDurationBar = function() {
            var $d = document.createElement("div");
            $d.style.display = "none";
            $d.className = $c.$5d("_event");
            var $1M = document.createElement("div");
            $1M.className = $c.$5d("_event_bar");
            var $M = document.createElement("div");
            $M.className = $c.$5d("_event_bar_inner");
            document.body.appendChild($d);
            $1M.appendChild($M);
            $d.appendChild($1M);
            return $d;
        };
        $1E.fakeCell = function() {
            var $d = document.createElement("div");
            $d.style.display = "none";
            $d.className = $c.$5d("_cell");
            var $M = document.createElement("div");
            $M.className = $c.$5d("_cell_inner");
            document.body.appendChild($d);
            $d.appendChild($M);
            return $d;
        };
        $1E.extractUrl = function($2L) {
            var $s = /url\((.*)\)/.exec($2L);
            return $s[1];
        };
        $1E.getImages = function() {
            var $u = {};
            var $r = $1E.fakeExpand();
            $u.expand = $1E.extractUrl(new DayPilot.StyleReader($r).get("background-image"));
            $r.className = $c.$5d("_tree_image_collapse");
            $u.collapse = $1E.extractUrl(new DayPilot.StyleReader($r).get("background-image"));
            $r.className = $c.$5d("_tree_image_no_children");
            $u.nochildren = $1E.extractUrl(new DayPilot.StyleReader($r).get("background-image"));
            DayPilot.de($r);
            return $u;
        };
        $1E.canvas = function() {
            var $2K = $1E.getRectangles();
            var $2G = new DayPilot.Canvas($2K.main.w, $2K.main.h);
            console.log($2K);
            var $1J = new DayPilot.StyleReader($c.nav.top).get("border-color");
            var $2M = new DayPilot.StyleReader($c.nav.header.rows[0].cells[0].firstChild.firstChild).get("border-bottom-color");
            $2G.rect($2K.main, $1J);
            $2G.line($2K.grid.x, 0, $2K.grid.x, $2K.main.h, $2M);
            $2G.line(0, $2K.grid.y, $2K.main.w, $2K.grid.y, $2M);
            return $2G.getCanvasElement();
        };
        this.temp = {};
        this.temp.getPosition = function() {
            var $2N = $c.$6Z.getCellCoords();
            if (!$2N) {
                return null;
            };
            var $q = $c.$5c[$2N.x];
            var $f = {};
            $f.resource = $q.id;
            $f.start = new DayPilot.Date($q.start).addHours($c.$5j(true)).addMinutes($2N.y * $c.cellDuration);
            $f.end = $f.start.addMinutes($c.cellDuration);
            return $f;
        };
        this.temp.img = $c.$6Y;
        this.$6Z = {};
        this.$6Z.getCellCoords = function() {
            var $u = {};
            $u.x = 0;
            $u.y = 0;
            if (!$c.coords) {
                return null;
            };
            var $G = $c.nav.main;
            var $2O = $c.coords.x;
            var i = 0;
            var $1Q = this.col($G, i);
            while ($1Q && $2O > $1Q.left) {
                i += 1;
                $1Q = this.col($G, i);
            };
            $u.x = i - 1;
            var $I = 0;
            var $23 = Math.floor(($c.coords.y - $I) / $c.cellHeight);
            $u.y = $23;
            if ($u.x < 0) {
                return null;
            };
            return $u;
        };
        this.$6Z.col = function($28, x) {
            var $u = {};
            $u.left = 0;
            $u.width = 0;
            if (!$28) {
                return null;
            };
            if (!$28.rows) {
                return null;
            };
            if ($28.rows.length === 0) {
                return null;
            };
            if ($28.rows[0].cells.length == 0) {
                return null;
            };
            var $f = $28.rows[0].cells[x];
            if (!$f) {
                return null;
            };
            var t = DayPilot.abs($28);
            var c = DayPilot.abs($f);
            $u.left = c.x - t.x;
            $u.width = $f.offsetWidth;
            return $u;
        };
        this.$6V = function() {
            this.$4L();
            if (!this.elements.crosshair) {
                this.elements.crosshair = [];
            };
            var $2P = this.$6Z.getCellCoords();
            if (!$2P) {
                return;
            };
            var $q = $2P.x;
            var y = Math.floor($2P.y / (60 / $c.cellDuration) * (60 / $c.timeHeaderCellDuration));
            if (y < 0) {
                return;
            };
            if (this.nav.hourTable) {
                if (y >= this.nav.hourTable.rows.length) {
                    return;
                };
                var $2Q = document.createElement("div");
                $2Q.style.position = "absolute";
                $2Q.style.left = "0px";
                $2Q.style.right = "0px";
                $2Q.style.top = "0px";
                $2Q.style.bottom = "0px";
                $2Q.style.opacity = .5;
                $2Q.style.backgroundColor = this.crosshairColor;
                $2Q.style.opacity = this.crosshairOpacity / 100;
                $2Q.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
                this.nav.hourTable.rows[y].cells[0].firstChild.appendChild($2Q);
                this.elements.crosshair.push($2Q);
            };
            if (this.nav.header) {
                var $2R = document.createElement("div");
                $2R.style.position = "absolute";
                $2R.style.left = "0px";
                $2R.style.right = "0px";
                $2R.style.top = "0px";
                $2R.style.bottom = "0px";
                $2R.style.opacity = .5;
                $2R.style.backgroundColor = this.crosshairColor;
                $2R.style.opacity = this.crosshairOpacity / 100;
                $2R.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
                var $23 = this.nav.header.rows[this.headerLevels - 1];
                if ($23.cells[$q]) {
                    $23.cells[$q].firstChild.appendChild($2R);
                    this.elements.crosshair.push($2R);
                }
            };
            if (this.crosshairType === "Header") {
                return;
            };
            var $2S = this.nav.crosshair;
            var $I = 0;
            var top = Math.floor((($c.coords.y - $I)) / $c.cellHeight) * $c.cellHeight + $I;
            var $J = $c.cellHeight;
            var $2T = document.createElement("div");
            $2T.style.position = "absolute";
            $2T.style.left = "0px";
            $2T.style.right = "0px";
            $2T.style.top = top + "px";
            $2T.style.height = $J + "px";
            $2T.style.backgroundColor = this.crosshairColor;
            $2T.style.opacity = this.crosshairOpacity / 100;
            $2T.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
            $2T.onmousedown = this.$70;
            $2S.appendChild($2T);
            this.elements.crosshair.push($2T);
            var $1Q = this.$6Z.col(this.nav.main, $q);
            $J = this.nav.main.clientHeight;
            if ($1Q) {
                var $2U = document.createElement("div");
                $2U.style.position = "absolute";
                $2U.style.left = $1Q.left + "px";
                $2U.style.width = $1Q.width + "px";
                $2U.style.top = "0px";
                $2U.style.height = $J + "px";
                $2U.style.backgroundColor = this.crosshairColor;
                $2U.style.opacity = this.crosshairOpacity / 100;
                $2U.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
                $2U.onmousedown = this.$70;
                $2S.appendChild($2U);
                this.elements.crosshair.push($2U);
            }
        };
        this.$70 = function(ev) {
            $c.$4L();
            var $2P = $c.$6Z.getCellCoords();
            var $2V = 0;
            var $f = $c.nav.main.rows[$2P.y + $2V].cells[$2P.x];
            $c.$5P.apply($f, [ev]);
        };
        this.$4L = function() {
            if (!this.elements.crosshair || this.elements.crosshair.length === 0) {
                return;
            };
            for (var i = 0; i < this.elements.crosshair.length; i++) {
                var e = this.elements.crosshair[i];
                if (e && e.parentNode) {
                    e.parentNode.removeChild(e);
                }
            };
            this.elements.crosshair = [];
        };
        this.$4S = function() {
            if (!this.cellConfig) {
                return;
            };
            var $2W = this.cellConfig;
            if ($2W.vertical) {
                for (var x = 0; x < $2W.x; x++) {
                    var $2X = this.cellProperties[x + "_0"];
                    for (var y = 1; y < $2W.y; y++) {
                        this.cellProperties[x + "_" + y] = $2X;
                    }
                }
            };
            if ($2W.horizontal) {
                for (var y = 0; y < $2W.y; y++) {
                    var $2X = this.cellProperties["0_" + y];
                    for (var x = 1; x < $2W.x; x++) {
                        this.cellProperties[x + "_" + y] = $2X;
                    }
                }
            };
            if ($2W["default"]) {
                var $2X = $2W["default"];
                for (var y = 0; y < $2W.y; y++) {
                    for (var x = 0; x < $2W.x; x++) {
                        if (!this.cellProperties[x + "_" + y]) {
                            this.cellProperties[x + "_" + y] = $2X;
                        }
                    }
                }
            }
        };
        this.$6T = function(x, y) {
            if (!this.cellProperties) {
                return null;
            };
            return this.cellProperties[x + "_" + y];
        };
        this.$71 = function(x, y) {
            var $2e = x + '_' + y;
            if (this.cellProperties && this.cellProperties[$2e]) {
                return this.cellProperties[$2e].business;
            };
            return false;
        };
        this.$6U = function(x, y) {
            var $2e = x + '_' + y;
            if (this.cellProperties && this.cellProperties[$2e]) {
                return this.cellProperties[$2e].backColor;
            };
            return null;
        };
        this.$4G = function() {
            var $28 = this.nav.header;
            if ($28 && $28.rows) {
                for (var y = 0; y < $28.rows.length; y++) {
                    var r = $28.rows[y];
                    for (var x = 0; x < r.cells.length; x++) {
                        var c = r.cells[x];
                        c.onclick = null;
                        c.onmousemove = null;
                        c.onmouseout = null;
                    }
                }
            };
            if (!this.$4p) DayPilot.pu($28);
        };
        this.$72 = function($1k, $2b) {
            var r = ($2b) ? this.nav.header.insertRow(-1) : this.nav.header.rows[$1k - 1];
            var $0f = this.$6i($1k);
            var $2Y = $0f.length;
            var $2Z = ($1k === $c.headerLevels);
            for (var i = 0; i < $2Y; i++) {
                var $h = $0f[i];
                if ($c.$5a()) {
                    if (typeof $c.onBeforeHeaderRender === 'function') {
                        var $n = {};
                        $n.header = {};
                        DayPilot.Util.copyProps($h, $n.header, ['id', 'start', 'name', 'html', 'backColor', 'toolTip', 'areas', 'children']);
                        this.onBeforeHeaderRender($n);
                        DayPilot.Util.copyProps($n.header, $h, ['html', 'backColor', 'toolTip', 'areas']);
                    }
                };
                var $30 = $h.getChildren ? true : false;
                var $f = ($2b) ? r.insertCell(-1) : r.cells[i];
                $f.data = $h;
                if ($2Z) {} else {
                    var $31 = 1;
                    if ($30) {
                        $31 = $h.getChildrenCount($c.headerLevels - $1k + 1);
                    };
                    $f.colSpan = $31;
                };
                if ($30) {
                    $f.onclick = this.$5u;
                    $f.onmousemove = this.$5v;
                    $f.onmouseout = this.$5w;
                    if ($h.toolTip) {
                        $f.title = $h.toolTip;
                    }
                };
                $f.style.overflow = 'hidden';
                $f.style.padding = '0px';
                $f.style.border = '0px none';
                $f.style.height = ($0e.headerHeight()) + "px";
                if (!this.cssOnly) {
                    $f.style.borderLeft = "0px none";
                    if (i !== $2Y - 1) {
                        $f.style.borderRight = "1px solid " + this.borderColor;
                    }
                };
                var $d = ($2b) ? document.createElement("div") : $f.firstChild;
                if ($2b) {
                    $d.setAttribute("unselectable", "on");
                    $d.style.MozUserSelect = 'none';
                    $d.style.KhtmlUserSelect = 'none';
                    $d.style.WebkitUserSelect = 'none';
                    $d.style.position = 'relative';
                    $d.style.height = $0e.headerHeight() + "px";
                    if (!this.cssOnly) {
                        $d.className = $c.$5d('colheader');
                        $d.style.cursor = 'default';
                        $d.style.fontFamily = this.headerFontFamily;
                        $d.style.fontSize = this.headerFontSize;
                        $d.style.color = this.headerFontColor;
                        $d.style.backgroundColor = $h.backColor;
                        $d.style.textAlign = 'center';
                        var $2h = document.createElement("div");
                        $2h.style.position = 'absolute';
                        $2h.style.left = '0px';
                        $2h.style.right = '0px';
                        $2h.style.top = "0px";
                        $2h.style.bottom = "0px";
                        $2h.style.padding = "2px";
                        $2h.setAttribute("unselectable", "on");
                        if ($1k !== 1) {
                            $2h.style.borderTop = '1px solid ' + this.borderColor;
                        };
                        if (this.headerClickHandling !== "Disabled") {
                            $2h.style.cursor = 'pointer';
                        };
                        $d.appendChild($2h);
                    } else {
                        $d.className = $c.$5d('_colheader');
                        var $M = document.createElement("div");
                        $M.className = $c.$5d('_colheader_inner');
                        if ($h.backColor) {
                            $M.style.background = $h.backColor;
                        };
                        $d.appendChild($M);
                    };
                    $f.appendChild($d);
                } else {
                    $d.style.height = $0e.headerHeight() + "px";
                };
                this.$73($d, $h);
                if ($30) {
                    $d.firstChild.innerHTML = $h.html;
                }
            }
        };
        this.$73 = function($d, $h) {
            var $32 = [];
            for (var j = 0; j < $d.childNodes.length; j++) {
                var $r = $d.childNodes[j];
                if ($r.isActiveArea) {
                    $32.push($r);
                }
            };
            for (var j = 0; j < $32.length; j++) {
                var $r = $32[j];
                DayPilot.de($r);
            };
            if ($h.areas) {
                var $1u = $h.areas;
                for (var j = 0; j < $1u.length; j++) {
                    var $1O = $1u[j];
                    if ($1O.v !== 'Visible') {
                        continue;
                    };
                    var o = new DayPilotCalendar.Column($h.id, $h.name, $h.start);
                    var a = DayPilot.Areas.createArea($d, o, $1O);
                    $d.appendChild(a);
                }
            }
        };
        this.$4V = function() {
            if (!this.showHeader) {
                return;
            };
            var $1t = this.nav.header;
            var $2b = true;
            var $0f = this.$6i($c.headerLevels, true);
            var $2Y = $0f.length;
            if (this.$74 && $c.$4t.ielt9 && $2b) {
                DayPilot.de(this.nav.header);
                this.$6O();
            }
            while (this.$74 && $1t && $1t.rows && $1t.rows.length > 0 && $2b) {
                if (!this.$4p) DayPilot.pu($1t.rows[0]);
                $1t.deleteRow(0);
            };
            this.$74 = true;
            var $S = $c.cornerHTML || $c.cornerHtml;
            var $2n = $c.nav.corner;
            if ($2n) {
                if (!this.$4p) DayPilot.pu($2n.firstChild);
                $2n.firstChild.innerHTML = $S ? $S : '';
            };
            for (var i = 0; i < $c.headerLevels; i++) {
                this.$72(i + 1, $2b);
            };
            if (!this.showAllDayEvents) {
                return;
            };
            var r = ($2b) ? this.nav.header.insertRow(-1) : this.nav.header.rows[$c.headerLevels];
            for (var i = 0; i < $2Y; i++) {
                var $h = $0f[i];
                var $f = ($2b) ? r.insertCell(-1) : r.cells[i];
                $f.data = $h;
                $f.style.padding = '0px';
                $f.style.border = '0px none';
                $f.style.overflow = 'hidden';
                if (!this.cssOnly) {
                    $f.style.lineHeight = '1.2';
                };
                var $d = ($2b) ? document.createElement("div") : $f.firstChild;
                if ($2b) {
                    $d.setAttribute("unselectable", "on");
                    $d.style.MozUserSelect = 'none';
                    $d.style.KhtmlUserSelect = 'none';
                    $d.style.WebkitUserSelect = 'none';
                    $d.style.overflow = 'hidden';
                    $d.style.position = "relative";
                    $d.style.height = $0e.allDayHeaderHeight() + "px";
                    if (!this.cssOnly) {
                        $d.className = this.$5d("alldayheader");
                        $d.style.textAlign = 'center';
                        $d.style.backgroundColor = $h.backColor;
                        $d.style.cursor = 'default';
                        var $2h = document.createElement("div");
                        $2h.style.position = "absolute";
                        $2h.style.left = '0px';
                        $2h.style.right = '0px';
                        $2h.style.top = "0px";
                        $2h.style.bottom = "0px";
                        $2h.setAttribute("unselectable", "on");
                        $2h.style.borderTop = '1px solid ' + this.borderColor;
                        $d.appendChild($2h);
                        if ($c.rtl) {
                            if (i === $2Y - 1) {
                                $2h.style.borderLeft = "1px solid " + $h.backColor;
                            } else {
                                $2h.style.borderLeft = "1px solid " + this.borderColor;
                            }
                        } else {
                            if (i !== $2Y - 1) {
                                $2h.style.borderRight = "1px solid " + this.borderColor;
                            }
                        }
                    } else {
                        $d.className = this.$5d("_alldayheader");
                        var $M = document.createElement("div");
                        $M.className = this.$5d("_alldayheader_inner");
                        $d.appendChild($M);
                    };
                    $f.appendChild($d);
                };
                $d.style.height = $0e.allDayHeaderHeight() + "px";
            }
        };
        this.$4z = function() {
            if (this.loadingLabelVisible && this.nav.loading) {
                this.nav.loading.innerHTML = this.loadingLabelText;
                this.nav.loading.style.top = (this.$5k() + 5) + "px";
                this.nav.loading.style.display = '';
            }
        };
        this.$4O = function() {
            if (this.callbackTimeout) {
                window.clearTimeout(this.callbackTimeout);
            };
            if (this.nav.loading) {
                this.nav.loading.style.display = 'none';
            }
        };
        this.$6Q = function() {
            var $22 = this.$5W();
            var $33 = this.initScrollPos;
            if (!$33) {
                var $2g = this.businessBeginsHour;
                $33 = $2g * (60 / $c.cellDuration) * $c.cellHeight;
            };
            $22.root = this;
            $22.onscroll = this.$5U;
            if ($22.scrollTop === 0) {
                $22.scrollTop = $33 - this.$5Z();
            } else {
                this.$5U();
            }
        };
        this.$75 = function() {
            var el = $c.nav.top;
            return el.offsetWidth > 0 && el.offsetHeight > 0;
        };
        this.$76 = function() {
            var $1i = $c.$75;
            if (!$1i()) {
                $c.$77 = setInterval(function() {
                    if ($1i()) {
                        $c.$6Q();
                        $c.$52();
                        clearInterval($c.$77);
                    }
                }, 100);
            }
        };
        this.scrollToY = function($1H) {
            var $22 = this.$5W();
            $22.scrollTop = $1H;
        };
        this.scrollToHour = function($2g) {
            var $22 = this.$5W();
            var $1H = $2g * (60 / $c.cellDuration) * $c.cellHeight;
            $22.scrollTop = $1H - this.$5Z();
        };
        this.$5W = function() {
            var $0Q = this.columnWidthSpec === 'Fixed';
            return $0Q || this.$5V ? this.nav.bottomRight : this.nav.scroll;
        };
        this.onCallbackError = function($u, $v) {
            alert("Error!\r\nResult: " + $u + "\r\nContext:" + $v);
        };
        this.$52 = function() {
            if (!$c.showHeader) {
                return;
            };
            var $34 = this.$6M();
            var $1i = !!this.nav.cornerRight;
            if (this.$5V) {
                if (this.nav.unifiedCornerRight) {
                    DayPilot.de(this.nav.unifiedCornerRight);
                };
                var $35 = this.$6F();
                if ($35 != "100%" && parseInt($35) < this.$5W().clientWidth) {
                    return;
                };
                var w = DayPilot.sw(this.nav.bottomRight);
                this.nav.unifiedCornerRight = this.nav.header.rows[0].insertCell(-1);
                var c = this.nav.unifiedCornerRight;
                c.rowSpan = this.nav.header.rows.length;
                c.style.width = w + "px";
                var $2n = document.createElement("div");
                $2n.setAttribute("unselectable", "on");
                if (this.cssOnly) {
                    $2n.className = this.$5d('_cornerright');
                };
                $2n.style.overflow = "hidden";
                $2n.style.height = this.$5k() + "px";
                $2n.style.position = "relative";
                var $M = document.createElement("div");
                if (this.cssOnly) {
                    $M.className = this.$5d('_cornerright_inner');
                };
                $2n.appendChild($M);
                c.appendChild($2n);
                var $36 = this.columnWidthSpec === "Fixed";
                if (!$36 && this.nav.allday) {
                    this.nav.allday.style.right = w + "px";
                };
                return;
            };
            if ($34 !== $1i) {
                if ($34) {
                    this.$6P();
                } else {
                    if (this.nav.fullHeader && this.nav.fullHeader.rows[0].cells.length === 3) {
                        var c = this.nav.fullHeader.rows[0].cells[2];
                        if (c.parentNode) {
                            c.parentNode.removeChild(c);
                        }
                    };
                    this.nav.cornerRight = null;
                }
            };
            var d = this.nav.cornerRight;
            if (!d) {
                return;
            };
            var w = DayPilot.sw($c.$5l());
            if (!this.cssOnly) {
                if (w >= 3) {
                    d.style.width = (w - 3) + 'px';
                }
            } else {
                if (d) {
                    d.style.width = (w) + 'px';
                }
            };
            return w;
        };
        this.$59 = function($37) {
            if ($37) {
                this.autoRefreshEnabled = true;
            };
            if (!this.autoRefreshEnabled) {
                return;
            };
            if (this.$4s >= this.autoRefreshMaxCount) {
                return;
            };
            this.$4D();
            var $38 = this.autoRefreshInterval;
            if (!$38 || $38 < 10) {
                throw "The minimum autoRefreshInterval is 10 seconds";
            };
            this.autoRefreshTimeout = window.setTimeout(function() {
                $c.$78();
            }, this.autoRefreshInterval * 1000);
        };
        this.$4D = function() {
            if (this.autoRefreshTimeout) {
                window.clearTimeout(this.autoRefreshTimeout);
            }
        };
        this.$78 = function() {
            if (!DayPilot.Global.resizing && !DayPilot.Global.moving && !DayPilotCalendar.drag && !DayPilotCalendar.selecting) {
                var $39 = false;
                if (typeof this.onAutoRefresh === 'function') {
                    var $n = {};
                    $n.i = this.$4s;
                    $n.preventDefault = function() {
                        this.preventDefault.value = true;
                    };
                    $c.onAutoRefresh($n);
                    if ($n.preventDefault.value) {
                        $39 = true;
                    }
                };
                if (!$39 && this.$4y()) {
                    this.commandCallBack(this.autoRefreshCommand);
                };
                this.$4s++;
            };
            if (this.$4s < this.autoRefreshMaxCount) {
                this.autoRefreshTimeout = window.setTimeout(function() {
                    $c.$78();
                }, this.autoRefreshInterval * 1000);
            }
        };
        this.$4H = function() {
            $c.$51();
            if ($c.heightSpec === "Parent100Pct") {
                $c.setHeight(parseInt($c.nav.top.clientHeight, 10));
            };
            $c.$58();
        };
        this.$79 = function() {
            if (!DayPilotCalendar.globalHandlers) {
                DayPilotCalendar.globalHandlers = true;
                DayPilot.re(document, 'mousemove', DayPilotCalendar.gMouseMove);
                DayPilot.re(document, 'mouseup', DayPilotCalendar.gMouseUp);
                DayPilot.re(document, DayPilot.touch.move, DayPilotCalendar.gTouchMove);
                DayPilot.re(document, DayPilot.touch.end, DayPilotCalendar.gTouchEnd);
            };
            DayPilot.re(window, 'resize', this.$4H);
        };
        this.$6q = function(ev) {
            if ($0G.active || $0G.using) {
                return;
            };
            ev = ev || window.event;
            var $0H = DayPilot.Util.mouseButton(ev);
            if (typeof(DayPilotBubble) !== 'undefined') {
                DayPilotBubble.hideActive();
            };
            if ((this.style.cursor === 'n-resize' || this.style.cursor === 's-resize') && $0H.left) {
                DayPilot.Global.resizing = this;
                DayPilotCalendar.originalMouse = DayPilot.mc(ev);
                DayPilotCalendar.originalHeight = this.offsetHeight;
                DayPilotCalendar.originalTop = this.offsetTop;
                $c.nav.top.style.cursor = this.style.cursor;
            } else if ((this.style.cursor === 'move' || ($c.moveBy === 'Full' && this.event.client.moveEnabled())) && $0H.left) {
                DayPilot.Global.moving = this;
                var $3a = DayPilot.Global.moving.helper = {};
                $3a.oldColumn = $c.$5c[this.event.part.dayIndex].id;
                DayPilotCalendar.originalMouse = DayPilot.mc(ev);
                DayPilotCalendar.originalTop = this.offsetTop;
                var $0T = DayPilot.mo3(this, ev);
                if ($0T) {
                    DayPilotCalendar.moveOffsetY = $0T.y;
                } else {
                    DayPilotCalendar.moveOffsetY = 0;
                };
                $c.nav.top.style.cursor = this.style.cursor;
            };
            return false;
        };
        this.$7a = function(i) {
            var $1I = this.$4o.events;
            var $h = this.events.list[i];
            var $3b = {};
            for (var name in $h) {
                $3b[name] = $h[name];
            };
            if ($c.showEventStartEnd) {
                var $3c = $h.start.getDatePart().getTime() === $h.end.getDatePart().getTime();
                var $1j = $3c ? $0e.locale().timePattern : $0e.locale().dateTimePattern;
                var $3d = $h.start.toString($1j);
                var $3e = $h.end.toString($1j);
                $3b.html = $3b.text + " (" + $3d + " - " + $3e + ")";
            };
            if (typeof this.onBeforeEventRender === 'function') {
                var $n = {};
                $n.e = $3b;
                $n.data = $3b;
                this.onBeforeEventRender($n);
            };
            $1I[i] = $3b;
        };
        this.$6r = {};
        var $0G = $c.$6r;
        $0G.active = false;
        $0G.start = null;
        $0G.timeout = null;
        $0G.startcell = null;
        this.$6r.getCellCoords = function(ev) {
            var x, y;
            if (ev.touches) {
                x = ev.touches[0].pageX;
                y = ev.touches[0].pageY;
            } else {
                x = ev.pageX;
                y = ev.pageY;
            };
            var $3f = DayPilot.abs($c.nav.main);
            var $3g = {
                x: x - $3f.x,
                y: y - $3f.y
            };
            var w = ($c.nav.main.clientWidth / $c.$5c.length);
            var $2N = {
                "pageX": x,
                "pageY": y,
                "x": Math.floor($3g.x / w),
                "y": Math.floor($3g.y / $c.cellHeight),
                "toString": function() {
                    return "x: " + this.x + " y:" + this.y;
                }
            };
            return $2N;
        };
        this.$6r.startSelecting = function($2N) {
            var $f = $c.nav.main.rows[$2N.y].cells[$2N.x];
            $0G.startcell = $2N;
            $c.clearSelection();
            DayPilotCalendar.column = DayPilotCalendar.getColumn($f);
            $c.selectedCells.push($f);
            DayPilotCalendar.firstSelected = $f;
            DayPilotCalendar.topSelectedCell = $f;
            DayPilotCalendar.bottomSelectedCell = $f;
            $c.$5Q();
        };
        this.$6r.extendSelection = function($2N) {
            var $f = $c.nav.main.rows[$2N.y].cells[$2N.x];
            $c.clearSelection();
            if ($2N.y < $0G.startcell.y) {
                $c.selectedCells = DayPilotCalendar.getCellsBelow($f);
                DayPilotCalendar.topSelectedCell = $c.selectedCells[0];
                DayPilotCalendar.bottomSelectedCell = DayPilotCalendar.firstSelected;
            } else {
                $c.selectedCells = DayPilotCalendar.getCellsAbove($f);
                DayPilotCalendar.topSelectedCell = DayPilotCalendar.firstSelected;
                DayPilotCalendar.bottomSelectedCell = $c.selectedCells[0];
            };
            $c.$5Q();
        };
        this.$6r.onMainTouchStart = function(ev) {
            if (DayPilot.Util.isMouseEvent(ev)) {
                return;
            };
            if ($0G.active) {
                return;
            };
            if (ev.touches.length > 1) {
                return;
            };
            $0G.using = true;
            var $2N = $0G.getCellCoords(ev);
            $0G.startCoords = $2N;
            var $3h = $c.tapAndHoldTimeout;
            $0G.timeout = window.setTimeout(function() {
                ev.preventDefault();
                $0G.active = true;
                switch ($c.timeRangeTapAndHoldHandling) {
                    case "Select":
                        $0G.startSelecting($2N);
                        break;
                    case "ContextMenu":
                        $0G.startSelecting($2N);
                        $0G.active = false;
                        if ($c.contextMenuSelection) {
                            $c.contextMenuSelection.show($c.getSelection());
                        };
                        break;
                }
            }, $3h);
        };
        this.$6r.onCellTouchMove = function(ev) {};
        this.$6r.onCellTouchEnd = function(ev) {
            if (!$0G.active) {
                window.clearTimeout($0G.timeout);
                return;
            };
            ev.preventDefault();
            $0G.startcell = null;
            var $0P = $c.getSelection();
            $0P.toString = function() {
                return "start: " + this.start + "\nend: " + this.end;
            };
            $c.$5J($0P.start, $0P.end, $0P.resource);
            window.setTimeout(function() {
                $0G.active = false;
            }, 500);
        };
        this.$6r.startMoving = function($d, $2N) {
            DayPilot.Global.moving = $d;
            var $3a = DayPilot.Global.moving.helper = {};
            $3a.oldColumn = $c.$5c[$d.event.part.dayIndex].id;
            DayPilotCalendar.originalMouse = $2N;
            DayPilotCalendar.originalTop = this.offsetTop;
            var $3f = DayPilot.abs($d);
            DayPilotCalendar.moveOffsetY = $2N.y - $3f.y;
            if (!DayPilotCalendar.movingShadow) {
                DayPilotCalendar.movingShadow = $c.$5b(DayPilot.Global.moving, !$c.$4t.ie, $c.shadow);
                DayPilotCalendar.movingShadow.style.width = (DayPilotCalendar.movingShadow.parentNode.offsetWidth + 1) + 'px';
            }
        };
        this.$6r.startResizing = function($d, $0i, $2N) {
            DayPilot.Global.resizing = $d;
            $d.dpBorder = $0i;
            DayPilotCalendar.originalMouse = $2N;
            DayPilotCalendar.originalHeight = $d.offsetHeight;
            DayPilotCalendar.originalTop = $d.offsetTop;
        };
        this.$6r.updateResizing = function($2N) {
            $c.$6W($2N);
        };
        this.$6r.updateMoving = function() {
            var $2N = $c.coords;
            var $2B = $c.cellHeight;
            var $I = 0;
            var $0T = DayPilotCalendar.moveOffsetY;
            if (!$0T) {
                $0T = $2B / 2;
            };
            var $2C = Math.floor((($2N.y - $0T - $I) + $2B / 2) / $2B) * $2B + $I;
            if ($2C < $I) {
                $2C = $I;
            };
            var $G = $c.nav.main;
            var $N = $G.clientHeight;
            var $J = parseInt(DayPilotCalendar.movingShadow.style.height);
            if ($2C + $J > $N) {
                $2C = $N - $J;
            };
            DayPilotCalendar.movingShadow.style.top = $2C + 'px';
            var $H = $G.clientWidth / $G.rows[0].cells.length;
            var $q = Math.floor($2N.x / $H);
            if ($q < 0) {
                $q = 0;
            };
            var $15 = $c.nav.events;
            if ($q < $15.rows[0].cells.length && $q >= 0 && DayPilotCalendar.movingShadow.column !== $q) {
                DayPilotCalendar.movingShadow.column = $q;
                DayPilotCalendar.moveShadow($15.rows[0].cells[$q]);
            }
        };
        this.$6r.onEventTouchStart = function(ev) {
            if ($0G.active) {
                return;
            };
            if (DayPilot.Util.isMouseEvent(ev)) {
                return;
            };
            ev.stopPropagation();
            $0G.preventEventTap = false;
            $0G.using = true;
            $0G.startCoords = $0G.getCellCoords(ev);
            var $d = this;
            var x = ev.touches ? ev.touches[0].pageX : ev.pageX;
            var y = ev.touches ? ev.touches[0].pageY : ev.pageY;
            var $2N = {
                x: x,
                y: y,
                $d: this
            };
            $c.coords = $0G.relativeCoords(ev);
            var $3h = $c.tapAndHoldTimeout;
            $0G.timeout = window.setTimeout(function() {
                var e = $d.event;
                $0G.active = true;
                switch ($c.eventTapAndHoldHandling) {
                    case "Move":
                        if (e.client.moveEnabled()) {
                            $0G.startMoving($d, $2N);
                        };
                        break;
                    case "ContextMenu":
                        var $06 = e.client.contextMenu();
                        if (DayPilot.Menu) {
                            DayPilot.Menu.touchPosition(ev);
                        };
                        if ($06) {
                            $06.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(e);
                            }
                        };
                        break;
                }
            }, $3h);
        };
        this.$6r.onMainTouchMove = function(ev) {
            if (DayPilot.Util.isMouseEvent(ev)) {
                return;
            };
            if ($0G.timeout) {
                var $2N = $0G.getCellCoords(ev);
                if ($2N && $0G.startCoords) {
                    if ($2N.pageX !== $0G.startCoords.pageX || $2N.pageY !== $0G.startCoords.pageY) {
                        window.clearTimeout($c.$6r.timeout);
                    }
                }
            };
            if (DayPilot.Global.moving && DayPilotCalendar.movingShadow) {
                ev.preventDefault();
                $c.coords = $0G.relativeCoords(ev);
                $0G.updateMoving();
                return;
            } else if (DayPilot.Global.resizing) {
                ev.preventDefault();
                var t = ev.touches ? ev.touches[0] : ev;
                var $2N = {
                    x: t.pageX,
                    y: t.pageY
                };
                $0G.updateResizing($2N);
                return;
            } else if ($0G.startcell) {
                ev.preventDefault();
                if (!$0G.active) {
                    window.clearTimeout($0G.timeout);
                    return;
                };
                var $2N = $0G.getCellCoords(ev);
                $0G.extendSelection($2N);
            };
            $0G.preventEventTap = true;
        };
        this.$6r.relativeCoords = function(ev) {
            var $2y = $c.nav.main;
            var x = ev.touches ? ev.touches[0].pageX : ev.pageX;
            var y = ev.touches ? ev.touches[0].pageY : ev.pageY;
            var $3f = DayPilot.abs($2y);
            var $2N = {
                x: x - $3f.x,
                y: y - $3f.y,
                "toString": function() {
                    return "x: " + this.x + ", y:" + this.y;
                }
            };
            return $2N;
        };
        this.$6r.onMainTouchEnd = function(ev) {
            if (DayPilot.Util.isMouseEvent(ev)) {
                return;
            };
            if (DayPilot.Global.moving) {
                $0G.active = false;
                ev.preventDefault();
                ev.stopPropagation();
                var top = DayPilotCalendar.movingShadow.offsetTop;
                DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);
                var $3i = DayPilot.Global.moving.event;
                var $0q = DayPilotCalendar.movingShadow.column;
                DayPilot.Global.moving = null;
                DayPilotCalendar.movingShadow = null;
                $3i.calendar.$5C($3i, $0q, top, ev, DayPilotCalendar.drag);
            } else if ($0G.startcell) {
                if (!$0G.active) {
                    window.clearTimeout($0G.timeout);
                    return;
                };
                ev.preventDefault();
                $0G.startcell = null;
                var $0P = $c.getSelection();
                $0P.toString = function() {
                    return "start: " + this.start + "\nend: " + this.end;
                };
                $c.$5J($0P.start, $0P.end, $0P.resource);
                window.setTimeout(function() {
                    $0G.active = false;
                }, 500);
            }
        };
        this.$6r.onEventTouchMove = function(ev) {
            $0G.preventEventTap = true;
        };
        this.$6r.onEventTouchEnd = function(ev) {
            if (DayPilot.Util.isMouseEvent(ev)) {
                return;
            };
            if (!$0G.active) {
                if ($0G.preventEventTap) {
                    return;
                };
                ev.preventDefault();
                window.clearTimeout($0G.timeout);
                $c.$5p(this, false);
                return;
            };
            $0G.active = false;
            if ($0G.timeout) {
                window.clearTimeout($0G.timeout);
                return;
            };
            ev.preventDefault();
        };
        this.$6o = function(ev) {
            var $3j = 5;
            var $3k = Math.max($c.durationBarWidth, 10);
            var w = 5;
            var $1t = ($c.moveBy === 'Top');
            if (typeof(DayPilotCalendar) === 'undefined') {
                return;
            };
            var $0T = DayPilot.mo3(this, ev);
            if (!$0T) {
                return;
            };
            var $d = this;
            if (!$d.active) {
                var $1u = [];
                if ($d.event.client.deleteEnabled()) {
                    $1u.push({
                        "action": "JavaScript",
                        "v": "Hover",
                        "w": 17,
                        "h": 17,
                        "top": 2,
                        "right": 2,
                        "css": $c.$5d("_event_delete"),
                        "js": function(e) {
                            $c.$5x(e);
                        }
                    });
                };
                var $18 = $d.event.cache ? $d.event.cache.areas : $d.event.data.areas;
                if ($18 && $18.length > 0) {
                    $1u = $1u.concat($18);
                };
                DayPilot.Areas.showAreas($d, $d.event, null, $1u);
                if ($c.cssOnly) {
                    DayPilot.Util.addClass($d, $c.$5d("_event_hover"));
                }
            };
            if (DayPilot.Global.resizing || DayPilot.Global.moving) {
                return;
            };
            var $3l = this.isFirst;
            var $3m = this.isLast;
            if ($c.moveBy === "Disabled" || $c.moveBy === "None") {
                return;
            };
            if (!$1t && $0T.x <= $3k && this.event.client.moveEnabled()) {
                if ($3l) {
                    this.style.cursor = 'move';
                } else {
                    this.style.cursor = 'not-allowed';
                }
            } else if (!$1t && $0T.y <= $3j && this.event.client.resizeEnabled()) {
                if ($3l) {
                    this.style.cursor = "n-resize";
                    this.dpBorder = 'top';
                } else {
                    this.style.cursor = 'not-allowed';
                }
            } else if ($1t && $0T.y <= $3k && this.event.client.moveEnabled()) {
                this.style.cursor = "move";
            } else if (this.offsetHeight - $0T.y <= $3j && this.event.client.resizeEnabled()) {
                if ($3m) {
                    this.style.cursor = "s-resize";
                    this.dpBorder = 'bottom';
                } else {
                    this.style.cursor = 'not-allowed';
                }
            } else if (!DayPilot.Global.resizing && !DayPilot.Global.moving) {
                if (this.event.client.clickEnabled()) this.style.cursor = 'pointer';
                else this.style.cursor = 'default';
            };
            if (typeof(DayPilotBubble) !== 'undefined' && $c.bubble && $c.eventHoverHandling !== 'Disabled') {
                if (this.style.cursor === 'default' || this.style.cursor === 'pointer') {
                    var $3n = this.$7b && $0T.x === this.$7b.x && $0T.y === this.$7b.y;
                    if (!$3n) {
                        this.$7b = $0T;
                        $c.bubble.showEvent(this.event);
                    }
                } else {}
            }
        };
        this.$6p = function(ev) {
            if ($c.cssOnly) {
                DayPilot.Util.removeClass(this, $c.$5d("_event_hover"));
            };
            if ($c.bubble) {
                $c.bubble.hideOnMouseOut();
            };
            DayPilot.Areas.hideAreas(this, ev);
        };
        this.$7c = null;
        this.$54 = function() {
            if (this.showCurrentTime) {
                this.$7d();
                var $0a = new DayPilot.Date().addMinutes($c.showCurrentTimeOffset);
                if ($c.showCurrentTimeMode === "Full") {
                    this.$7e($0a);
                } else if ($c.showCurrentTimeMode === "Day") {
                    this.$7f($0a);
                } else {
                    throw "Invalid DayPilot.Calendar.showCurrentTimeMode value: " + $c.showCurrentTimeMode;
                };
                if (this.nav.events && !this.$7c) {
                    var $3o = 30;
                    this.$7c = setTimeout(function() {
                        $c.$7c = null;
                        $c.$54();
                    }, $3o * 1000);
                }
            }
        };
        this.$7d = function() {
            DayPilot.de($c.elements.separators);
            $c.elements.separators = [];
        };
        this.$7f = function($0v) {
            var $3p = $0v.getTime();
            var $G = $c.nav.events;
            if (!$G) {
                return;
            };
            for (var i = 0; i < $c.$5c.length; i++) {
                var $1Q = $c.$5c[i];
                var $K = $c.$5f(true);
                var $3q = new DayPilot.Date($1Q.start).addHours(this.$5j(true));
                var $3r = $3q.getTime();
                var $3s = $3q.addTime($K);
                var $3t = $3s.getTime();
                if ($3r <= $3p && $3p <= $3t) {
                    var $3u = this.$7g($0v, $1Q.start).top - 1;
                    var $f = $G.rows[0].cells[i];
                    var $1V = $f.separators;
                    var $d = document.createElement("div");
                    $d.style.position = "absolute";
                    $d.style.top = $3u + "px";
                    $d.style.height = "1px";
                    $d.style.left = "0px";
                    $d.style.right = "0px";
                    $d.className = $c.$5d("_now");
                    $1V.insertBefore($d, $1V.firstChild);
                    $c.elements.separators.push($d);
                }
            }
        };
        this.$7e = function($0v) {
            var $3p = $0v.getTime();
            var $G = $c.nav.events;
            if (!$G) {
                return;
            };
            var $1Q = $c.$5c[0];
            if (!$1Q) {
                return;
            };
            var $3v = $1Q.start.getDatePart().addTime($0v.getTimePart());
            var $3u = this.$7g($3v, $1Q.start).top - 1;
            for (var i = 0; i < $c.$5c.length; i++) {
                var $1Q = $c.$5c[i];
                var $K = $c.$5f(true);
                var $3q = new DayPilot.Date($1Q.start).addHours(this.$5j(true));
                var $3r = $3q.getTime();
                var $3s = $3q.addTime($K);
                var $3t = $3s.getTime();
                if ($3r <= $3p && $3p <= $3t) {
                    var $d = document.createElement("div");
                    $d.style.position = "absolute";
                    $d.style.top = $3u + "px";
                    $d.style.height = "1px";
                    $d.style.left = "0px";
                    $d.style.right = "0px";
                    $d.className = $c.$5d("_now");
                    $c.nav.events.appendChild($d);
                    $c.elements.separators.push($d);
                    return;
                }
            }
        };
        this.$4T = function($15) {
            if (!$15) {
                $15 = this.events.list;
            } else {
                this.events.list = $15;
            };
            if (!$15) {
                return;
            };
            this.$6l = {};
            this.$6l.events = [];
            this.$6l.lines = [];
            var length = $15.length;
            var $K = this.$5f(true);
            this.$4o.pixels = {};
            var $3w = [];
            this.$5Y = [];
            this.$5z = 10000;
            this.$5i = 0;
            this.startDate = new DayPilot.Date(this.startDate);
            for (var i = 0; i < length; i++) {
                var e = $15[i];
                e.start = new DayPilot.Date(e.start);
                e.end = new DayPilot.Date(e.end);
            };
            if (typeof this.onBeforeEventRender === 'function' || $c.showEventStartEnd) {
                for (var i = 0; i < length; i++) {
                    this.$7a(i);
                }
            };
            var $3x = this.viewType === 'Resources';
            var $1i = this.$6j();
            var $3y = $1i.start;
            var $3z = $1i.end;
            for (var i = 0; i < this.$5c.length; i++) {
                var scroll = {};
                scroll.minEnd = 1000000;
                scroll.maxStart = -1;
                this.$5Y.push(scroll);
                var $1Q = this.$5c[i];
                $1Q.events = [];
                $1Q.lines = [];
                $1Q.blocks = [];
                var $3q = new DayPilot.Date($1Q.start).addHours(this.$5j(true));
                var $3r = $3q.getTime();
                var $3s = $3q.addTime($K);
                var $3t = $3s.getTime();
                if ($3x) {
                    $3y = $3q.getDatePart();
                    $3z = $3s.getDatePart();
                };
                for (var j = 0; j < length; j++) {
                    if ($3w[j]) {
                        continue;
                    };
                    var e = $15[j];
                    var $09 = e.start;
                    var end = e.end;
                    var $3A = $09.getTime();
                    var $3B = end.getTime();
                    if ($3B < $3A) {
                        continue;
                    };
                    if (e.allday) {
                        var $3C = false;
                        if ($3A === $3B) {
                            $3C = !($3B < $3y.getTime() || $3A >= $3z.getTime());
                        } else if ($c.allDayEnd === 'Date') {
                            $3C = !($3B < $3y.getTime() || $3A >= $3z.getTime());
                        } else {
                            $3C = !($3B <= $3y.getTime() || $3A >= $3z.getTime());
                        };
                        if ($3x) {
                            $3C = $3C && (e.resource === $1Q.id || $1Q.id === "*");
                        };
                        if ($3C) {
                            var ep = new DayPilot.Event(e, this);
                            ep.part.start = $3y.getTime() < $3A ? $09 : $3y;
                            ep.part.end = $3z.getTime() > $3B ? end : $3z;
                            ep.part.colStart = DayPilot.DateUtil.daysDiff($3y, ep.part.start);
                            ep.part.colWidth = DayPilot.DateUtil.daysSpan(ep.part.start, ep.part.end) + 1;
                            if ($3x) {
                                ep.part.colStart = i;
                                ep.part.colWidth = 1;
                            };
                            this.$6l.events.push(ep);
                            if (typeof this.onBeforeEventRender === 'function' || $c.showEventStartEnd) {
                                ep.cache = this.$4o.events[j];
                            };
                            $3w[j] = true;
                            if ($3x && (ep.part.start.getTime() !== $3A || ep.part.end.getTime() !== $3B)) {
                                $3w[j] = false;
                            }
                        };
                        continue;
                    };
                    var $3C = false;
                    if ($3x) {
                        $3C = ($1Q.id === e.resource) && !($3B <= $3r || $3A >= $3t);
                    } else {
                        $3C = !($3B <= $3r || $3A >= $3t) || ($3B === $3A && $3A === $3r);
                    };
                    if ($3C) {
                        var ep = new DayPilot.Event(e, $c);
                        ep.part.dayIndex = i;
                        ep.part.start = $3r < $3A ? $09 : $3q;
                        ep.part.end = $3t > $3B ? end : $3s;
                        var $3u = this.$7g(ep.part.start, $1Q.start);
                        var $3D = this.$7g(ep.part.end, $1Q.start);
                        var top = $3u.top;
                        var $1c = $3D.top;
                        if (top === $1c && ($3u.cut || $3D.cut)) {
                            continue;
                        };
                        ep.part.box = $0e.useBox($3B - $3A);
                        var $I = 0;
                        if (ep.part.box) {
                            var $3E = $3D.boxBottom;
                            ep.part.top = Math.floor(top / this.cellHeight) * this.cellHeight + $I;
                            ep.part.height = Math.max(Math.ceil($3E / this.cellHeight) * this.cellHeight - ep.part.top, this.cellHeight - 1);
                            ep.part.barTop = Math.max(top - ep.part.top - 1, 0);
                            ep.part.barHeight = Math.max($1c - top - 2, 1);
                        } else {
                            ep.part.top = top + $I;
                            ep.part.height = Math.max($1c - top, 0);
                            ep.part.barTop = 0;
                            ep.part.barHeight = Math.max($1c - top - 2, 1);
                        };
                        var $09 = ep.part.top;
                        var end = ep.part.top + ep.part.height;
                        if ($09 > scroll.maxStart) {
                            scroll.maxStart = $09;
                        };
                        if (end < scroll.minEnd) {
                            scroll.minEnd = end;
                        };
                        if ($09 < this.$5z) {
                            this.$5z = $09;
                        };
                        if (end > this.$5i) {
                            this.$5i = end;
                        };
                        $1Q.events.push(ep);
                        if (typeof this.onBeforeEventRender === 'function' || $c.showEventStartEnd) {
                            ep.cache = this.$4o.events[j];
                        };
                        if (ep.part.start.getTime() === $3A && ep.part.end.getTime() === $3B) {
                            $3w[j] = true;
                        }
                    }
                }
            };
            for (var i = 0; i < this.$5c.length; i++) {
                var $1Q = this.$5c[i];
                $1Q.events.sort(this.$7h);
                for (var j = 0; j < $1Q.events.length; j++) {
                    var e = $1Q.events[j];
                    $1Q.putIntoBlock(e);
                };
                for (var j = 0; j < $1Q.blocks.length; j++) {
                    var $1o = $1Q.blocks[j];
                    $1o.events.sort(this.$7i);
                    for (var k = 0; k < $1o.events.length; k++) {
                        var e = $1o.events[k];
                        $1o.putIntoLine(e);
                    }
                }
            };
            this.$6l.events.sort(this.$7i);
            this.$6l.putIntoLine = function(ep) {
                var $1p = this;
                for (var i = 0; i < this.lines.length; i++) {
                    var $1q = this.lines[i];
                    if ($1q.isFree(ep.part.colStart, ep.part.colWidth)) {
                        $1q.push(ep);
                        return i;
                    }
                };
                var $1q = [];
                $1q.isFree = function($09, $11) {
                    var end = $09 + $11 - 1;
                    var $N = this.length;
                    for (var i = 0; i < $N; i++) {
                        var e = this[i];
                        if (!(end < e.part.colStart || $09 > e.part.colStart + e.part.colWidth - 1)) {
                            return false;
                        }
                    };
                    return true;
                };
                $1q.push(ep);
                this.lines.push($1q);
                return this.lines.length - 1;
            };
            for (var i = 0; i < this.$6l.events.length; i++) {
                var e = this.$6l.events[i];
                this.$6l.putIntoLine(e);
            };
            var $3F = Math.max(this.$6l.lines.length, 1);
            this.$4o.allDayHeaderHeight = $3F * ($0e.allDayEventHeight() + 2) + 2;
        };
        this.$7h = function(a, b) {
            if (!a || !b || !a.start || !b.start) {
                return 0;
            };
            var $3G = a.start().ticks - b.start().ticks;
            if ($3G !== 0) {
                return $3G;
            };
            var $3H = b.end().ticks - a.end().ticks;
            return $3H;
        };
        this.$7i = function(a, b) {
            if (!a || !b) {
                return 0;
            };
            if (!a.data || !b.data || !a.data.sort || !b.data.sort || a.data.sort.length === 0 || b.data.sort.length === 0) {
                return $c.$7h(a, b);
            };
            var $u = 0;
            var i = 0;
            while ($u === 0 && typeof a.data.sort[i] !== "undefined" && typeof b.data.sort[i] !== "undefined") {
                if (a.data.sort[i] === b.data.sort[i]) {
                    $u = 0;
                } else if (typeof a.data.sort[i] === "number" && typeof b.data.sort[i] === "number") {
                    $u = a.data.sort[i] - b.data.sort[i];
                } else {
                    $u = $c.$7j(a.data.sort[i], b.data.sort[i], $c.sortDirections[i]);
                };
                i++;
            };
            return $u;
        };
        this.$7j = function(a, b, $3I) {
            var $3J = ($3I !== "desc");
            var $3K = $3J ? -1 : 1;
            var $3L = -$3K;
            if (a === null && b === null) {
                return 0;
            };
            if (b === null) {
                return $3L;
            };
            if (a === null) {
                return $3K;
            };
            var ar = [];
            ar[0] = a;
            ar[1] = b;
            ar.sort();
            return a === ar[0] ? $3K : $3L;
        };
        this.$7k = function(e) {
            for (var i = 0; i < $c.elements.events.length; i++) {
                var $d = $c.elements.events[i];
                if ($d.event === e || $d.event.data === e.data) {
                    return $d;
                }
            };
            return null;
        };
        this.events.find = function(id) {
            if (!$c.events.list || typeof $c.events.list.length === 'undefined') {
                return null;
            };
            var $2Y = $c.events.list.length;
            for (var i = 0; i < $2Y; i++) {
                if ($c.events.list[i].id === id) {
                    return new DayPilot.Event($c.events.list[i], $c);
                }
            };
            return null;
        };
        this.events.findRecurrent = function($3M, $0a) {
            if (!$c.events.list || typeof $c.events.list.length === 'undefined') {
                return null;
            };
            var $2Y = $c.events.list.length;
            for (var i = 0; i < $2Y; i++) {
                if ($c.events.list[i].recurrentMasterId === $3M && $c.events.list[i].start.getTime() === $0a.getTime()) {
                    return new DayPilot.Event($c.events.list[i], $c);
                }
            };
            return null;
        };
        this.events.all = function() {
            var $18 = [];
            for (var i = 0; i < $c.events.list.length; i++) {
                var e = new DayPilot.Event($c.events.list[i], $c);
                $18.push(e);
            };
            return DayPilot.list($18);
        };
        this.events.edit = function(e) {
            function startEditing() {
                var $d = $c.$7k(e);
                if (!$d) {
                    return;
                };
                $c.$5q($d);
            };
            startEditing();
        };
        this.events.update = function(e, $h) {
            var $0d = {};
            $0d.oldEvent = new DayPilot.Event(e.copy(), $c);
            $0d.newEvent = new DayPilot.Event(e.temp(), $c);
            var $g = new DayPilot.Action($c, "EventUpdate", $0d, $h);
            e.commit();
            if ($c.$4r) {
                $c.update();
            };
            $c.$7l.notify();
            return $g;
        };
        this.events.remove = function(e, $h) {
            var $0d = {};
            $0d.e = new DayPilot.Event(e.data, $c);
            var $g = new DayPilot.Action($c, "EventRemove", $0d, $h);
            var $2e = DayPilot.indexOf($c.events.list, e.data);
            $c.events.list.splice($2e, 1);
            if ($c.$4r) {
                $c.update();
            };
            $c.$7l.notify();
            return $g;
        };
        this.events.add = function(e, $h) {
            e.calendar = $c;
            if (!$c.events.list) {
                $c.events.list = [];
            };
            $c.events.list.push(e.data);
            var $0d = {};
            $0d.e = e;
            var $g = new DayPilot.Action($c, "EventAdd", $0d, $h);
            if ($c.$4r) {
                $c.update();
            };
            $c.$7l.notify();
            return $g;
        };
        this.events.load = function($3N, $3O, $3P) {
            var $3Q = function($n) {
                var $3R = {};
                $3R.exception = $n.exception;
                $3R.request = $n.request;
                if (typeof $3P === 'function') {
                    $3P($3R);
                }
            };
            var $3S = function($n) {
                var r = $n.request;
                var $h;
                try {
                    $h = DayPilot.Util.parseJSON(r.responseText);
                } catch (e) {
                    var $3T = {};
                    $3T.exception = e;
                    $3Q($3T);
                    return;
                };
                if (DayPilot.isArray($h)) {
                    var $3U = {};
                    $3U.preventDefault = function() {
                        this.preventDefault.value = true;
                    };
                    $3U.data = $h;
                    if (typeof $3O === "function") {
                        $3O($3U);
                    };
                    if ($3U.preventDefault.value) {
                        return;
                    };
                    $c.events.list = $h;
                    if ($c.$4r) {
                        $c.update();
                    }
                }
            };
            DayPilot.ajax({
                "method": "POST",
                "data": {
                    "start": $c.visibleStart().toString(),
                    "end": $c.visibleEnd().toString()
                },
                "url": $3N,
                "success": $3S,
                "error": $3Q
            });
        };
        this.queue = {};
        this.queue.list = [];
        this.queue.list.ignoreToJSON = true;
        this.queue.add = function($g) {
            if (!$g) {
                return;
            };
            if ($g.isAction) {
                $c.queue.list.push($g);
            } else {
                throw "DayPilot.Action object required for queue.add()";
            }
        };
        this.queue.notify = function($h) {
            var $0d = {};
            $0d.actions = $c.queue.list;
            $c.$4x('Notify', $0d, $h, "Notify");
            $c.queue.list = [];
        };
        this.queue.clear = function() {
            $c.queue.list = [];
        };
        this.queue.pop = function() {
            return $c.queue.list.pop();
        };
        this.$7m = function($n) {
            if (!this.$4r || !this.$5c) {
                return;
            };
            var $n = $n || {};
            var $3V = !$n.eventsOnly;
            if (!$c.cssOnly) {
                $c.cssOnly = true;
                DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.");
            };
            if (!this.$4y()) {
                $c.cellProperties = {};
            };
            if ($3V) {
                $c.$4E();
                this.$7n();
                this.$4R();
                this.$4T();
                $c.$4V();
                $c.$4W();
                $c.$4U();
                $c.$4X();
                $c.$4Y();
                $c.$4u();
                $c.$4Z();
                $c.$5Q();
                $c.$50();
                $c.$51();
                $c.$52();
                $c.$53();
                this.$56();
                this.$57();
                this.$54();
                $c.$58();
            } else {
                $c.$4E();
                $c.$4T();
                $c.$4U();
                $c.$56();
                $c.$57();
                $c.$58();
            };
            if (this.visible) {
                this.show();
            } else {
                this.hide();
            }
        };
        this.update = function() {
            this.$7m();
            if (typeof $c.onAfterRender === 'function') {
                var $n = {};
                $n.isUpdate = true;
                $n.data = null;
                $c.onAfterRender($n);
            }
        };
        this.show = function() {
            $c.visible = true;
            $c.nav.top.style.display = '';
            $c.$4H();
            $c.$52();
            $c.$5U();
        };
        this.hide = function() {
            $c.visible = false;
            $c.nav.top.style.display = 'none';
        };
        this.$7l = {};
        this.$7l.scope = null;
        this.$7l.notify = function() {
            if ($c.$7l.scope) {
                $c.$7l.scope["$apply"]();
            }
        };
        this.debug = new DayPilot.Debug(this);
        this.$7g = function($0v, $09) {
            if (!$09) $09 = this.startDate;
            var $3A = $09.getTime();
            var $3p = $0v.getTime();
            var $1I = this.$4o.pixels[$3p + "_" + $3A];
            if ($1I) {
                return $1I;
            };
            $3A = $09.addHours(this.$5j(true)).getTime();
            var $3W = this.cellDuration * 60 * 1000;
            var $3X = $3p - $3A;
            var $3Y = $3X % $3W;
            var $3Z = $3X - $3Y;
            var $40 = $3Z + $3W;
            if ($3Y === 0) {
                $40 = $3Z;
            };
            var $u = {};
            $u.cut = false;
            $u.top = this.$7o($3X);
            $u.boxTop = this.$7o($3Z);
            $u.boxBottom = this.$7o($40);
            this.$4o.pixels[$3p + "_" + $3A] = $u;
            return $u;
        };
        this.$7o = function($3p) {
            return Math.floor((this.cellHeight * $3p) / (1000 * 60 * this.cellDuration));
        };
        this.$7n = function() {
            this.startDate = new DayPilot.Date(this.startDate).getDatePart();
            this.$7p = $0e.allDayEventHeight() + 4;
        };
        this.$4U = function() {
            var $1t = this.$5k();
            var $2a = this.$6u();
            if (this.nav.corner) {
                this.nav.corner.style.height = $1t + "px";
            };
            if (this.nav.cornerRight) {
                this.nav.cornerRight.style.height = $1t + "px";
            };
            if (this.nav.mid) {
                this.nav.mid.style.height = $1t + "px";
            };
            if (this.showAllDayEvents && this.nav.header) {
                var $23 = this.nav.header.rows[this.nav.header.rows.length - 1];
                for (var i = 0; i < $23.cells.length; i++) {
                    var $q = $23.cells[i];
                    $q.firstChild.style.height = $0e.allDayHeaderHeight() + "px";
                }
            };
            if (this.nav.upperRight) {
                this.nav.upperRight.style.height = $1t + "px";
            };
            this.nav.scroll.style.top = $1t + "px";
            this.nav.top.style.height = $2a + "px";
        };
        this.$51 = function() {
            var sh = this.$6v();
            if (this.nav.scroll && sh > 0) {
                this.nav.scroll.style.height = sh + "px";
                this.$5X = $c.nav.scroll.clientHeight;
                if (this.nav.bottomLeft) {
                    this.nav.bottomLeft.style.height = sh + "px";
                };
                if (this.nav.bottomRight) {
                    this.nav.bottomRight.style.height = sh + "px";
                }
            };
            if (this.heightSpec === "Parent100Pct") {
                this.nav.top.style.height = "100%";
            } else {
                this.nav.top.style.height = this.$6u() + "px";
            }
        };
        this.setHeight = function($1H) {
            if (this.heightSpec !== "Parent100Pct") {
                this.heightSpec = "Fixed";
            };
            if (this.cssOnly) {
                this.height = $1H - (this.$5k());
            } else {
                this.height = $1H - (this.$5k() + 3);
            };
            this.$51();
        };
        this.$7q = function($41) {
            var $d = document.createElement("div");
            $d.style.position = "absolute";
            $d.style.top = "-2000px";
            $d.style.left = "-2000px";
            $d.className = this.$5d($41);
            document.body.appendChild($d);
            var $J = $d.offsetHeight;
            var $11 = $d.offsetWidth;
            document.body.removeChild($d);
            var $u = {};
            $u.height = $J;
            $u.width = $11;
            return $u;
        };
        this.$6m = {};
        var $0e = this.$6m;
        $0e.locale = function() {
            return DayPilot.Locale.find($c.locale);
        };
        $0e.weekStarts = function() {
            if (typeof $c.weekStarts === 'number') {
                return $c.weekStarts;
            } else {
                return $0e.locale().weekStarts;
            }
        };
        $0e.timeFormat = function() {
            if ($c.timeFormat !== 'Auto') {
                return $c.timeFormat;
            };
            return this.locale().timeFormat;
        };
        $0e.useBox = function($42) {
            if ($c.useEventBoxes === 'Always') {
                return true;
            };
            if ($c.useEventBoxes === 'Never') {
                return false;
            };
            return $42 < $c.cellDuration * 60 * 1000;
        };
        $0e.notifyType = function() {
            var $l;
            if ($c.notifyCommit === 'Immediate') {
                $l = "Notify";
            } else if ($c.notifyCommit === 'Queue') {
                $l = "Queue";
            } else {
                throw "Invalid notifyCommit value: " + $c.notifyCommit;
            };
            return $l;
        };
        $0e.allDayEventHeight = function() {
            if ($c.$4o.allDayEventHeight) {
                return $c.$4o.allDayEventHeight;
            };
            var $J = $c.$7q("_alldayevent_height").height;
            if (!$J) {
                $J = $c.allDayEventHeight;
            };
            $c.$4o.allDayEventHeight = $J;
            return $J;
        };
        $0e.allDayHeaderHeight = function() {
            if ($c.$4o.allDayHeaderHeight) {
                return $c.$4o.allDayHeaderHeight;
            };
            var $J = $c.$7p;
            $c.$4o.allDayHeaderHeight = $J;
            return $J;
        };
        $0e.headerHeight = function() {
            if ($c.$4o.headerHeight) {
                return $c.$4o.headerHeight;
            };
            var $J = $c.$7q("_header_height").height;
            if (!$J) {
                $J = $c.headerHeight;
            };
            $c.$4o.headerHeight = $J;
            return $J;
        };
        this.$7r = function() {
            if (this.backendUrl) {
                return (typeof $c.events.list === 'undefined') || (!$c.events.list);
            } else {
                return false;
            }
        };
        this.$7s = function() {
            if (this.id && this.id.tagName) {
                this.nav.top = this.id;
            } else if (typeof this.id === "string") {
                this.nav.top = document.getElementById(this.id);
                if (!this.nav.top) {
                    throw "DayPilot.Calendar: The placeholder element not found: '" + id + "'.";
                }
            } else {
                throw "DayPilot.Calendar() constructor requires the target element or its ID as a parameter";
            }
        };
        this.$7t = function() {
            this.$7s();
            this.$7n();
            this.$4R();
            this.$6w();
            this.$4V();
            this.$4W();
            this.$4Z();
            this.$52();
            this.$6Q();
            this.$79();
            this.$4I();
            this.$53();
            DayPilotCalendar.register(this);
            this.$4H();
            this.$54();
            this.$76();
            this.$59();
            this.$4x('Init');
        };
        this.init = function() {
            this.$7s();
            if (this.nav.top.dp) {
                return;
            };
            var $43 = this.$7r();
            if (!$c.cssOnly) {
                $c.cssOnly = true;
                DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.");
            };
            if ($43) {
                this.$7t();
                this.$4r = true;
                return;
            };
            this.$7n();
            this.$4R();
            this.$4S();
            if (!this.events.list) {
                this.events.list = [];
            };
            this.$4T();
            this.$6w();
            this.$4V();
            this.$4W();
            this.$4Z();
            this.$55();
            this.$53();
            this.$52();
            this.$6Q();
            this.$79();
            this.$4I();
            DayPilotCalendar.register(this);
            this.$4U();
            this.$56();
            this.$57();
            this.$4H();
            if (this.messageHTML) {
                this.message(this.messageHTML);
            };
            this.$54();
            this.$4P(null, false);
            this.$76();
            this.$59();
            this.$4r = true;
            this.$7u();
        };
        this.$7v = null;
        this.$7w = function($a) {
            var $44 = {
                "events": {
                    "preInit": function() {
                        var $15 = this.data;
                        if (!$15) {
                            return;
                        };
                        if (DayPilot.isArray($15.list)) {
                            $c.events.list = $15.list;
                        } else {
                            $c.events.list = $15;
                        }
                    }
                },
                "scrollToHour": {
                    "postInit": function() {
                        if (typeof this.data !== 'undefined') {
                            $c.scrollToHour(this.data);
                        }
                    }
                }
            };
            this.$7v = $44;
            for (var name in $a) {
                if ($44[name]) {
                    var $1r = $44[name];
                    $1r.data = $a[name];
                    if ($1r.preInit) {
                        $1r.preInit();
                    }
                } else {
                    $c[name] = $a[name];
                }
            }
        };
        this.$7u = function() {
            var $44 = this.$7v;
            for (var name in $44) {
                var $1r = $44[name];
                if ($1r.postInit) {
                    $1r.postInit();
                }
            }
        };
        this.internal = {};
        this.internal.initialized = function() {
            return $c.$4r;
        };
        this.internal.invokeEvent = this.$5y;
        this.internal.eventMenuClick = this.$5H;
        this.internal.timeRangeMenuClick = this.$5I;
        this.internal.bubbleCallBack = this.$5F;
        this.internal.findEventDiv = this.$7k;
        this.internal.eventDeleteDispatch = this.$5x;
        this.internal.touch = this.$6r;
        this.Init = this.init;
        this.$7w($a);
    };
    var DayPilotCalendar = {};
    DayPilotCalendar.topSelectedCell = null;
    DayPilotCalendar.bottomSelectedCell = null;
    DayPilotCalendar.selecting = false;
    DayPilotCalendar.column = null;
    DayPilotCalendar.firstSelected = null;
    DayPilotCalendar.firstMousePos = null;
    DayPilotCalendar.originalMouse = null;
    DayPilotCalendar.originalHeight = null;
    DayPilotCalendar.originalTop = null;
    DayPilotCalendar.globalHandlers = false;
    DayPilotCalendar.editing = false;
    DayPilotCalendar.originalText = null;
    DayPilotCalendar.register = function($c) {
        if (!DayPilotCalendar.registered) {
            DayPilotCalendar.registered = [];
        };
        var r = DayPilotCalendar.registered;
        for (var i = 0; i < r.length; i++) {
            if (r[i] === $c) {
                return;
            }
        };
        r.push($c);
    };
    DayPilotCalendar.unregister = function($c) {
        var a = DayPilotCalendar.registered;
        if (a) {
            var i = DayPilot.indexOf(a, $c);
            if (i !== -1) {
                a.splice(i, 1);
            };
            if (a.length === 0) {
                a = null;
            }
        };
        if (!a) {
            DayPilot.ue(document, 'mousemove', DayPilotCalendar.gMouseMove);
            DayPilot.ue(document, 'mouseup', DayPilotCalendar.gMouseUp);
            DayPilot.ue(document, 'touchmove', DayPilotCalendar.gTouchMove);
            DayPilot.ue(document, 'touchend', DayPilotCalendar.gTouchEnd);
            DayPilotCalendar.globalHandlers = false;
        }
    };
    DayPilotCalendar.getCellsAbove = function($f) {
        var $s = [];
        var c = DayPilotCalendar.getColumn($f);
        var tr = $f.parentNode;
        var $45 = null;
        while (tr && $45 !== DayPilotCalendar.firstSelected) {
            $45 = tr.getElementsByTagName("td")[c];
            $s.push($45);
            tr = tr.previousSibling;
            while (tr && tr.tagName !== "TR") {
                tr = tr.previousSibling;
            }
        };
        return $s;
    };
    DayPilotCalendar.getCellsBelow = function($f) {
        var $s = [];
        var c = DayPilotCalendar.getColumn($f);
        var tr = $f.parentNode;
        var $45 = null;
        while (tr && $45 !== DayPilotCalendar.firstSelected) {
            $45 = tr.getElementsByTagName("td")[c];
            $s.push($45);
            tr = tr.nextSibling;
            while (tr && tr.tagName !== "TR") {
                tr = tr.nextSibling;
            }
        };
        return $s;
    };
    DayPilotCalendar.getColumn = function($f) {
        var i = 0;
        while ($f.previousSibling) {
            $f = $f.previousSibling;
            if ($f.tagName === "TD") {
                i++;
            }
        };
        return i;
    };
    DayPilotCalendar.getShadowColumn = function($E) {
        if (!$E) {
            return null;
        };
        var $46 = $E.parentNode;
        while ($46 && $46.tagName !== "TD") {
            $46 = $46.parentNode;
        };
        return $46;
    };
    DayPilotCalendar.gTouchMove = function(ev) {
        if (DayPilot.Util.isMouseEvent(ev)) {
            return;
        };
        if (DayPilotCalendar.drag) {
            ev.preventDefault();
            var x = ev.touches ? ev.touches[0].pageX : ev.pageX;
            var y = ev.touches ? ev.touches[0].pageY : ev.pageY;
            var $0L = {};
            $0L.x = x;
            $0L.y = y;
            var $c = (function() {
                var $47 = ev.touches ? ev.touches[0].clientX : ev.clientX;
                var $48 = ev.touches ? ev.touches[0].clientY : ev.clientY;
                var el = document.elementFromPoint($47, $48);
                while (el && el.parentNode) {
                    el = el.parentNode;
                    if (el.daypilotMainD) {
                        return el.calendar;
                    }
                };
                return false;
            })();
            if ($c) {
                if (DayPilotCalendar.gShadow) {
                    document.body.removeChild(DayPilotCalendar.gShadow);
                };
                DayPilotCalendar.gShadow = null;
                $c.coords = $c.$6r.relativeCoords(ev);
                if (!DayPilotCalendar.movingShadow && $c.coords) {
                    var $L = $c.$5b(DayPilotCalendar.drag, false, DayPilotCalendar.drag.shadowType);
                    if ($L) {
                        DayPilotCalendar.movingShadow = $L;
                        var $0K = DayPilot.Date.today();
                        var ev = {
                            'value': DayPilotCalendar.drag.id,
                            'start': $0K,
                            'end': $0K.addSeconds(DayPilotCalendar.drag.duration),
                            'text': DayPilotCalendar.drag.text
                        };
                        var event = new DayPilot.Event(ev, $c);
                        event.external = true;
                        DayPilot.Global.moving = {};
                        DayPilot.Global.moving.event = event;
                        DayPilot.Global.moving.helper = {};
                    }
                };
                if (DayPilot.Global.moving) {
                    $c.$6r.updateMoving();
                }
            } else {
                DayPilot.de(DayPilotCalendar.movingShadow);
                DayPilot.Global.moving = null;
                DayPilotCalendar.movingShadow = null;
                if (!DayPilotCalendar.gShadow) {
                    DayPilotCalendar.gShadow = DayPilotCalendar.createGShadow(DayPilotCalendar.drag.shadowType);
                };
                var $L = DayPilotCalendar.gShadow;
                $L.style.left = $0L.x + 'px';
                $L.style.top = $0L.y + 'px';
            }
        }
    };
    DayPilotCalendar.gTouchEnd = function(ev) {
        if (DayPilot.Util.isMouseEvent(ev)) {
            return;
        };
        DayPilotCalendar.gMouseUp(ev);
    };
    DayPilotCalendar.gMouseMove = function(ev) {
        if (typeof(DayPilotCalendar) === 'undefined') {
            return;
        };
        if (ev.insideMainD) {
            return;
        } else if (ev.srcElement) {
            if (ev.srcElement.inside) {
                return;
            }
        };
        var $0L = DayPilot.mc(ev);
        if (DayPilotCalendar.drag) {
            document.body.style.cursor = 'move';
            if (!DayPilotCalendar.gShadow) {
                DayPilotCalendar.gShadow = DayPilotCalendar.createGShadow(DayPilotCalendar.drag.shadowType);
            };
            var $L = DayPilotCalendar.gShadow;
            $L.style.left = $0L.x + 'px';
            $L.style.top = $0L.y + 'px';
            DayPilot.Global.moving = null;
            DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);
            DayPilotCalendar.movingShadow = null;
        };
        for (var i = 0; i < DayPilotCalendar.registered.length; i++) {
            if (DayPilotCalendar.registered[i].$4K) {
                DayPilotCalendar.registered[i].$4K();
            }
        }
    };
    DayPilotCalendar.gUnload = function(ev) {
        if (!DayPilotCalendar.registered) {
            return;
        };
        var r = DayPilotCalendar.registered;
        for (var i = 0; i < r.length; i++) {
            var c = r[i];
            DayPilotCalendar.unregister(c);
        }
    };
    DayPilotCalendar.gMouseUp = function(e) {
        var e = e || window.event;
        if (DayPilot.Global.resizing) {
            if (!DayPilotCalendar.resizingShadow) {
                DayPilot.Global.resizing.style.cursor = 'default';
                DayPilot.Global.resizing.event.calendar.nav.top.style.cursor = 'auto';
                DayPilot.Global.resizing = null;
                return;
            };
            var $3i = DayPilot.Global.resizing.event;
            var $0i = DayPilot.Global.resizing.dpBorder;
            var $J = DayPilotCalendar.resizingShadow.clientHeight;
            var top = DayPilotCalendar.resizingShadow.offsetTop;
            DayPilotCalendar.deleteShadow(DayPilotCalendar.resizingShadow);
            DayPilotCalendar.resizingShadow = null;
            DayPilot.Global.resizing.style.cursor = 'default';
            $3i.calendar.nav.top.style.cursor = 'auto';
            DayPilot.Global.resizing.onclick = null;
            DayPilot.Global.resizing = null;
            if ($3i.calendar.overlap) {
                return;
            };
            $3i.calendar.$5A($3i, $J, top, $0i);
        } else if (DayPilot.Global.moving) {
            if (!DayPilot.Global.moving.helper) {
                DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);
                DayPilot.Global.moving = null;
                DayPilotCalendar.movingShadow = null;
                return;
            };
            if (!DayPilotCalendar.movingShadow) {
                DayPilot.Global.moving.event.calendar.nav.top.style.cursor = 'auto';
                DayPilot.Global.moving = null;
                return;
            };
            var $49 = DayPilot.Global.moving.helper.oldColumn;
            var top = DayPilotCalendar.movingShadow.offsetTop;
            DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);
            var $3i = DayPilot.Global.moving.event;
            var $0q = DayPilotCalendar.movingShadow.column;
            var $0r = DayPilotCalendar.drag;
            DayPilot.Global.moving.event.calendar.nav.top.style.cursor = 'auto';
            DayPilot.Global.moving = null;
            DayPilotCalendar.movingShadow = null;
            if ($0r) {
                if (!$3i.calendar.todo) {
                    $3i.calendar.todo = {};
                };
                $3i.calendar.todo.del = $0r.element;
            };
            if ($3i.calendar.overlap) {
                return;
            };
            var ev = e || window.event;
            $3i.calendar.$5C($3i, $0q, top, ev, $0r);
        };
        if (DayPilotCalendar.drag) {
            DayPilotCalendar.drag = null;
            document.body.style.cursor = '';
        };
        if (DayPilotCalendar.gShadow) {
            document.body.removeChild(DayPilotCalendar.gShadow);
            DayPilotCalendar.gShadow = null;
        };
        DayPilotCalendar.moveOffsetY = null;
    };
    DayPilotCalendar.dragStart = function(element, $K, id, $2h, $l) {
        DayPilot.us(element);
        var $0r = DayPilotCalendar.drag = {};
        $0r.element = element;
        $0r.duration = $K;
        $0r.text = $2h;
        $0r.id = id;
        $0r.shadowType = $l ? $l : 'Fill';
        return false;
    };
    DayPilot.Calendar.makeDraggable = function($a) {
        var element = $a.element;
        var $4a = $a.keepElement ? null : element;
        var $K = $a.duration || 1;
        if (navigator.msPointerEnabled) {
            element.style.msTouchAction = "none";
            element.style.touchAction = "none";
        };
        DayPilot.us(element);
        DayPilot.re(element, "mousedown", function(ev) {
            DayPilotCalendar.dragStart($4a, $K, $a.id, $a.text);
            var element = (ev.target || ev.srcElement);
            if (element.tagName) {
                var $4b = element.tagName.toLowerCase();
                if ($4b === "textarea" || $4b === "select" || $4b === "input") {
                    return false;
                }
            };
            ev.preventDefault && ev.preventDefault();
            return false;
        });
        var $4c = function(ev) {
            if (DayPilot.Util.isMouseEvent(ev)) {
                return;
            };
            var $3h = 0;
            window.setTimeout(function() {
                var $0r = DayPilotCalendar.drag = {};
                $0r.element = $4a;
                $0r.id = $a.id;
                $0r.text = $a.text || "";
                $0r.duration = $K;
                $0r.shadowType = "Fill";
                DayPilotCalendar.gTouchMove(ev);
                ev.preventDefault();
            }, $3h);
            ev.preventDefault();
        };
        DayPilot.re(element, DayPilot.touch.start, $4c);
    };
    DayPilotCalendar.deleteShadow = function($L) {
        if (!$L) {
            return;
        };
        if (!$L.parentNode) {
            return;
        };
        $L.parentNode.removeChild($L);
    };
    DayPilotCalendar.createGShadow = function($l) {
        var $L = document.createElement('div');
        $L.setAttribute('unselectable', 'on');
        $L.style.position = 'absolute';
        $L.style.width = '100px';
        $L.style.height = '20px';
        $L.style.border = '2px dotted #666666';
        $L.style.zIndex = 101;
        $L.style.pointerEvents = "none";
        if ($l === 'Fill') {
            $L.style.backgroundColor = "#aaaaaa";
            $L.style.opacity = 0.5;
            $L.style.filter = "alpha(opacity=50)";
            $L.style.border = '2px solid #aaaaaa';
        };
        document.body.appendChild($L);
        return $L;
    };
    DayPilotCalendar.moveShadow = function($q) {
        var $L = DayPilotCalendar.movingShadow;
        if ($L.parentNode) {
            $L.parentNode.removeChild($L);
        };
        $q.firstChild.appendChild($L);
        $L.style.left = '0px';
        $L.style.width = (DayPilotCalendar.movingShadow.parentNode.offsetWidth) + 'px';
    };
    DayPilotCalendar.Column = function($4d, name, $0v) {
        this.value = $4d;
        this.id = $4d;
        this.name = name;
        this.date = new DayPilot.Date($0v);
    };
    DayPilot.CalendarVisible.dragStart = DayPilotCalendar.dragStart;
    DayPilot.CalendarVisible.Calendar = DayPilotCalendar.Calendar;
    if (typeof jQuery !== 'undefined') {
        (function($) {
            $.fn.daypilotCalendar = function($a) {
                var $0J = null;
                var j = this.each(function() {
                    if (this.daypilot) {
                        return;
                    };
                    var $4e = new DayPilot.Calendar(this.id, $a);
                    $4e.init();
                    this.daypilot = $4e;
                    if (!$0J) {
                        $0J = $4e;
                    }
                });
                if (this.length === 1) {
                    return $0J;
                } else {
                    return j;
                }
            };
        })(jQuery);
    };
    (function registerAngularModule() {
        var $4f = DayPilot.am();
        if (!$4f) {
            return;
        };
        $4f.directive("daypilotCalendar", ['$parse', function($4g) {
            return {
                "restrict": "E",
                "template": "<div id='{{id}};'></div>",
                "compile": function compile(element, $4h) {
                    element.replaceWith(this["template"].replace("{{id}};", $4h["id"]));
                    return function link($4i, element, $4h) {
                        var $c = new DayPilot.Calendar(element[0]);
                        $c.$7l.scope = $4i;
                        $c.init();
                        var $4j = $4h["id"];
                        if ($4j) {
                            $4i[$4j] = $c;
                        };
                        var $4k = $4h["publishAs"];
                        if ($4k) {
                            var getter = $4g($4k);
                            var setter = getter.assign;
                            setter($4i, $c);
                        };
                        for (var name in $4h) {
                            if (name.indexOf("on") === 0) {
                                (function(name) {
                                    $c[name] = function($n) {
                                        var f = $4g($4h[name]);
                                        $4i["$apply"](function() {
                                            f($4i, {
                                                "args": $n
                                            });
                                        });
                                    };
                                })(name);
                            }
                        };
                        var $4l = $4i["$watch"];
                        var $2W = $4h["config"] || $4h["daypilotConfig"];
                        var $15 = $4h["events"] || $4h["daypilotEvents"];
                        $4l.call($4i, $2W, function($4d, $4m) {
                            for (var name in $4d) {
                                $c[name] = $4d[name];
                            };
                            $c.update();
                        }, true);
                        $4l.call($4i, $15, function($4d) {
                            $c.events.list = $4d;
                            $c.$7m({
                                "eventsOnly": true
                            });
                        }, true);
                    };
                }
            };
        }]);
    })();
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
(function() {
    if (typeof DayPilot.DatePicker !== 'undefined') {
        return;
    };
    DayPilot.DatePicker = function($a) {
        this.v = '2200';
        var $b = "navigator_" + new Date().getTime();
        var $c = this;
        this.onShow = null;
        this.prepare = function() {
            this.locale = "en-us";
            this.target = null;
            this.resetTarget = true;
            this.pattern = this.$m.locale().datePattern;
            this.theme = null;
            this.patterns = [];
            if ($a) {
                for (var name in $a) {
                    this[name] = $a[name];
                }
            };
            this.init();
        };
        this.init = function() {
            this.date = new DayPilot.Date(this.date);
            var $d = this.$n();
            if (this.resetTarget && !$d) {
                this.$o(this.date);
            };
            DayPilot.re(document, "mousedown", function() {
                $c.close();
            });
        };
        this.close = function() {
            if (!this.$p) {
                return;
            };
            if (this.navigator) {
                this.navigator.dispose();
            };
            this.div.innerHTML = '';
            if (this.div && this.div.parentNode === document.body) {
                document.body.removeChild(this.div);
            }
        };
        this.$n = function() {
            var element = this.$q();
            if (!element) {
                return this.date;
            };
            var $d = null;
            if (element.tagName === "INPUT") {
                $d = element.value;
            } else {
                $d = element.innerText;
            };
            if (!$d) {
                return null;
            };
            var $e = DayPilot.Date.parse($d, $c.pattern);
            for (var i = 0; i < $c.patterns.length; i++) {
                if ($e) {
                    return $e;
                };
                $e = DayPilot.Date.parse($d, $c.patterns[i]);
            };
            return $e;
        };
        this.$o = function($e) {
            var element = this.$q();
            if (!element) {
                return;
            };
            var $d = $e.toString($c.pattern, $c.locale);
            if (element.tagName === "INPUT") {
                element.value = $d;
            } else {
                element.innerHTML = $d;
            }
        };
        this.$m = {};
        this.$m.locale = function() {
            return DayPilot.Locale.find($c.locale);
        };
        this.$q = function() {
            var id = this.target;
            var element = (id && id.nodeType && id.nodeType === 1) ? id : document.getElementById(id);
            return element;
        };
        this.show = function() {
            var element = this.$q();
            var navigator = this.navigator;
            var navigator = new DayPilot.Navigator($b);
            navigator.api = 2;
            navigator.cssOnly = true;
            navigator.theme = $c.theme;
            navigator.weekStarts = "Auto";
            navigator.locale = $c.locale;
            navigator.onTimeRangeSelected = function($f) {
                $c.date = $f.start;
                var $g = $f.start.addTime(navigator.$r);
                var $d = $g.toString($c.pattern, $c.locale);
                var $f = {};
                $f.start = $g;
                $f.date = $g;
                $f.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onTimeRangeSelect === 'function') {
                    $c.onTimeRangeSelect($f);
                    if ($f.preventDefault.value) {
                        return;
                    }
                };
                $c.$o($d);
                $c.close();
                if (typeof $c.onTimeRangeSelected === 'function') {
                    $c.onTimeRangeSelected($f);
                }
            };
            this.navigator = navigator;
            var $h = DayPilot.abs(element);
            var $i = element.offsetHeight;
            var $j = document.createElement("div");
            $j.style.position = "absolute";
            $j.style.left = $h.x + "px";
            $j.style.top = ($h.y + $i) + "px";
            var $k = document.createElement("div");
            $k.id = $b;
            $j.appendChild($k);
            DayPilot.re($j, "mousedown", function(ev) {
                var ev = ev || window.event;
                ev.cancelBubble = true;
                ev.stopPropagation && ev.stopPropagation();
            });
            document.body.appendChild($j);
            this.div = $j;
            var $l = $c.$n() || new DayPilot.Date().getDatePart();
            navigator.startDate = $l;
            navigator.$r = $l.getTimePart();
            navigator.selectionStart = $l.getDatePart();
            navigator.init();
            this.$p = true;
            if (this.onShow) {
                this.onShow();
            }
        };
        this.prepare();
    };
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
(function() {
    if (typeof DayPilot.Gantt !== 'undefined') {
        return;
    };
    var $a = function() {};
    DayPilot.Gantt = function(id, $b) {
        this.v = '2200';
        var $c = this;
        this.id = id;
        this.isGantt = true;
        var $d = new DayPilot.Scheduler(id);
        this.scheduler = $d;
        $d.viewType = "Resources";
        $d.onCallBackHeader = function($e) {
            $e.header.taskGroupMode = $c.taskGroupMode;
            $e.header.rowHeaderColumns = $c.columns;
            $e.header.clientState = $c.clientState;
        };
        $d.onGetNodeState = function($e) {
            var $f = function($g) {
                var $h = {};
                if ($g.tags) {
                    for (var name in $g.tags) {
                        $h[name] = "" + $g.tags[name];
                    }
                };
                return $h;
            };
            var $i = function($j) {
                var $g = $j.task;
                var $h = {};
                $h.start = $g.start;
                $h.end = $g.end;
                $h.id = $g.id;
                $h.complete = $g.complete;
                $h.text = $g.text;
                $h.type = $g.type;
                $h.expanded = $j.expanded;
                $h.loaded = $j.loaded;
                $h.tags = $f($g);
                $h.versions = $g.versions;
                $h.children = $d.internal.getNodeChildren($j.children);
                return $h;
            };
            $e.result = $i($e.row);
            $e.preventDefault();
        };
        $d.$0r = function($k) {};
        $d.onCallBackResult = function($e) {
            var $h = $e.result;
            $e.preventDefault();
            var $l = function() {
                if ($h.scrollToTaskId) {
                    $d.scrollToResource($h.scrollToTaskId);
                }
            };
            if ($h.updateType === "None") {
                $l();
                return;
            };
            var $m = function($n) {
                for (var i = 0; i < $n.length; i++) {
                    var name = $n[i];
                    if (typeof $h[name] !== "undefined") {
                        $c[name] = $h[name];
                    }
                }
            };
            $c.links.list = $h.links;
            $c.tasks.list = $h.tasks;
            $c.startDate = new DayPilot.Date($h.startDate);
            $m(['days', 'cellDuration', 'cellGroupBy', 'cellWidth', 'cellWidthSpec', 'cornerHtml', 'separators', 'rowMinHeight', 'rowMarginBottom', 'taskGroupMode', 'selectedRows']);
            $m(['cellProperties', 'cellConfig', 'timeHeader', 'timeHeaders', 'timeline', 'columns']);
            $o.translate();
            $o.$0s();
            $o.$0t();
            $d.update();
            $d.show();
            $l();
        };
        this.taskGroupMode = "Auto";
        this.autoRefreshCommand = "refresh";
        this.autoRefreshEnabled = false;
        this.autoRefreshInterval = 60;
        this.autoRefreshMaxCount = 20;
        this.autoScroll = "Drag";
        this.bubbleTask = null;
        this.bubbleCell = null;
        this.bubbleRow = null;
        this.cellDuration = 1440;
        this.cellGroupBy = "Month";
        this.cellWidth = 40;
        this.cellWidthSpec = "Fixed";
        this.completeBarVisible = true;
        this.completeBarHeight = 3;
        this.contextMenuTask = null;
        this.contextMenuRow = null;
        this.contextMenuLink = null;
        this.cornerHtml = '';
        this.crosshairColor = 'Gray';
        this.crosshairOpacity = 20;
        this.crosshairType = 'Header';
        this.doubleClickTimeout = 300;
        this.progressiveTaskRendering = 'Progressive';
        this.progressiveTaskRenderingMargin = 500;
        this.progressiveTaskRenderingCacheSweeping = false;
        this.progressiveTaskRenderingCacheSize = 200;
        this.floatingTasks = true;
        this.floatingTimeHeaders = true;
        this.headerHeight = 20;
        this.height = 300;
        this.heightSpec = "Max";
        this.hideUntilInit = false;
        this.linkBottomMargin = 10;
        this.linkPointSize = 10;
        this.loadingLabelVisible = true;
        this.loadingLabelText = "Loading...";
        this.locale = "en-us";
        this.messageBarPosition = "Top";
        this.messageHideAfter = 5000;
        this.numberFormat = "0.00";
        this.progressiveRowRendering = true;
        this.progressiveRowRenderingPreload = 25;
        this.rowHeaderScrolling = false;
        this.rowHeaderSplitterWidth = 3;
        this.rowHeaderHideIconEnabled = true;
        this.rowHeaderWidth = 80;
        this.rowHeaderWidthAutoFit = true;
        this.rowMarginBottom = 4;
        this.rowMinHeight = 0;
        this.scrollDelayTasks = 200;
        this.scrollDelayCells = 20;
        this.scrollDelayFloats = 0;
        this.scale = "Day";
        this.selectedRows = [];
        this.snapToGrid = true;
        this.syncTasks = true;
        this.syncLinks = true;
        this.tapAndHoldTimeout = 300;
        this.taskHeight = 24;
        this.taskResizeMargin = 5;
        this.taskMovingStartEndEnabled = false;
        this.taskMovingStartEndFormat = "MMMM d, yyyy";
        this.taskResizingStartEndEnabled = false;
        this.taskResizingStartEndFormat = "MMMM d, yyyy";
        this.theme = "gantt_default";
        this.treeAutoExpand = true;
        this.treeIndent = 20;
        this.treeImageMarginLeft = 5;
        this.treeImageMarginTop = 5;
        this.timeline = null;
        this.timeHeaders = [{
            "groupBy": "Month",
            "format": "MMMM yyyy"
        }, {
            "groupBy": "Day",
            "format": "d"
        }];
        this.useEventBoxes = "Never";
        this.visible = true;
        this.taskVersionsEnabled = false;
        this.taskVersionHeight = 24;
        this.taskVersionMargin = 2;
        this.taskMoveHandling = "Update";
        this.taskClickHandling = "Enabled";
        this.taskResizeHandling = "Update";
        this.linkCreateHandling = "Update";
        this.taskRightClickHandling = "ContextMenu";
        this.taskDoubleClickHandling = "Disabled";
        this.rowCreateHandling = "Disabled";
        this.rowMoveHandling = "Update";
        this.rowClickHandling = "Disabled";
        this.rowDoubleClickHandling = "Disabled";
        this.rowEditHandling = "Update";
        this.rowSelectHandling = "Update";
        this.clientState = {};
        this.separators = [];
        this.members = {};
        this.members.obsolete = [];
        this.members.ignore = ["members", "scheduler", "internal", "cellProperties"];
        this.members.noCssOnly = [];
        this.links = {};
        this.links.list = [];
        this.links.add = function(link) {
            if (!link) {
                return;
            };
            var $p = link.isLink ? link.data : link;
            $c.links.list.push($p);
            if ($c.$0u) {
                $o.$0t();
                $d.update();
            };
            $c.$0v.notify();
        };
        this.links.remove = function(link) {
            if (!link) {
                return;
            };
            var $p;
            if (link.isLink) {
                $p = link.data;
            } else {
                $p = link;
            };
            var $q = DayPilot.indexOf($c.links.list, $p);
            if ($q === -1) {
                return;
            };
            $c.links.list.splice($q, 1);
            if ($c.$0u) {
                $o.$0t();
                $d.update();
            };
            $c.$0v.notify();
        };
        this.links.find = function(id) {
            if (!DayPilot.isArray($c.links.list)) {
                return null;
            };
            for (var i = 0; i < $c.links.list.length; i++) {
                var link = $c.links.list[i];
                if (link.id === id) {
                    return new DayPilot.Link(link, $c);
                }
            };
            return null;
        };
        this.links.findFromTo = function($r, to) {
            if (!DayPilot.isArray($c.links.list)) {
                return null;
            };
            for (var i = 0; i < $c.links.list.length; i++) {
                var link = $c.links.list[i];
                if (link.from === $r && link.to === to) {
                    return new DayPilot.Link(link, $c);
                }
            };
            return null;
        };
        this.$0w = {};
        var $s = this.$0w;
        $s.timeout = null;
        $s.update = function() {
            if (!$c.$0u) {
                return;
            };
            window.clearTimeout($s.timeout);
            $s.timeout = setTimeout(function() {
                $o.$0s();
                $d.update();
            }, 0);
        };
        this.tasks = {};
        this.tasks.list = [];
        this.tasks.add = function($g) {
            if (!$g) {
                return;
            };
            if ($g instanceof DayPilot.Event) {
                throw "DayPilot.Task object required. You have supplied DayPilot.Event.";
            };
            var $p = $g.isTask ? $g.data : $g;
            $c.tasks.list.push($p);
            $s.update();
            $c.$0v.notify();
        };
        this.tasks.find = function(id) {
            var $p = $t.findInCache(id);
            if (!$p) {
                return null;
            };
            return new DayPilot.Task($p, $c);
        };
        this.tasks.update = function($g) {
            if (!$g) {
                return;
            };
            if (!$g.isTask) {
                throw "DayPilot.Task object expected";
            };
            $g.commit();
            $s.update();
            $c.$0v.notify();
        };
        this.tasks.remove = function($g) {
            if (!$g) {
                return;
            };
            if (!$g.isTask) {
                throw "DayPilot.Task object expected";
            };
            var $u = $t.findParentArray($g.data);
            if (!$u) {
                return;
            };
            var $v = DayPilot.indexOf($u, $g.data);
            $u.splice($v, 1);
            $s.update();
            $c.$0v.notify();
        };
        this.visibleStart = function() {
            return $d.visibleStart();
        };
        this.visibleEnd = function() {
            return $d.visibleEnd();
        };
        this.onAfterRender = null;
        this.onAfterUpdate = null;
        this.onBeforeRowHeaderRender = null;
        this.onBeforeTaskRender = null;
        this.onBeforeTimeHeaderRender = null;
        this.onBeforeCellRender = null;
        this.onTaskClick = null;
        this.onTaskClicked = null;
        this.onTaskDoubleClick = null;
        this.onTaskDoubleClicked = null;
        this.onTaskRightClick = null;
        this.onTaskRightClicked = null;
        this.onRowCreate = null;
        this.onRowCreated = null;
        this.onRowMove = null;
        this.onRowMoved = null;
        this.onRowMoving = null;
        this.onRowClick = null;
        this.onRowClicked = null;
        this.onRowDoubleClick = null;
        this.onRowDoubleClicked = null;
        this.onRowEdit = null;
        this.onRowEdited = null;
        this.onRowSelect = null;
        this.onRowSelected = null;
        this.onTaskMove = null;
        this.onTaskMoved = null;
        this.onTaskMoving = null;
        this.onTaskResize = null;
        this.onTaskResized = null;
        this.onTaskResizing = null;
        this.onLinkCreate = null;
        this.onLinkCreated = null;
        this.$0x = function() {
            if (this.backendUrl) {
                return true;
            };
            if (typeof WebForm_DoCallback === 'function' && this.uniqueID) {
                return true;
            };
            return false;
        };
        this.$0y = function() {
            if (typeof $c.startDate === "string") {
                $c.startDate = new DayPilot.Date($c.startDate);
            };
            if ($c.startDate && $c.days) {
                return;
            };
            var $w = DayPilot.Date.today();
            var end = $w.addDays(1);
            var $x = null;
            var $y = null;
            for (var i = 0; i < $c.tasks.list.length; i++) {
                var e = $c.tasks.list[i];
                $w = new DayPilot.Date(e.start);
                end = new DayPilot.Date(e.end);
                if ($x === null || $w.getTime() < $x) {
                    $x = $w.getTime();
                };
                if ($y === null || end.getTime() > $y) {
                    $y = end.getTime();
                }
            };
            if ($x && $y) {
                $w = new DayPilot.Date($x).getDatePart();
                end = new DayPilot.Date($y).getDatePart().addDays(1);
                $d.startDate = $c.startDate || $w;
                $d.days = $c.days || DayPilot.DateUtil.daysDiff($w, end);
            } else {
                $d.startDate = $w;
                $d.days = 1;
            }
        };
        this.commandCallBack = function($z, $p) {
            $o.translate();
            $d.commandCallBack($z, $p);
        };
        this.message = function($A, $B, $C, $D) {
            $d.message($A, $B, $C, $D);
        };
        this.setHeight = function($E) {
            $d.setHeight($E);
        };
        this.$0z = function() {
            if (this.backendUrl) {
                return !DayPilot.isArray($c.tasks.list) || $c.tasks.list.length == 0;
            } else {
                return false;
            }
        };
        this.init = function() {
            $o.translate();
            $o.$0s();
            $o.$0t();
            this.$0y();
            $d.init();
            this.$0u = true;
            this.$0A();
            if (this.$0z()) {
                $d.internal.callback('Init');
            }
        };
        this.update = function() {
            $o.translate();
            $o.$0s();
            $o.$0t();
            $c.$0y();
            $d.update();
        };
        this.scrollTo = function($F) {
            $d.scrollTo($F);
        };
        this.scrollToTask = function(id) {
            $d.scrollToResource(id);
        };
        this.$0B = {};
        var $t = this.$0B;
        $t.cache = {};
        $t.clearCache = function() {
            $t.cache = {};
        };
        $t.addToCache = function($p, parent) {
            var $G = $p.id;
            if (!$G) {
                return;
            };
            var $H = {};
            $H.isTaskWrapper = true;
            $H.data = $p;
            $H.parent = parent;
            if ($t.cache[$G]) {
                throw "Duplicate task id detected";
            };
            $t.cache[$G] = $H;
        };
        $t.findInCache = function(id) {
            if (!id) {
                return null;
            };
            return $t.cache[id.toString()];
        };
        $t.getProperty = function($g, name) {
            if ($g.tags && $g.tags[name]) {
                return $g.tags[name];
            };
            return $g[name];
        };
        $t.findParentArray = function($I) {
            return $t.findInArray($c.tasks.list, $I);
        };
        $t.findInArray = function($J, $I) {
            if (DayPilot.indexOf($J, $I) !== -1) {
                return $J;
            };
            for (var i = 0; i < $J.length; i++) {
                var r = $J[i];
                if (r.children && r.children.length > 0) {
                    var parent = $t.findInArray(r.children, $I);
                    if (parent) {
                        return parent;
                    }
                }
            };
            return null;
        };
        this.$0C = {};
        var $o = this.$0C;
        var $K = function(p, $L) {
            if (typeof p !== "undefined") {
                return p;
            };
            return $L;
        };
        $o.translate = function() {
            $d.durationBarMode = "PercentComplete";
            $d.timeRangeSelectedHandling = "Disabled";
            $d.treeEnabled = true;
            $d.autoRefreshCommand = $c.autoRefreshCommand;
            $d.autoRefreshEnabled = $c.autoRefreshEnabled;
            $d.autoRefreshInterval = $c.autoRefreshInterval;
            $d.autoRefreshMaxCount = $c.autoRefreshMaxCount;
            $d.autoScroll = $c.autoScroll;
            $d.backendUrl = $c.backendUrl;
            $d.crosshairColor = $c.crosshairColor;
            $d.crosshairOpacity = $c.crosshairOpacity;
            $d.crosshairType = $c.crosshairType;
            $d.doubleClickTimeout = $c.doubleClickTimeout;
            $d.durationBarVisible = $c.completeBarVisible;
            $d.durationBarHeight = $c.completeBarHeight;
            $d.dynamicEventRendering = $c.progressiveTaskRendering ? "Progressive" : "Disabled";
            $d.dynamicEventRenderingMargin = $c.progressiveTaskRenderingMargin;
            $d.dynamicEventRenderingCacheSweeping = $c.progressiveTaskRenderingCacheSweeping;
            $d.dynamicEventRenderingCacheSize = $c.progressiveTaskRenderingCacheSize;
            $d.startDate = new DayPilot.Date($c.startDate);
            $d.days = $c.days;
            $d.cellDuration = $c.cellDuration;
            $d.cellGroupBy = $c.cellGroupBy;
            $d.cellWidth = $c.cellWidth;
            $d.cellWidthSpec = $c.cellWidthSpec;
            $d.cornerHtml = $c.cornerHtml;
            $d.eventHeight = $c.taskHeight;
            $d.eventResizeMargin = $c.taskResizeMargin;
            $d.floatingEvents = $c.floatingTasks;
            $d.floatingTimeHeaders = $c.floatingTimeHeaders;
            $d.headerHeight = $c.headerHeight;
            $d.heightSpec = $c.heightSpec;
            $d.height = $c.height;
            $d.linkBottomMargin = $c.linkBottomMargin;
            $d.linkPointSize = $c.linkPointSize;
            $d.loadingLabelVisible = $c.loadingLabelVisible;
            $d.loadingLabelText = $c.loadingLabelText;
            $d.locale = $c.locale;
            $d.messageBarPosition = $c.messageBarPosition;
            $d.messageHideAfter = $c.messageHideAfter;
            $d.rowCreateHandling = $c.rowCreateHandling;
            $d.numberFormat = $c.numberFormat;
            $d.progressiveRowRendering = $c.progressiveRowRendering;
            $d.progressiveRowRenderingPreload = $c.progressiveRowRenderingPreload;
            $d.scale = $c.scale;
            $d.scrollDelayEvents = $c.scrollDelayTasks;
            $d.scrollDelayCells = $c.scrollDelayCells;
            $d.scrollDelayFloats = $c.scrollDelayFloats;
            $d.scrollX = $c.scrollX;
            $d.scrollY = $c.scrollY;
            if ($c.scrollToTaskId) {
                $d.scrollToResourceId = $c.scrollToTaskId;
            };
            $d.separators = $c.separators;
            $d.tapAndHoldTimeout = $c.tapAndHoldTimeout;
            $d.eventMovingStartEndEnabled = $c.taskMovingStartEndEnabled;
            $d.eventMovingStartEndFormat = $c.taskMovingStartEndFormat;
            $d.eventResizingStartEndEnabled = $c.taskResizingStartEndEnabled;
            $d.eventResizingStartEndFormat = $c.taskResizingStartEndFormat;
            $d.hideUntilInit = $c.hideUntilInit;
            $d.treeIndent = $c.treeIndent;
            $d.treeAutoExpand = $c.treeAutoExpand;
            $d.treeImageMarginLeft = $c.treeImageMarginLeft;
            $d.treeImageMarginTop = $c.treeImageMarginTop;
            $d.timeHeaders = $c.timeHeaders;
            $d.rowHeaderHideIconEnabled = $c.rowHeaderHideIconEnabled;
            $d.rowHeaderScrolling = $c.rowHeaderScrolling;
            $d.rowHeaderSplitterWidth = $c.rowHeaderSplitterWidth;
            $d.rowHeaderWidth = $c.rowHeaderWidth;
            $d.rowHeaderWidthAutoFit = $c.rowHeaderWidthAutoFit;
            $d.rowMarginBottom = $c.rowMarginBottom;
            $d.rowMinHeight = $c.rowMinHeight;
            $d.selectedRows = $c.selectedRows;
            $d.theme = $c.theme;
            $d.useEventBoxes = $c.useEventBoxes;
            $d.snapToGrid = $c.snapToGrid;
            $d.uniqueID = $c.uniqueID;
            $d.bubble = $c.bubbleTask;
            $d.cellBubble = $c.bubbleCell;
            $d.resourceBubble = $c.bubbleRow;
            $d.contextMenu = $c.contextMenuTask;
            $d.contextMenuResource = $c.contextMenuRow;
            $d.contextMenuLink = $c.contextMenuLink;
            $d.syncResourceTree = $c.syncTasks;
            $d.syncLinks = $c.syncLinks;
            $d.timeline = $c.timeline;
            $d.visible = $c.visible;
            $d.eventMoveHandling = $c.taskMoveHandling;
            $d.eventClickHandling = $c.taskClickHandling;
            $d.eventResizeHandling = $c.taskResizeHandling;
            $d.linkCreateHandling = $c.linkCreateHandling;
            $d.eventRightClickHandling = $c.taskRightClickHandling;
            $d.eventDoubleClickHandling = $c.taskDoubleClickHandling;
            $d.rowMoveHandling = $c.rowMoveHandling;
            $d.rowClickHandling = $c.rowClickHandling;
            $d.rowDoubleClickHandling = $c.rowDoubleClickHandling;
            $d.rowEditHandling = $c.rowEditHandling;
            $d.rowSelectHandling = $c.rowSelectHandling;
            $d.eventVersionsEnabled = $c.taskVersionsEnabled;
            $d.eventVersionHeight = $c.taskVersionHeight;
            $d.eventVersionMargin = $c.taskVersionMargin;
            if (DayPilot.isArray($c.columns)) {
                $d.rowHeaderColumns = [];
                for (var i = 0; i < $c.columns.length; i++) {
                    var c = $c.columns[i];
                    var $M = {};
                    DayPilot.Util.copyProps(c, $M, ['title', 'width']);
                    $d.rowHeaderColumns.push($M);
                }
            };
            if ($c.$0x()) {
                $d.timeHeader = $c.timeHeader;
                $d.cellProperties = $c.cellProperties;
                $d.cellConfig = $c.cellConfig;
            };
            $d.onRowCreate = function($e) {
                if (typeof $c.onRowCreate === "function") {
                    $c.onRowCreate($e);
                }
            };
            $d.onRowCreated = function($e) {
                if (typeof $c.onRowCreated === "function") {
                    $c.onRowCreated($e);
                }
            };
            $d.onAfterRender = function($e) {
                if (typeof $c.onAfterRender === "function") {
                    $c.onAfterRender($e);
                }
            };
            $d.onAfterUpdate = function($e) {
                if (typeof $c.onAfterUpdate === "function") {
                    $c.onAfterUpdate($e);
                }
            };
            $d.onRowHeaderResized = function($e) {
                $c.rowHeaderWidth = $d.rowHeaderWidth;
            };
            $d.onAjaxError = function($e) {
                if (typeof $c.onAjaxError === "function") {
                    $c.onAjaxError($e);
                }
            };
            $d.onRowHeaderColumnResized = function($e) {
                var $N = $e.column;
                var $q = DayPilot.indexOf($d.rowHeaderColumns, $N);
                for (var i = 0; i < $c.columns.length; i++) {
                    var $M = $d.rowHeaderColumns[i];
                    var c = $c.columns[i];
                    c.width = $M.width;
                };
                if (typeof $c.onColumnResized === "function") {
                    var $O = {};
                    $O.column = $c.columns[$q];
                    $c.onColumnResized($O);
                }
            };
            $d.onBeforeRowHeaderRender = function($e) {
                $e.task = new DayPilot.Task($e.row.$.row.task, $c);
                var $P = [];
                if (DayPilot.isArray($c.columns)) {
                    for (var i = 0; i < $c.columns.length; i++) {
                        var $N = $c.columns[i];
                        var $Q = $N.property;
                        var $R = {};
                        $R.value = $t.getProperty($e.task.data, $Q);
                        if ($e.task.data.row && $e.task.data.row.columns && $e.task.data.row.columns[i]) {
                            $R.html = $e.task.data.row.columns[i].html;
                        } else {
                            $R.html = $R.value;
                        };
                        $P.push($R);
                    }
                };
                $e.row.columns = $P;
                if (typeof $c.onBeforeRowHeaderRender === "function") {
                    $c.onBeforeRowHeaderRender($e);
                };
                if (DayPilot.isArray($c.columns)) {
                    for (var i = 0; i < $c.columns.length; i++) {
                        var $A = $P[i].html;
                        if (i === 0) {
                            $e.row.html = $A;
                        } else {
                            $e.row.columns[i - 1].html = $A;
                        }
                    }
                }
            };
            $d.onBeforeCellRender = function($e) {
                $e.task = $c.tasks.find($e.cell.resource);
                delete $e.cell.resource;
                if (typeof $c.onBeforeCellRender === "function") {
                    $c.onBeforeCellRender($e);
                }
            };
            $d.onBeforeTimeHeaderRender = function($e) {
                if (typeof $c.onBeforeTimeHeaderRender === "function") {
                    $c.onBeforeTimeHeaderRender($e);
                }
            };
            $d.onEventClick = function($e) {
                $e.task = new DayPilot.Task($e.e, $c);
                if (typeof $c.onTaskClick === "function") {
                    $c.onTaskClick($e);
                }
            };
            $d.onEventClicked = function($e) {
                if (typeof $c.onTaskClicked === "function") {
                    $c.onTaskClicked($e);
                }
            };
            $d.onEventDelete = function($e) {
                if (typeof $c.onTaskDelete === "function") {
                    $c.onTaskDelete($e);
                }
            };
            $d.onEventDeleted = function($e) {
                if (typeof $c.onTaskDeleted === "function") {
                    $c.onTaskDeleted($e);
                }
            };
            $d.onEventDoubleClick = function($e) {
                $e.task = new DayPilot.Task($e.e, $c);
                if (typeof $c.onTaskDoubleClick === "function") {
                    $c.onTaskDoubleClick($e);
                }
            };
            $d.onEventDoubleClicked = function($e) {
                if (typeof $c.onTaskDoubleClicked === "function") {
                    $c.onTaskDoubleClicked($e);
                }
            };
            $d.onEventRightClick = function($e) {
                $e.task = new DayPilot.Task($e.e, $c);
                if (typeof $c.onTaskRightClick === "function") {
                    $c.onTaskRightClick($e);
                }
            };
            $d.onEventRightClicked = function($e) {
                if (typeof $c.onTaskRightClicked === "function") {
                    $c.onTaskRightClicked($e);
                }
            };
            $d.onRowMoving = function($e) {
                $e.$0D = $e.source;
                $e.$0E = $e.target;
                $e.source = new DayPilot.Task($e.$0D.$.row.task, $c);
                $e.target = new DayPilot.Task($e.$0E.$.row.task, $c);
                if (typeof $c.onRowMoving === "function") {
                    $c.onRowMoving($e);
                }
            };
            $d.onRowMove = function($e) {
                $e.$0D = $e.source;
                $e.$0E = $e.target;
                $e.source = new DayPilot.Task($e.$0D.$.row.task, $c);
                $e.target = new DayPilot.Task($e.$0E.$.row.task, $c);
                if (typeof $c.onRowMove === "function") {
                    $c.onRowMove($e);
                };
                $e.source = $e.$0D;
                $e.target = $e.$0E;
            };
            $d.onRowMoved = function($e) {
                var $S = $c.rowMoveHandling === "Update" || $c.rowMoveHandling === "Notify";
                if ($S) {
                    var $T = $e.$0D.$.row.task;
                    var $F = $e.$0E.$.row.task;
                    var $U = $e.position;
                    if ($U === "forbidden") {
                        return;
                    };
                    var $V = $t.findParentArray($T);
                    if (!$V) {
                        throw "Cannot find source node parent";
                    };
                    var $v = DayPilot.indexOf($V, $T);
                    $V.splice($v, 1);
                    var $W = $t.findParentArray($F);
                    if (!$W) {
                        throw "Cannot find target node parent";
                    };
                    var $X = DayPilot.indexOf($W, $F);
                    switch ($U) {
                        case "before":
                            $W.splice($X, 0, $T);
                            break;
                        case "after":
                            $W.splice($X + 1, 0, $T);
                            break;
                        case "child":
                            if (!$F.children) {
                                $F.children = [];
                                $F.expanded = true;
                            };
                            $F.children.push($T);
                            break;
                    };
                    $c.$0v.notify();
                    $c.update();
                };
                $e.source = new DayPilot.Task($e.$0D.$.row.task, $c);
                $e.target = new DayPilot.Task($e.$0E.$.row.task, $c);
                if (typeof $c.onRowMoved === "function") {
                    $c.onRowMoved($e);
                }
            };
            $d.onRowClick = function($e) {
                $e.task = new DayPilot.Task($e.resource.$.row.task, $c);
                if (typeof $c.onRowClick === "function") {
                    $c.onRowClick($e);
                }
            };
            $d.onRowClicked = function($e) {
                if (typeof $c.onRowClicked === "function") {
                    $c.onRowClicked($e);
                }
            };
            $d.onRowDoubleClick = function($e) {
                $e.task = new DayPilot.Task($e.resource.$.row.task, $c);
                if (typeof $c.onRowDoubleClick === "function") {
                    $c.onRowDoubleClick($e);
                }
            };
            $d.onRowDoubleClicked = function($e) {
                if (typeof $c.onRowDoubleClicked === "function") {
                    $c.onRowDoubleClicked($e);
                }
            };
            $d.onRowEdit = function($e) {
                $e.task = new DayPilot.Task($e.resource.$.row.task, $c);
                if (typeof $c.onRowEdit === "function") {
                    $c.onRowEdit($e);
                }
            };
            $d.onRowEdited = function($e) {
                if (typeof $c.onRowEdited === "function") {
                    $c.onRowEdited($e);
                }
            };
            $d.onRowSelect = function($e) {
                $e.task = new DayPilot.Task($e.row.$.row.task, $c);
                if (typeof $c.onRowSelect === "function") {
                    $c.onRowSelect($e);
                }
            };
            $d.onRowSelected = function($e) {
                if (typeof $c.onRowSelected === "function") {
                    $c.onRowSelected($e);
                }
            };
            $d.onEventMove = function($e) {
                $e._e = $e.e;
                $e.task = new DayPilot.Task($e.e, $c);
                if (typeof $c.onTaskMove === "function") {
                    $c.onTaskMove($e);
                }
            };
            $d.onEventMoved = function($e) {
                if ($c.taskGroupMode === "Auto") {
                    var e = $e._e;
                    var $g = e.data.task;
                    $g.start = e.start();
                    $g.end = e.end();
                    while (e.data.parent) {
                        var parent = $d.events.find(e.data.parent.id);
                        var $Y = $o.childrenStartEnd(e.data.parent);
                        parent.start($Y.start);
                        parent.end($Y.end);
                        $d.events.update(parent);
                        e = parent;
                    }
                };
                $c.$0v.notify();
                if (typeof $c.onTaskMoved === "function") {
                    $c.onTaskMoved($e);
                }
            };
            $d.onEventMoving = function($e) {
                $e.task = new DayPilot.Task($e.e, $c);
                $e._e = $e.e;
                delete $e.position;
                delete $e.overlapping;
                delete $e.resource;
                if (typeof $c.onTaskMoving === "function") {
                    $c.onTaskMoving($e);
                }
            };
            $d.onEventResize = function($e) {
                $e._e = $e.e;
                $e.task = new DayPilot.Task($e.e, $c);
                if (typeof $c.onTaskResize === "function") {
                    $c.onTaskResize($e);
                }
            };
            $d.onEventResized = function($e) {
                if ($c.taskGroupMode === "Auto") {
                    var e = $e._e;
                    var $g = e.data.task;
                    $g.start = e.start();
                    $g.end = e.end();
                    while (e.data.parent) {
                        var parent = $d.events.find(e.data.parent.id);
                        var $Y = $o.childrenStartEnd(e.data.parent);
                        parent.start($Y.start);
                        parent.end($Y.end);
                        $d.events.update(parent);
                        e = parent;
                    }
                };
                $c.$0v.notify();
                if (typeof $c.onTaskResized === "function") {
                    $c.onTaskResized($e);
                }
            };
            $d.onEventResizing = function($e) {
                $e.task = new DayPilot.Task($e.e, $c);
                $e._e = $e.e;
                if (typeof $c.onTaskResizing === "function") {
                    $c.onTaskResizing($e);
                }
            };
            $d.onLinkCreate = function($e) {
                $e.source = $c.tasks.find($e.from);
                $e.target = $c.tasks.find($e.to);
                if (typeof $c.onLinkCreate === "function") {
                    $c.onLinkCreate($e);
                }
            };
            $d.onLinkCreated = function($e) {
                if (typeof $c.onLinkCreated === "function") {
                    $c.onLinkCreated($e);
                }
            };
            $d.onResourceExpand = function($e) {
                var $g = $e.resource.$.row.task;
                if (!$g.row) {
                    $g.row = {};
                };
                $g.row.collapsed = false;
            };
            $d.onResourceCollapse = function($e) {
                var $g = $e.resource.$.row.task;
                if (!$g.row) {
                    $g.row = {};
                };
                $g.row.collapsed = true;
            };
        };
        $o.$0F = function($p) {
            for (var i = 0; i < $d.rowlist.length; i++) {
                var $j = $d.rowlist[i];
                if ($j.task === $p) {
                    return $d.internal.createRowObject($j);
                }
            };
            return null;
        };
        $o.$0t = function() {
            $d.links.list = $c.links.list ? $c.links.list : [];
        };
        $o.$0s = function() {
            $d.resources = [];
            $d.events.list = [];
            $t.clearCache();
            $o.$0G($c.tasks.list, $d.resources, null);
            if ($Z.sheet) {
                $Z.sheet.commit();
                $Z.sheet = null;
            }
        };
        $o.$0H = function($g) {
            var $00 = $g.type || "Task";
            if ($g.children && $g.children.length) {
                $00 = "Group";
            };
            var $p = {};
            for (var name in $g) {
                if (name === "children") {
                    continue;
                };
                $p[name] = $g[name];
            };
            var $e = {};
            $e.data = $p;
            $e.type = $00;
            if (!$p.box) {
                $p.box = {};
            };
            if (typeof $p.box.html === "undefined") {
                if ($e.type === "Task") {
                    var $01 = $p.complete || 0;
                    $p.box.html = $01 + "%";
                } else {
                    $p.box.html = "";
                }
            };
            if (typeof $p.box.htmlRight === "undefined") {
                $p.box.htmlRight = $p.text;
            };
            if (typeof $c.onBeforeTaskRender === "function") {
                $c.onBeforeTaskRender($e);
            };
            $e.type = $00;
            return $e;
        };
        var $Z = {};
        $Z.keys = {};
        $Z.sheet = null;
        $o.$0I = function($e) {
            if (!$e.data.box) {
                return;
            };
            if ($e.data.box.cssClass) {
                return;
            };
            if (!$e.data.box.backColor) {
                return;
            };
            if ($e.type === "Task") {
                return;
            };
            var $02 = DayPilot.Util.normalizeColor($e.data.box.backColor);
            var $G = $e.type + "_" + $02.replace("#", "");
            var t = $c.theme;
            var cn = $c.theme + "_" + $G;
            if (!$Z.keys[$G]) {
                $Z.keys[$G] = true;
                if (!$Z.sheet) {
                    $Z.sheet = DayPilot.sheet();
                };
                if ($e.type === "Group") {
                    $Z.sheet.add("." + cn + "." + t + "_task_group ." + t + "_event_inner", "position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: " + $02 + "; filter: none; border: 0px none;");
                    $Z.sheet.add("." + cn + "." + t + "_task_group." + t + "_event:before", "content:''; border-color: transparent transparent transparent " + $02 + "; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;");
                    $Z.sheet.add("." + cn + "." + t + "_task_group." + t + "_event:after", "content:''; border-color: transparent " + $02 + " transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;");
                } else if ($e.type === "Milestone") {
                    $Z.sheet.add("." + cn + "." + t + "_task_milestone ." + t + "_event_inner", "position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: " + $02 + "; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;");
                    $Z.sheet.add("." + cn + "." + t + "_browser_ie8 ." + t + "_task_milestone ." + t + "_event_inner", "-ms-filter: \"progid:$03.Microsoft.Matrix($04='auto expand',$05=0.7071067811865476,$06=-0.7071067811865475,$07=0.7071067811865475,$08=0.7071067811865476);\"");
                }
            };
            return cn;
        };
        $o.$0G = function($T, $F, parent) {
            if (!DayPilot.isArray($T)) {
                return;
            };
            for (var i = 0; i < $T.length; i++) {
                var $09 = $T[i];
                $t.addToCache($09, parent);
                var $e = $o.$0H($09);
                var $g = $e.data;
                var $00 = $e.type;
                var event = {};
                DayPilot.Util.copyProps($g, event, ['id', 'start', 'end', 'text', 'complete', 'tags', 'versions']);
                DayPilot.Util.copyProps($g.box, event);
                event.parent = parent;
                event.task = $09;
                event.resource = $g.id;
                if ($00 == "Group") {
                    event.type = "Group";
                    event.html = "";
                    var $Z = $o.$0I($e);
                    if ($Z) {
                        event.cssClass = (event.cssClass || "") + " " + $Z;
                        console.log(event.cssClass);
                    };
                    delete event.backColor;
                    if ($c.taskGroupMode === "Auto") {
                        var $Y = $o.childrenStartEnd($09);
                        event.start = $Y.start;
                        event.end = $Y.end;
                        event.resizeDisabled = true;
                        event.moveDisabled = true;
                    }
                } else if ($00 === "Milestone") {
                    event.html = "";
                    $09.end = $09.start;
                    var $Z = $o.$0I($e);
                    if ($Z) {
                        event.cssClass = (event.cssClass || "") + " " + $Z;
                    };
                    $g.end = $g.start;
                    event.end = $g.start;
                    event.barHidden = true;
                    event.resizeDisabled = true;
                    event.type = "Milestone";
                    event.width = $c.taskHeight;
                    delete event.backColor;
                } else if ($00 === "Task") {
                    $a();
                };
                event.moveVDisabled = true;
                event.htmlRight = $g.box.htmlRight;
                event.htmlLeft = $g.box.htmlLeft;
                $d.events.list.push(event);
                var r = {};
                r.task = $09;
                DayPilot.Util.copyProps($g.row, r);
                r.name = $g.text;
                r.id = $g.id;
                r.children = [];
                r.expanded = !$g.row || !$g.row.collapsed;
                if ($09.children && $09.children.length) {
                    $o.$0G($09.children, r.children, $09);
                };
                $F.push(r);
            }
        };
        $o.childrenStartEnd = function($g) {
            if (!$g.children || !$g.children.length) {
                var $w = $g.start;
                var end = $g.end;
                if ($g.type === "Milestone") {
                    end = $w;
                };
                return {
                    "start": new DayPilot.Date($w),
                    "end": new DayPilot.Date(end)
                };
            };
            var $w = null;
            var end = null;
            for (var i = 0; i < $g.children.length; i++) {
                var $Y = $o.childrenStartEnd($g.children[i]);
                if (!$w || $Y.start.getTime() < $w.getTime()) {
                    $w = $Y.start;
                };
                if (!end || $Y.end.getTime() > end.getTime()) {
                    end = $Y.end;
                }
            };
            return {
                "start": $w,
                "end": end
            };
        };
        this.rows = {};
        this.rows.expand = function($0a) {
            $d.rows.expand($0a);
        };
        this.rows.expandAll = function() {
            $d.rows.expandAll();
        };
        this.rows.selection = {};
        this.rows.selection.add = function($g) {
            var $j = $d.rows.find($g.data.id);
        };
        this.rows.selection.clear = function() {
            $d.rows.selection.clear();
        };
        this.rows.selection.get = function() {
            return $d.rows.selection.get().map(function($j) {
                return new DayPilot.Task($j.$.row.task, $c);
            });
        };
        this.internal = {};
        this.internal.initialized = function() {
            return $c.$0u;
        };
        this.internal.rowObjectForTaskData = $o.$0F;
        this.$0v = {};
        this.$0v.scope = null;
        this.$0v.notify = function() {
            if ($c.$0v.scope) {
                $c.$0v.scope["$apply"]();
            }
        };
        this.$0J = null;
        this.$0K = function($b) {
            var $0b = {
                "tasks": {
                    "preInit": function() {
                        var $0c = this.data;
                        if (!$0c) {
                            return;
                        };
                        if (DayPilot.isArray($0c.list)) {
                            $c.tasks.list = $0c.list;
                        } else {
                            $c.tasks.list = $0c;
                        }
                    }
                },
                "links": {
                    "preInit": function() {
                        var $0d = this.data;
                        if (!$0d) {
                            return;
                        };
                        if (DayPilot.isArray($0d.list)) {
                            $c.links.list = $0d.list;
                        } else {
                            $c.links.list = $0d;
                        }
                    }
                },
                "scrollTo": {
                    "postInit": function() {
                        if (this.data) {
                            $c.scrollTo(this.data);
                        }
                    }
                },
                "scrollToTask": {
                    "postInit": function() {
                        if (this.data) {
                            $c.scrollToTask(this.data);
                        }
                    }
                }
            };
            this.$0J = $0b;
            for (var name in $b) {
                if ($0b[name]) {
                    var $0e = $0b[name];
                    $0e.data = $b[name];
                    if ($0e.preInit) {
                        $0e.preInit();
                    }
                } else {
                    $c[name] = $b[name];
                }
            }
        };
        this.$0A = function() {
            var $0b = this.$0J;
            for (var name in $0b) {
                var $0e = $0b[name];
                if ($0e.postInit) {
                    $0e.postInit();
                }
            }
        };
        this.$0K($b);
    };
    if (typeof jQuery !== 'undefined') {
        (function($) {
            $.fn.daypilotGantt = function($b) {
                var $0f = null;
                var j = this.each(function() {
                    if (this.daypilot) {
                        return;
                    };
                    var $0g = new DayPilot.Gantt(this.id, $b);
                    $0g.init();
                    this.daypilot = $0g;
                    if (!$0f) {
                        $0f = $0g;
                    }
                });
                if (this.length === 1) {
                    return $0f;
                } else {
                    return j;
                }
            };
        })(jQuery);
    };
    (function registerAngularModule() {
        var $0h = DayPilot.am();
        if (!$0h) {
            return;
        };
        $0h.directive("daypilotGantt", ['$parse', function($0i) {
            return {
                "restrict": "E",
                "template": "<div id='{{id}};'></div>",
                "compile": function compile(element, $0j) {
                    element.replaceWith(this["template"].replace("{{id}};", $0j["id"]));
                    return function link($0k, element, $0j) {
                        var $c = new DayPilot.Gantt(element[0]);
                        $c.$0v.scope = $0k;
                        $c.init();
                        var $0l = $0j["id"];
                        if ($0l) {
                            $0k[$0l] = $c;
                        };
                        var $0m = $0j["publishAs"];
                        if ($0m) {
                            var getter = $0i($0m);
                            var setter = getter.assign;
                            setter($0k, $c);
                        };
                        for (var name in $0j) {
                            if (name.indexOf("on") === 0) {
                                (function(name) {
                                    $c[name] = function($e) {
                                        var f = $0i($0j[name]);
                                        $0k["$apply"](function() {
                                            f($0k, {
                                                "args": $e
                                            });
                                        });
                                    };
                                })(name);
                            }
                        };
                        var $0n = $0k["$watch"];
                        var $0o = $0j["config"] || $0j["daypilotConfig"];
                        $0n.call($0k, $0o, function($0p, $0q) {
                            $c.$0K($0p);
                            $c.update();
                        }, true);
                    };
                }
            };
        }]);
    })();
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
(function() {
    if (typeof DayPilot.Kanban !== 'undefined') {
        return;
    };
    DayPilot.Kanban = function(id, $a) {
        this.v = '2200';
        var $b = this;
        this.barWidth = 5;
        this.cardAutoHeight = true;
        this.cardHeight = 60;
        this.cardMarginLeft = 5;
        this.cardMarginRight = 5;
        this.cardMarginBottom = 5;
        this.columnHeaderHeight = 20;
        this.crosshairColor = "gray";
        this.height = 300;
        this.heightSpec = "Auto";
        this.theme = "kanban_default";
        this.cellMarginBottom = 4;
        this.cellMarginTop = 5;
        this.rowMinHeight = 0;
        this.swimlaneCollapsingEnabled = false;
        this.swimlaneHeaderWidth = 80;
        this.visible = true;
        this.swimlanes = {};
        this.swimlanes.list = [];
        this.columns = {};
        this.columns.list = [];
        this.cards = {};
        this.cards.list = [];
        this.cardDeleteHandling = "Disabled";
        this.cardMoveHandling = "Update";
        this.columnMoveHandling = "Disabled";
        this.swimlaneMoveHandling = "Disabled";
        this.onBeforeCellRender = null;
        this.onCardClick = null;
        this.onCardClicked = null;
        this.onCardDelete = null;
        this.onCardDeleted = null;
        this.onCardMove = null;
        this.onCardMoved = null;
        this.onColumnMove = null;
        this.onColumnMoved = null;
        this.onHeightChanged = null;
        this.onSwimlaneMove = null;
        this.onSwimlaneMoved = null;
        var $c = new DayPilot.Scheduler(id);
        this.scheduler = $c;
        var $d = {};
        var $e = 15;
        var $f = 15;
        $d.translate = function() {
            var dp = $c;
            dp.startDate = "2000-01-01";
            dp.scale = "Day";
            dp.timeHeaders = [{
                $g: "Cell",
                $h: "d"
            }];
            dp.heightSpec = $b.heightSpec;
            dp.cellWidthSpec = "Auto";
            dp.cellsMarkBusiness = false;
            dp.crosshairColor = $b.crosshairColor;
            dp.dynamicEventRendering = "Disabled";
            dp.floatingEvents = false;
            dp.floatingTimeHeaders = false;
            dp.rowMinHeight = $b.rowMinHeight;
            dp.rowMarginTop = $b.cellMarginTop;
            dp.rowMarginBottom = $b.cellMarginBottom;
            dp.eventMoveToPosition = true;
            dp.headerHeight = $b.columnHeaderHeight;
            dp.eventResizeHandling = "Disabled";
            dp.timeRangeSelectedHandling = "Disabled";
            dp.eventHeight = $b.cardHeight;
            dp.eventMarginLeft = $b.cardMarginLeft;
            dp.eventMarginRight = $b.cardMarginRight;
            dp.eventMarginBottom = $b.cardMarginBottom;
            dp.eventTextWrappingEnabled = true;
            dp.cellStacking = true;
            dp.cellStackingAutoHeight = $b.cardAutoHeight;
            dp.durationBarVisible = false;
            dp.theme = $b.theme;
            dp.visible = $b.visible;
            dp.rowHeaderWidth = $b.swimlaneHeaderWidth;
            dp.eventDeleteHandling = $b.cardDeleteHandling;
            dp.eventMoveHandling = $b.cardMoveHandling;
            dp.rowMoveHandling = DayPilot.list($b.swimlanes.list).isEmpty() ? "Disabled" : $b.swimlaneMoveHandling;
            dp.onHeightChanged = $b.onHeightChanged;
            dp.internal.cssNames.timeheadercol = "_colheadercell";
            dp.internal.cssNames.timeheadercolInner = "_colheadercell_inner";
            dp.internal.cssNames.resourcedivider = "_rowheaderdivider";
            dp.internal.cssNames.event = "_card";
            dp.internal.cssNames.eventInner = "_card_inner";
            dp.internal.cssNames.eventDelete = "_card_delete";
            dp.internal.cssNames.eventMovingSource = "_card_moving_source";
            if ($b.swimlaneCollapsingEnabled) {
                dp.rowHeaderWidthMarginRight = $e + 0;
            };
            dp.onBeforeTimeHeaderRender = function($i) {
                var $j = $b.$Z($i.header.start);
                $i.header.html = $j.name;
                $i.header.toolTip = $j.toolTip || "";
                $i.header.areas = $j.areas || [];
                DayPilot.list($i.header.areas).each(function($k) {
                    $k.target = new DayPilot.Column($j, $b);
                });
                if ($b.columnMoveHandling !== "Disabled") {
                    var $l = $b.theme + "_columnmove_handle";
                    $i.header.areas.push({
                        "left": 0,
                        "top": 0,
                        "width": 20,
                        "height": 20,
                        "css": $l,
                        "mousedown": $b.$00,
                        "action": "None"
                    });
                }
            };
            dp.onBeforeCellRender = function($i) {
                var $m = {};
                $m.cell = {};
                $m.cell.column = new DayPilot.Column($b.$Z($i.cell.start), $b);
                $m.cell.swimlane = null;
                var $n = $b.$01($i.cell.resource);
                if ($n) {
                    $m.cell.swimlane = new DayPilot.Swimlane($n, $b);
                };
                $m.cell.areas = [];
                $m.cell.cssClass = null;
                $m.cell.html = null;
                $m.cell.backImage = null;
                $m.cell.backRepeat = null;
                $m.cell.backColor = null;
                if (typeof $b.onBeforeCellRender === "function") {
                    $b.onBeforeCellRender($m);
                    DayPilot.Util.copyProps($m.cell, $i.cell, ["areas", "cssClass", "html", "backImage", "backRepeat", "backColor"]);
                    DayPilot.list($i.cell.areas).each(function($k) {
                        $k.target = {
                            "swimlane": $m.cell.swimlane,
                            "column": $m.cell.column
                        };
                    })
                };
                var $o = dp.rows.find($i.cell.resource);
                var $p = dp.resources[$o.index];
                if ($p.collapsed) {
                    if (!$i.cell.cssClass) {
                        $i.cell.cssClass = "";
                    };
                    $i.cell.cssClass += " " + $b.theme + "_collapsed";
                }
            };
            dp.onEventClick = function($i) {
                var $m = new DayPilot.Args($i);
                $m.card = new DayPilot.Card($i.e.data.card, $b);
                if (typeof $b.onCardClick === "function") {
                    $b.onCardClick($m);
                };
                $i.wrapped = $m;
            };
            dp.onEventClicked = function($i) {
                var $m = $i.wrapped;
                if (typeof $b.onCardClicked === "function") {
                    $b.onCardClicked($m);
                }
            };
            dp.onEventDelete = function($i) {
                var $m = new DayPilot.Args($i);
                $m.card = new DayPilot.Card($i.e.data.card, $b);
                if (typeof $b.onCardDelete === "function") {
                    $b.onCardDelete($m);
                };
                $i.wrapped = $m;
            };
            dp.onEventDeleted = function($i) {
                DayPilot.rfa($b.cards.list, $i.e.data.card);
                var $m = $i.wrapped;
                if (typeof $b.onCardDeleted === "function") {
                    $b.onCardDeleted($m);
                }
            };
            dp.onEventMove = function($i) {
                var $m = new DayPilot.Args($i);
                $m.card = new DayPilot.Card($i.e.data.card, $b);
                $m.column = new DayPilot.Column($b.$Z($i.newStart));
                $m.position = $i.position;
                if ($i.newResource !== "*") {
                    $m.swimlane = new DayPilot.Swimlane($b.$01($i.newResource), $b);
                } else {
                    $m.swimlane = null;
                };
                var $q = $c.cells.find($i.newStart, $i.newResource)[0].events();
                var $r = $i.position;
                var $s = null;
                var pi = $r - 1;
                while ($q[pi]) {
                    if ($q[pi].data !== $i.e.data) {
                        $s = new DayPilot.Card($q[pi]);
                        break;
                    };
                    pi -= 1;
                };
                var $t = null;
                var ni = $r;
                while ($q[ni]) {
                    if ($q[ni].data !== $i.e.data) {
                        $t = new DayPilot.Card($q[ni]);
                        break;
                    };
                    ni += 1;
                };
                $m.previous = $s;
                $m.next = $t;
                if (typeof $b.onCardMove === "function") {
                    $b.onCardMove($m);
                };
                $i.wrapped = $m;
                if ($i.preventDefault.value) {
                    return;
                };
                var $u = 0;
                if ($t) {
                    $u = $t.wrapped.data.sort[0];
                } else if ($s) {
                    $u = $s.wrapped.data.sort[0];
                };
                $i.e.data.sort = [$u, new DayPilot.Date().toString()];
                DayPilot.rfa($b.cards.list, $i.e.data.card);
                var $v = 0;
                if ($t) {
                    $v = DayPilot.indexOf($b.cards.list, $t.data);
                } else if ($s) {
                    $v = DayPilot.indexOf($b.cards.list, $s.data) + 1;
                };
                $b.cards.list.splice($v, 0, $i.e.data.card);
                $d.updateSort();
            };
            dp.onEventMoved = function($i) {
                var $m = $i.wrapped;
                var $w = DayPilot.list($b.cards.list).find(function($x) {
                    return $i.e.data.card === $x;
                });
                $w.swimlane = $m.swimlane ? $m.swimlane.data.id : null;
                $w.column = $m.column.data.id;
                if (typeof $b.onCardMoved === "function") {
                    $b.onCardMoved($m);
                }
            };
            dp.onBeforeResHeaderRender = function($i) {
                if (!$b.swimlaneCollapsingEnabled) {
                    return;
                };
                var $y = DayPilot.list($b.swimlanes.list).isEmpty();
                if ($y) {
                    return;
                };
                var $l = $b.theme + "_swimlane_collapse";
                if ($i.resource.collapsed) {
                    $l = $b.theme + "_swimlane_expand";
                };
                $i.resource.areas = [{
                    "right": 0,
                    "top": 0,
                    "height": $f,
                    "width": $e,
                    "action": "JavaScript",
                    "css": $l,
                    "js": function() {
                        $b.$02($i.resource.index);
                    }
                }];
            };
            dp.onRowMove = function($i) {
                var $m = new DayPilot.Args($i);
                $i.wrapped = $m;
                $m.swimlane = new DayPilot.Swimlane($i.source.$.row.swimlane);
                var $r = 0;
                switch ($i.position) {
                    case "before":
                        $r = $i.target.index;
                        break;
                    case "after":
                        $r = $i.target.index + 1;
                        break;
                    default:
                        throw "Unexpected target swimlane position: " + $i.position;
                        break;
                };
                $m.position = $r;
                $m.previous = null;
                var pi = $r - 1;
                while ($c.rowlist[pi] && $c.rowlist[pi].swimlane !== $m.swimlane.data) {
                    $m.previous = new DayPilot.Swimlane($c.rowlist[pi].swimlane);
                    pi -= 1;
                };
                $m.next = null;
                var ni = $r;
                while ($c.rowlist[ni] && $c.rowlist[ni].swimlane !== $m.swimlane.data) {
                    $m.next = new DayPilot.Swimlane($c.rowlist[ni].swimlane);
                    ni += 1;
                };
                if (typeof $b.onSwimlaneMove === "function") {
                    $b.onSwimlaneMove($m);
                }
            };
            dp.onRowMoved = function($i) {
                var $m = $i.wrapped;
                DayPilot.rfa($b.swimlanes.list, $m.swimlane.data);
                var $v = 0;
                if ($m.next) {
                    $v = DayPilot.indexOf($b.swimlanes.list, $m.next.data);
                } else if ($m.previous) {
                    $v = DayPilot.indexOf($b.swimlanes.list, $m.previous.data) + 1;
                };
                $b.swimlanes.list.splice($v, 0, $m.swimlane.data);
                if (typeof $b.onSwimlaneMoved === "function") {
                    $b.onSwimlaneMoved($m);
                }
            };
            dp.treePreventParentUsage = true;
        };
        $d.loadCards = function() {
            var $z = new DayPilot.Date("2000-01-01");
            var $A = $b.theme + "_card_header";
            var $B = $b.theme + "_card_body";
            var $C = new DayPilot.Date().toString();
            $c.sortDirections = ["asc", "desc"];
            $c.events.list = DayPilot.list($b.cards.list).map(function($D, i) {
                var $E = $D.html || $D.text || "";
                var name = $D.name || "";
                var $F = {};
                $F.id = $D.id;
                $F.text = $D.text;
                $F.html = "<div class='" + $A + "'>" + name + "</div><div class='" + $B + "'>" + $E + "</div>";
                $F.resource = $D.swimlane;
                $F.start = $z.addDays(DayPilot.list($b.columns.list).findIndex(function($x) {
                    return $D.column === $x.id;
                }));
                $F.end = $F.start.addDays(1);
                $F.card = $D;
                $F.height = $D.height;
                $F.cssClass = $D.cssClass;
                $F.sort = [i, $C];
                $F.areas = DayPilot.list($D.areas).map(function($x) {
                    var $G = {};
                    DayPilot.Util.copyProps($x, $G);
                    if ($x.js) {
                        $G.js = function(e) {
                            $x.js(new DayPilot.Card(e.data.card, $b));
                        };
                    };
                    return $G;
                });
                $F.areas.push({
                    "left": 0,
                    "width": 5,
                    "top": 0,
                    "bottom": 0,
                    "backColor": $D.barColor,
                    "cssClass": $b.theme + "_card_bar"
                });
                return $F;
            });
        };
        $d.updateSort = function() {
            var $C = new DayPilot.Date().toString();
            DayPilot.list($b.cards.list).each(function($x, i) {
                var $H = $d.findSchedulerEventData($x);
                if ($H) {
                    $H.sort = [i, $C];
                }
            });
        };
        $d.findSchedulerEventData = function($I) {
            return DayPilot.list($c.events.list).find(function($H) {
                return $H.card === $I;
            });
        };
        $d.loadSwimlanes = function() {
            var $J = 20;
            var $K = DayPilot.list($b.swimlanes.list);
            $c.resources = $K.map(function($L) {
                var $x = {};
                $x.name = $L.name;
                $x.id = $L.id;
                $x.swimlane = $L;
                if ($L.collapsed) {
                    $x.collapsed = true;
                    $x.eventHeight = $J;
                    $x.id = null;
                };
                return $x;
            });
            if ($K.isEmpty()) {
                $c.resources = [{
                    name: "",
                    id: "*"
                }];
            }
        };
        $d.loadColumns = function() {
            var $M = DayPilot.list($b.columns.list);
            $c.days = $M.length;
        };
        var $N = {};
        $N.active = null;
        $N.div = null;
        $N.update = function() {
            $N.clear();
            var $v = $N.findPosition();
            $N.draw($v);
        };
        $N.clear = function() {
            DayPilot.de($N.div);
            $N.div = null;
        };
        $N.draw = function($v) {
            var $O = 0;
            if ($v >= $c.itline.length) {
                var $P = $c.itline[$c.itline.length - 1];
                $O = $P.left + $P.width - 3;
            } else {
                $O = $c.itline[$v].left;
            };
            var $Q = document.createElement("div");
            $Q.style.position = "absolute";
            $Q.style.left = $O + "px";
            $Q.style.width = "3px";
            $Q.style.top = 0;
            $Q.style.height = $c.headerHeight + "px";
            $Q.className = $b.theme + "_columnmove_position";
            $N.div = $Q;
            $c.nav.timeHeader.appendChild($Q);
        };
        $N.findPosition = function() {
            if ($b.coords.x < 0) {
                return 0;
            };
            var $v = DayPilot.list($c.itline).findIndex(function($x) {
                var $O = $x.left + $c.rowHeaderWidth;
                var $R = $x.width;
                return $b.coords.x < ($O + $R / 2);
            });
            if ($v === -1) {
                return $c.itline.length;
            };
            return $v;
        };
        this.$00 = function($i) {
            $N.active = $i;
        };
        this.$Z = function($S) {
            return $b.columns.list[$S.getDay() - 1];
        };
        this.$01 = function(id) {
            return DayPilot.list($b.swimlanes.list).find(function($x) {
                return $x.id === id;
            });
        };
        this.message = function($E, $T, $U, $V) {
            $c.message($E, $T, $U, $V);
        };
        this.show = function() {
            $b.visible = true;
            $c.show();
        };
        this.hide = function() {
            $b.visible = false;
            $c.hide();
        };
        this.cards.add = function($D) {
            var $F = null;
            if ($D && $D instanceof DayPilot.Card) {
                $F = $D.data;
            } else {
                $F = $D;
            };
            if (!$D) {
                return;
            };
            $b.cards.list.push($F);
            $b.update();
        };
        this.cards.remove = function($D) {
            var $F = null;
            if ($D && $D instanceof DayPilot.Card) {
                $F = $D.data;
            } else {
                $F = $D;
            };
            if (!$D) {
                return;
            };
            DayPilot.rfa($b.cards.list, $D);
            $b.update();
        };
        this.cards.update = function($D) {
            $b.update();
        };
        this.$02 = function(i) {
            if (!DayPilot.list($b.swimlanes.list).isEmpty()) {
                $b.swimlanes.list[i].collapsed = !$b.swimlanes.list[i].collapsed;
            };
            $b.update();
        };
        this.init = function() {
            $d.translate();
            $d.loadSwimlanes();
            $d.loadColumns();
            $d.loadCards();
            $c.init();
            $b.$03();
            this.$04 = true;
        };
        this.update = function() {
            $d.translate();
            $d.loadSwimlanes();
            $d.loadColumns();
            $d.loadCards();
            $c.update();
        };
        this.$03 = function() {
            DayPilot.re(document, 'mouseup', $b.$05);
            DayPilot.re(document, 'mousemove', $b.$06);
        };
        this.$06 = function(ev) {
            $b.coords = DayPilot.mo3($c.nav.top, ev);
            if ($N.active) {
                $N.update();
            }
        };
        this.$05 = function(ev) {
            if (!$N.active) {
                return;
            };
            var $w = $N.active.source;
            var $W = $N.findPosition();
            var $j = $b.$Z($w.start);
            var $i = new DayPilot.Args();
            $i.column = new DayPilot.Column($j, $b);
            $i.position = $W;
            $i.previous = null;
            $i.next = null;
            var $s = null;
            var $X = $i.position;
            while ($X !== 0 && !$s) {
                if ($j !== $b.columns.list[$X - 1]) {
                    $s = $b.columns.list[$X - 1]
                };
                $X -= 1;
            };
            if ($s) {
                $i.previous = new DayPilot.Column($s, $b);
            };
            var $t = null;
            $X = $i.position;
            while ($X < $b.columns.list.length - 1 && !$t) {
                if ($j !== $b.columns.list[$X]) {
                    $t = $b.columns.list[$X];
                };
                $X += 1;
            };
            if ($t) {
                $i.next = new DayPilot.Column($t, $b);
            };
            if (typeof $b.onColumnMove === "function") {
                $b.onColumnMove($i);
            };
            if (!$i.preventDefault.value) {
                if ($b.columnMoveHandling === "Update") {
                    DayPilot.rfa($b.columns.list, $i.column.data);
                    var $v = 0;
                    if ($i.next) {
                        $v = DayPilot.indexOf($b.columns.list, $i.next.data);
                    } else if ($i.previous) {
                        $v = DayPilot.indexOf($b.columns.list, $i.previous.data) + 1;
                    };
                    $b.columns.list.splice($v, 0, $i.column.data);
                    $b.update();
                };
                if (typeof $b.onColumnMoved === "function") {
                    $b.onColumnMove($i);
                }
            };
            $N.active = null;
            $N.clear();
        };
    };
    DayPilot.Card = function($F, $Y) {
        if ($F instanceof DayPilot.Event) {
            var e = $F;
            this.data = e.data.card;
            this.wrapped = $F;
        } else {
            this.data = $F;
        };
        this.control = $Y;
    };
    DayPilot.Column = function($F, $Y) {
        this.data = $F;
        this.control = $Y;
    };
    DayPilot.Swimlane = function($F, $Y) {
        this.data = $F;
        this.control = $Y;
    };
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
if (typeof DayPilotMenu === 'undefined') {
    var DayPilotMenu = DayPilot.MenuVisible = {};
};
(function() {
    if (typeof DayPilot.Menu !== 'undefined') {
        return;
    };
    var DayPilotMenu = {};
    DayPilotMenu.mouse = null;
    DayPilotMenu.menu = null;
    DayPilotMenu.handlersRegistered = false;
    DayPilotMenu.hideTimeout = null;
    DayPilotMenu.waitingSubmenu = null;
    DayPilot.Menu = function($a) {
        var $b = this;
        this.v = '2200';
        this.zIndex = 10;
        this.useShadow = true;
        this.cssClassPrefix = "menu_default";
        this.cssOnly = true;
        this.menuTitle = null;
        this.showMenuTitle = false;
        this.hideOnMouseOut = false;
        this.$K = function() {};
        if ($a && DayPilot.isArray($a)) {
            this.items = $a;
        };
        this.show = function(e, $c) {
            var $c = $c || {};
            var $d = null;
            if (typeof e.id === 'string' || typeof e.id === 'number') {
                $d = e.id;
            } else if (typeof e.id === 'function') {
                $d = e.id();
            } else if (typeof e.value === 'function') {
                $d = e.value();
            };
            if (typeof(DayPilot.Bubble) !== 'undefined') {
                DayPilot.Bubble.hideActive();
            };
            if (!$c.submenu) {
                DayPilotMenu.menuClean();
            };
            this.$K.submenu = null;
            if (DayPilotMenu.mouse === null) {
                return;
            };
            if (!$b.cssOnly) {
                $b.cssOnly = true;
                DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.");
            };
            var $e = document.createElement("div");
            $e.style.position = "absolute";
            $e.style.top = "0px";
            $e.style.left = "0px";
            $e.style.display = 'none';
            $e.style.overflow = 'hidden';
            $e.style.zIndex = this.zIndex + 1;
            $e.className = this.applyCssClass('main');
            $e.onclick = function(ev) {
                ev.cancelBubble = true;
                this.parentNode.removeChild(this);
            };
            if (this.hideOnMouseOut) {
                $e.onmousemove = function(ev) {
                    clearTimeout(DayPilotMenu.hideTimeout);
                };
                $e.onmouseout = function(ev) {
                    $b.delayedHide();
                };
            };
            if (!this.items || this.items.length === 0) {
                throw "No menu items defined.";
            };
            if (this.showMenuTitle) {
                var title = document.createElement("div");
                title.innerHTML = this.menuTitle;
                title.className = this.applyCssClass("title");
                $e.appendChild(title);
            };
            for (var i = 0; i < this.items.length; i++) {
                var mi = this.items[i];
                var $f = document.createElement("div");
                DayPilot.Util.addClass($f, this.applyCssClass("item"));
                if (mi.items) {
                    DayPilot.Util.addClass($f, this.applyCssClass("item_haschildren"));
                };
                if (typeof mi === 'undefined') {
                    continue;
                };
                if (mi.hidden) {
                    continue;
                };
                if (mi.text === '-') {
                    var $g = document.createElement("div");
                    $f.appendChild($g);
                } else {
                    var $h = document.createElement("a");
                    $h.style.position = 'relative';
                    $h.style.display = "block";
                    if (mi.cssClass) {
                        DayPilot.Util.addClass($h, mi.cssClass);
                    };
                    if (mi.disabled) {
                        DayPilot.Util.addClass($h, $b.applyCssClass("item_disabled"));
                    } else if (mi.href) {
                        $h.href = mi.href.replace(/\x7B0\x7D/gim, $d);
                        if (mi.target) {
                            $h.setAttribute("target", mi.target);
                        }
                    } else if (mi.onclick) {
                        $h.item = mi;
                        $h.onclick = mi.onclick;
                        var $i = function(mi, $h) {
                            return function(e) {
                                e.stopPropagation();
                                e.preventDefault();
                                mi.onclick.call($h, e);
                                DayPilotMenu.menuClean();
                                window.setTimeout(function() {
                                    $h.source.calendar.internal.touch.active = false;
                                }, 500);
                            };
                        };
                        $h.ontouchstart = function(ev) {
                            ev.stopPropagation();
                            ev.preventDefault();
                            $h.source.calendar.internal.touch.active = true;
                        };
                        $h.ontouchend = $i(mi, $h);
                    } else if (mi.command) {
                        var $j = function(mi, $h) {
                            return function(e) {
                                var $k = $h.source;
                                var $f = mi;
                                $f.action = $f.action ? $f.action : 'CallBack';
                                var $l = $k.calendar || $k.root;
                                if ($k instanceof DayPilot.Link) {
                                    $l.internal.linkMenuClick($f.command, $k, $f.action);
                                    return;
                                } else if ($k instanceof DayPilot.Selection) {
                                    $l.internal.timeRangeMenuClick($f.command, $k, $f.action);
                                    return;
                                } else if ($k instanceof DayPilot.Event) {
                                    $l.internal.eventMenuClick($f.command, $k, $f.action);
                                    return;
                                } else if ($k instanceof DayPilot.Selection) {
                                    $l.internal.timeRangeMenuClick($f.command, $k, $f.action);
                                    return;
                                } else if ($k instanceof DayPilot.Task) {
                                    if ($k.menuType === "resource") {
                                        $l.internal.resourceHeaderMenuClick($f.command, $h.menuSource, $f.action);
                                    } else {
                                        $l.internal.eventMenuClick($f.command, $h.menuSource, $f.action);
                                    };
                                    return;
                                } else {
                                    switch ($k.menuType) {
                                        case 'resource':
                                            $l.internal.resourceHeaderMenuClick($f.command, $k, $f.action);
                                            return;
                                        case 'selection':
                                            $l.internal.timeRangeMenuClick($f.command, $k, $f.action);
                                            return;
                                        default:
                                            $l.internal.eventMenuClick($f.command, $k, $f.action);
                                            return;
                                    }
                                };
                                e.preventDefault();
                            };
                        };
                        $h.onclick = $j(mi, $h);
                        $h.ontouchend = $j(mi, $h);
                    };
                    if (e && e.isRow && e.$.row.task) {
                        $h.source = new DayPilot.Task(e.$.row.task, e.calendar);
                        $h.source.menuType = "resource";
                    } else if (e && e.isEvent && e.data.task) {
                        $h.source = new DayPilot.Task(e, e.calendar);
                    } else {
                        $h.source = e;
                    };
                    $h.menuSource = e;
                    var $m = document.createElement("span");
                    $m.innerHTML = mi.text;
                    $h.appendChild($m);
                    if (mi.image) {
                        var $n = document.createElement("img");
                        $n.src = mi.image;
                        $n.style.position = 'absolute';
                        $n.style.top = '0px';
                        $n.style.left = '0px';
                        $h.appendChild($n);
                    };
                    var $o = function(mi, $h) {
                        return function() {
                            var $k = $h.source;
                            var $f = mi;
                            var ws = DayPilotMenu.waitingSubmenu;
                            if (ws) {
                                if (ws.parent === $f) {
                                    return;
                                } else {
                                    clearTimeout(ws.timeout);
                                    DayPilotMenu.waitingSubmenu = null;
                                }
                            };
                            DayPilotMenu.waitingSubmenu = {};
                            DayPilotMenu.waitingSubmenu.parent = $f;
                            DayPilotMenu.waitingSubmenu.timeout = setTimeout(function() {
                                DayPilotMenu.waitingSubmenu = null;
                                if ($b.$K.submenu && $b.$K.submenu.item === $f) {
                                    return;
                                };
                                if ($b.$K.submenu && $b.$K.submenu.item !== $f) {
                                    DayPilot.Util.removeClass($b.$K.submenu.link.parentNode, $b.applyCssClass("item_haschildren_active"));
                                    $b.$K.submenu.menu.hide();
                                    $b.$K.submenu = null;
                                };
                                if (!$f.items) {
                                    return;
                                };
                                var $c = $b.cloneOptions();
                                $c.items = $f.items;
                                $b.$K.submenu = {};
                                $b.$K.submenu.menu = new DayPilot.Menu($c);
                                $b.$K.submenu.menu.show($k, {
                                    "submenu": true,
                                    "parentLink": $h,
                                    "parentItem": mi
                                });
                                $b.$K.submenu.item = $f;
                                $b.$K.submenu.link = $h;
                                DayPilot.Util.addClass($h.parentNode, $b.applyCssClass("item_haschildren_active"));
                            }, 300);
                        };
                    };
                    $h.onmouseover = $o(mi, $h);
                    $f.appendChild($h);
                };
                $e.appendChild($f);
            };
            var $p = function(e) {
                window.setTimeout(function() {
                    DayPilotMenu.menuClean();
                }, 100);
            };
            $e.onclick = $p;
            $e.ontouchend = $p;
            $e.onmousedown = function(e) {
                e = e || window.event;
                e.cancelBubble = true;
                if (e.stopPropagation) e.stopPropagation();
            };
            $e.oncontextmenu = function() {
                return false;
            };
            document.body.appendChild($e);
            $b.$K.visible = true;
            $b.$K.source = e;
            $e.style.display = '';
            var $q = $e.offsetHeight;
            var $r = $e.offsetWidth;
            $e.style.display = 'none';
            var $s = document.documentElement.clientHeight;
            var $t = document.documentElement.clientWidth;
            (function ajdustPosition() {
                var x = DayPilotMenu.mouse.x + 1;
                var y = DayPilotMenu.mouse.y + 1;
                if (DayPilotMenu.mouse.clientY > $s - $q && $s !== 0) {
                    var $u = DayPilotMenu.mouse.clientY - ($s - $q) + 5;
                    $e.style.top = (y - $u) + 'px';
                } else {
                    $e.style.top = y + 'px';
                };
                if (DayPilotMenu.mouse.clientX > $t - $r && $t !== 0) {
                    var $v = DayPilotMenu.mouse.clientX - ($t - $r) + 5;
                    $e.style.left = (x - $v) + 'px';
                } else {
                    $e.style.left = x + 'px';
                }
            })();
            if ($c.parentLink) {
                var parent = $c.parentLink;
                var $w = parseInt(new DayPilot.StyleReader($e).get("border-top-width"));
                var $x = DayPilot.abs($c.parentLink.parentNode);
                var x = $x.x + parent.offsetWidth;
                var y = $x.y - $w;
                if (x + $r > $t) {
                    x = Math.max(0, $x.x - $r);
                };
                var $y = document.body.scrollTop + document.documentElement.scrollTop;
                if (y + $q - $y > $s) {
                    y = Math.max(0, $s - $q + $y);
                };
                $e.style.left = x + "px";
                $e.style.top = y + "px";
            };
            $e.style.display = '';
            this.addShadow($e);
            this.$K.div = $e;
            if (!$c.submenu) {
                DayPilot.Menu.active = this;
            }
        };
        this.applyCssClass = function($z) {
            var $A = this.theme || this.cssClassPrefix;
            var $B = (this.cssOnly ? "_" : "");
            if ($A) {
                return $A + $B + $z;
            } else {
                return "";
            }
        };
        this.cloneOptions = function() {
            var $c = {};
            var $C = ['cssOnly', 'cssClassPrefix', 'useShadow', 'zIndex'];
            for (var i = 0; i < $C.length; i++) {
                var p = $C[i];
                $c[p] = this[p];
            };
            return $c;
        };
        this.hide = function() {
            if (this.$K.submenu) {
                this.$K.submenu.menu.hide();
            };
            this.removeShadow();
            if (this.$K.div && this.$K.div.parentNode === document.body) {
                document.body.removeChild(this.$K.div);
            };
            $b.$K.visible = false;
            $b.$K.source = null;
        };
        this.delayedHide = function() {
            DayPilotMenu.hideTimeout = setTimeout(function() {
                $b.hide();
            }, 200);
        };
        this.cancelHideTimeout = function() {
            clearTimeout(DayPilotMenu.hideTimeout);
        };
        this.init = function(ev) {
            DayPilotMenu.mouseMove(ev);
        };
        this.addShadow = function($D) {
            if (!this.useShadow || this.cssOnly) {
                return;
            };
            if (!$D) {
                return;
            };
            if (this.$K.shadows && this.$K.shadows.length > 0) {
                this.removeShadow();
            };
            this.$K.shadows = [];
            for (var i = 0; i < 5; i++) {
                var $E = document.createElement('div');
                $E.style.position = 'absolute';
                $E.style.width = $D.offsetWidth + 'px';
                $E.style.height = $D.offsetHeight + 'px';
                $E.style.top = $D.offsetTop + i + 'px';
                $E.style.left = $D.offsetLeft + i + 'px';
                $E.style.zIndex = this.zIndex;
                $E.style.filter = 'alpha(opacity:10)';
                $E.style.opacity = 0.1;
                $E.style.backgroundColor = '#000000';
                document.body.appendChild($E);
                this.$K.shadows.push($E);
            }
        };
        this.removeShadow = function() {
            if (!this.$K.shadows) {
                return;
            };
            for (var i = 0; i < this.$K.shadows.length; i++) {
                document.body.removeChild(this.$K.shadows[i]);
            };
            this.$K.shadows = [];
        };
        var $c = DayPilot.isArray($a) ? null : $a;
        if ($c) {
            for (var name in $c) {
                this[name] = $c[name];
            }
        }
    };
    DayPilotMenu.menuClean = function() {
        if (typeof(DayPilot.Menu.active) === 'undefined') return;
        if (DayPilot.Menu.active) {
            DayPilot.Menu.active.hide();
            DayPilot.Menu.active = null;
        }
    };
    DayPilotMenu.mouseDown = function(ev) {
        if (typeof(DayPilotMenu) === 'undefined') {
            return;
        };
        DayPilotMenu.menuClean();
    };
    DayPilotMenu.mouseMove = function(ev) {
        if (typeof(DayPilotMenu) === 'undefined') {
            return;
        };
        DayPilotMenu.mouse = DayPilotMenu.mousePosition(ev);
    };
    DayPilotMenu.touchMove = function(ev) {
        if (typeof(DayPilotMenu) === 'undefined') {
            return;
        };
        DayPilotMenu.mouse = DayPilotMenu.touchPosition(ev);
    };
    DayPilotMenu.touchStart = function(ev) {
        if (typeof(DayPilotMenu) === 'undefined') {
            return;
        };
        DayPilotMenu.mouse = DayPilotMenu.touchPosition(ev);
    };
    DayPilotMenu.touchEnd = function(ev) {};
    DayPilotMenu.touchPosition = function(ev) {
        if (!ev || !ev.touches) {
            return null;
        };
        var $F = ev.touches[0];
        var $G = {};
        $G.x = $F.pageX;
        $G.y = $F.pageY;
        $G.clientX = $F.clientX;
        $G.clientY = $F.clientY;
        return $G;
    };
    DayPilotMenu.mousePosition = function(e) {
        var $H = 0;
        var $I = 0;
        if (!e) var e = window.event;
        if (e.pageX || e.pageY) {
            $H = e.pageX;
            $I = e.pageY;
        } else if (e.clientX || e.clientY) {
            $H = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;
            $I = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;
        };
        var $J = {};
        $J.x = $H;
        $J.y = $I;
        $J.clientY = e.clientY;
        $J.clientX = e.clientX;
        return $J;
    };
    DayPilot.Menu.touchPosition = function(ev) {
        if (ev.touches) {
            DayPilotMenu.mouse = DayPilotMenu.touchPosition(ev);
        }
    };
    DayPilot.MenuVisible.Menu = DayPilotMenu.Menu;
    if (!DayPilotMenu.handlersRegistered) {
        DayPilot.re(document, 'mousemove', DayPilotMenu.mouseMove);
        DayPilot.re(document, 'mousedown', DayPilotMenu.mouseDown);
        DayPilot.re(document, 'touchmove', DayPilotMenu.touchMove);
        DayPilot.re(document, 'touchstart', DayPilotMenu.touchStart);
        DayPilot.re(document, 'touchend', DayPilotMenu.touchEnd);
        DayPilotMenu.handlersRegistered = true;
    };
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();

if (typeof(DayPilot) === 'undefined') {
    DayPilot = {};
};
(function() {
    DayPilot.ModalStatic = {};
    DayPilot.ModalStatic.list = [];
    DayPilot.ModalStatic.hide = function() {
        if (this.list.length > 0) {
            var $a = this.list.pop();
            if ($a) {
                $a.hide();
            }
        }
    };
    DayPilot.ModalStatic.remove = function($b) {
        var $c = DayPilot.ModalStatic.list;
        for (var i = 0; i < $c.length; i++) {
            if ($c[i] === $b) {
                $c.splice(i, 1);
                return;
            }
        }
    };
    DayPilot.ModalStatic.close = function($d) {
        DayPilot.ModalStatic.result($d);
        DayPilot.ModalStatic.hide();
    };
    DayPilot.ModalStatic.result = function(r) {
        var $c = DayPilot.ModalStatic.list;
        if ($c.length > 0) {
            $c[$c.length - 1].result = r;
        }
    };
    DayPilot.ModalStatic.displayed = function($b) {
        var $c = DayPilot.ModalStatic.list;
        for (var i = 0; i < $c.length; i++) {
            if ($c[i] === $b) {
                return true;
            }
        };
        return false;
    };
    DayPilot.ModalStatic.stretch = function() {
        if (this.list.length > 0) {
            var $a = this.list[this.list.length - 1];
            if ($a) {
                $a.stretch();
            }
        }
    };
    var $e = (navigator && navigator.userAgent && navigator.userAgent.indexOf("MSIE") !== -1);
    DayPilot.Modal = function($f) {
        this.autoStretch = true;
        this.autoStretchFirstLoadOnly = false;
        this.border = "10px solid #ccc";
        this.corners = 'Rounded';
        this.className = null;
        this.dragDrop = true;
        this.height = 200;
        this.loadingHtml = null;
        this.maxHeight = null;
        this.opacity = 30;
        this.scrollWithPage = true;
        this.top = 20;
        this.useIframe = true;
        this.width = 500;
        this.zIndex = null;
        this.closed = null;
        this.onClosed = null;
        var $g = this;
        this.id = '_' + new Date().getTime() + 'n' + (Math.random() * 10);
        this.registered = false;
        this.start = null;
        this.coords = null;
        this.showHtml = function($h) {
            if (DayPilot.ModalStatic.displayed(this)) {
                throw "This modal dialog is already displayed.";
            };
            if (!this.div) {
                this.create();
            };
            this.update();
            if (this.useIframe) {
                var $i = function(p, $j) {
                    return function() {
                        p.setInnerHTML(p.id + "iframe", $j);
                    };
                };
                window.setTimeout($i(this, $h), 0);
            } else {
                if ($h.nodeType) {
                    this.div.appendChild($h);
                } else {
                    this.div.innerHTML = $h;
                }
            };
            this.update();
            this.register();
        };
        this.rounded = function() {
            return this.corners && this.corners.toLowerCase() === 'rounded';
        };
        this.showUrl = function($k) {
            if (DayPilot.ModalStatic.displayed(this)) {
                throw "This modal dialog is already displayed.";
            };
            this.useIframe = true;
            if (!this.div) {
                this.create();
            };
            var $l = this.loadingHtml;
            if ($l) {
                this.iframe.src = "about:blank";
                this.setInnerHTML(this.id + "iframe", $l);
            };
            this.re(this.iframe, "load", this.onIframeLoad);
            this.iframe.src = $k;
            this.update();
            this.register();
        };
        this.update = function() {
            var $m = window;
            var $n = document;
            var scrollY = $m.pageYOffset ? $m.pageYOffset : (($n.documentElement && $n.documentElement.scrollTop) ? $n.documentElement.scrollTop : $n.body.scrollTop);
            var $o = function() {
                return $g.windowRect().y;
            };
            this.hideDiv.style.filter = "alpha(opacity=" + this.opacity + ")";
            this.hideDiv.style.opacity = "0." + this.opacity;
            this.hideDiv.style.backgroundColor = "black";
            if (this.zIndex) {
                this.hideDiv.style.zIndex = this.zIndex;
            };
            this.hideDiv.style.display = '';
            window.setTimeout(function() {
                $g.hideDiv.onclick = function() {
                    $g.hide();
                };
            }, 500);
            this.div.className = this.className;
            this.div.style.border = this.border;
            if (this.rounded()) {
                this.div.style.MozBorderRadius = "5px";
                this.div.style.webkitBorderRadius = "5px";
                this.div.style.borderRadius = "5px";
            };
            this.div.style.marginLeft = '-' + Math.floor(this.width / 2) + "px";
            this.div.style.position = 'absolute';
            this.div.style.top = (scrollY + this.top + 30) + 'px';
            this.div.style.width = (this.width + 500) + 'px';
            if (this.zIndex) {
                this.div.style.zIndex = this.zIndex;
            };
            if (this.height) {
                if (this.useIframe || !this.autoStretch) {
                    this.div.style.height = (this.height + 20) + 'px';
                } else {
                    this.div.style.height = '';
                }
            };
            if (this.useIframe && this.height) {
                this.iframe.style.height = (this.height) + 'px';
            };
            this.div.style.display = '';
            DayPilot.ModalStatic.list.push(this);
        };
        this.onIframeLoad = function() {
            $g.iframe.contentWindow.modal = $g;
            if ($g.autoStretch) {
                $g.stretch();
            }
        };
        this.stretch = function() {
            var $o = function() {
                return $g.windowRect().y;
            };
            var $p = function() {
                return $g.windowRect().x;
            };
            if (this.useIframe) {
                var $q = $p() - 40;
                for (var w = this.width; w < $q && this.hasHorizontalScrollbar(); w += 10) {
                    this.div.style.width = (w + 500) + 'px';
                    this.div.style.marginLeft = '-' + Math.floor(w / 2) + "px";
                };
                var $r = this.maxHeight || $o() - 2 * this.top;
                for (var h = this.height; h < $r && this.hasVerticalScrollbar(); h += 10) {
                    this.iframe.style.height = (h) + 'px';
                    this.div.style.height = (h + 20) + 'px';
                };
                if (this.autoStretchFirstLoadOnly) {
                    this.ue(this.iframe, "load", this.onIframeLoad);
                }
            } else {
                console.log("clearing height style");
                this.div.style.height = '';
            }
        };
        this.hasHorizontalScrollbar = function() {
            var document = this.iframe.contentWindow.document;
            var $s = document.compatMode === 'BackCompat' ? document.body : document.documentElement;
            var $t = $s.scrollWidth;
            var $u = document.body.children;
            for (var i = 0; i < $u.length; i++) {
                var $v = $u[i].offsetLeft + $u[i].offsetWidth;
                $t = Math.max($t, $v);
            };
            var $w = $t > $s.clientWidth;
            return $w;
        };
        this.hasVerticalScrollbar = function() {
            var document = this.iframe.contentWindow.document;
            var $s = document.compatMode === 'BackCompat' ? document.body : document.documentElement;
            var $x = $s.scrollHeight;
            var $u = document.body.children;
            for (var i = 0; i < $u.length; i++) {
                var $v = $u[i].offsetTop + $u[i].offsetHeight;
                $x = Math.max($x, $v);
            };
            var $y = $x > $s.clientHeight;
            return $y;
        };
        this.windowRect = function() {
            var $n = document;
            if ($n.compatMode === "CSS1Compat" && $n.documentElement && $n.documentElement.clientWidth) {
                var x = $n.documentElement.clientWidth;
                var y = $n.documentElement.clientHeight;
                return {
                    x: x,
                    y: y
                };
            } else {
                var x = $n.body.clientWidth;
                var y = $n.body.clientHeight;
                return {
                    x: x,
                    y: y
                };
            }
        };
        this.register = function() {
            if (this.registered) {
                return;
            };
            this.re(window, 'resize', this.resize);
            this.re(window, 'scroll', this.resize);
            if (this.dragDrop) {
                this.re(document, 'mousemove', this.drag);
                this.re(document, 'mouseup', this.drop);
            };
            this.registered = true;
        };
        this.drag = function(e) {
            if (!$g.coords) {
                return;
            };
            var e = e || window.event;
            var $z = $g.mc(e);
            var x = $z.x - $g.coords.x;
            var y = $z.y - $g.coords.y;
            $g.div.style.marginLeft = '0px';
            $g.div.style.top = ($g.start.y + y) + "px";
            $g.div.style.left = ($g.start.x + x) + "px";
        };
        this.drop = function(e) {
            if (!$g.coords) {
                return;
            };
            $g.unmaskIframe();
            $g.coords = null;
        };
        this.maskIframe = function() {
            if (!this.useIframe) {
                return;
            };
            var $A = 80;
            var $B = document.createElement("div");
            $B.style.backgroundColor = "#ffffff";
            $B.style.filter = "alpha(opacity=" + $A + ")";
            $B.style.opacity = "0." + $A;
            $B.style.width = "100%";
            $B.style.height = this.height + "px";
            $B.style.position = "absolute";
            $B.style.left = '0px';
            $B.style.top = '0px';
            this.div.appendChild($B);
            this.mask = $B;
        };
        this.unmaskIframe = function() {
            if (!this.useIframe) {
                return;
            };
            this.div.removeChild(this.mask);
            this.mask = null;
        };
        this.resize = function() {
            if (!$g.hideDiv) {
                return;
            };
            if (!$g.div) {
                return;
            };
            if ($g.hideDiv.style.display === 'none') {
                return;
            };
            if ($g.div.style.display === 'none') {
                return;
            };
            var scrollY = window.pageYOffset ? window.pageYOffset : ((document.documentElement && document.documentElement.scrollTop) ? document.documentElement.scrollTop : document.body.scrollTop);
            if (!$g.scrollWithPage) {
                $g.div.style.top = (scrollY + $g.top) + 'px';
            }
        };
        this.re = function(el, ev, $C) {
            if (el.addEventListener) {
                el.addEventListener(ev, $C, false);
            } else if (el.attachEvent) {
                el.attachEvent("on" + ev, $C);
            }
        };
        this.ue = function(el, ev, $C) {
            if (el.removeEventListener) {
                el.removeEventListener(ev, $C, false);
            } else if (el.detachEvent) {
                el.detachEvent("on" + ev, $C);
            }
        };
        this.mc = function(ev) {
            if (ev.pageX || ev.pageY) {
                return {
                    x: ev.pageX,
                    y: ev.pageY
                };
            };
            return {
                x: ev.clientX + document.documentElement.scrollLeft,
                y: ev.clientY + document.documentElement.scrollTop
            };
        };
        this.abs = function(element) {
            var r = {
                x: element.offsetLeft,
                y: element.offsetTop
            };
            while (element.offsetParent) {
                element = element.offsetParent;
                r.x += element.offsetLeft;
                r.y += element.offsetTop;
            };
            return r;
        };
        this.create = function() {
            var $D = document.createElement("div");
            $D.id = this.id + "hide";
            $D.style.position = 'fixed';
            $D.style.zIndex = '999';
            $D.style.left = "0px";
            $D.style.top = "0px";
            $D.style.right = "0px";
            $D.style.bottom = "0px";
            $D.style.backgroundColor = "black";
            $D.style.opacity = 0.50;
            $D.oncontextmenu = function() {
                return false;
            };
            document.body.appendChild($D);
            var $E = document.createElement("div");
            $E.id = this.id + 'popup';
            $E.style.position = 'fixed';
            $E.style.zIndex = '999';
            $E.style.left = '32%';
            $E.style.top = '0px';
            $E.style.backgroundColor = 'white';
            $E.style.width = "50px";
            $E.style.height = "50px";
            if (this.dragDrop) {
                $E.onmousedown = this.dragStart;
            };
            var $F = 50;
            var $G = null;
            if (this.useIframe) {
                $G = document.createElement("iframe");
                $G.id = this.id + "iframe";
                $G.name = this.id + "iframe";
                $G.frameBorder = '0';
                $G.style.width = '100%';
                $G.style.height = $F + 'px';
                $E.appendChild($G);
            };
            document.body.appendChild($E);
            this.div = $E;
            this.iframe = $G;
            this.hideDiv = $D;
        };
        this.dragStart = function(e) {
            $g.maskIframe();
            $g.coords = $g.mc(e || window.event);
            $g.start = {
                x: $g.div.offsetLeft,
                y: $g.div.offsetTop
            };
        };
        this.setInnerHTML = function(id, $j) {
            var $H = window.frames[id];
            var $n = $H.contentWindow || $H.document || $H.contentDocument;
            if ($n.document) {
                $n = $n.document;
            };
            if ($n.body == null) {
                $n.write("<body></body>");
            };
            if ($j.nodeType) {
                $n.body.appendChild($j);
            } else {
                $n.body.innerHTML = $j;
            };
            if ($g.autoStretch) {
                if (!$g.autoStretchFirstLoadOnly || !$g.$W) {
                    $g.stretch();
                    $g.$W = true;
                }
            }
        };
        this.close = function($d) {
            this.result = $d;
            this.hide();
        };
        this.hide = function() {
            if (this.div) {
                this.div.style.display = 'none';
                this.hideDiv.style.display = 'none';
                if (!this.useIframe) {
                    this.div.innerHTML = null;
                }
            };
            DayPilot.ModalStatic.remove(this);
            if (this.onClosed) {
                var $I = {};
                $I.result = this.result;
                this.onClosed($I);
            } else if (this.closed) {
                this.closed();
            }
        };
        this.$X = function() {
            if (!$f) {
                return;
            };
            for (var name in $f) {
                this[name] = $f[name];
            }
        };
        this.$X();
    };
    DayPilot.Modal.alert = function($J, $f) {
        $f = $f || {};
        $f.height = $f.height || 40;
        $f.useIframe = false;
        var $b = new DayPilot.Modal($f);
        var $E = document.createElement("div");
        $E.style.padding = "10px";
        var $K = document.createElement("div");
        $K.innerHTML = $J;
        var $L = document.createElement("div");
        $L.style.margin = "10px 0px";
        var $M = document.createElement("button");
        $M.innerText = "OK";
        $M.onclick = function(e) {
            parent.DayPilot.ModalStatic.close("OK");
        };
        $L.appendChild($M);
        $E.appendChild($K);
        $E.appendChild($L);
        $b.showHtml($E);
        $M.focus();
    };
    DayPilot.Modal.confirm = function($J, $f) {
        $f = $f || {};
        $f.height = $f.height || 40;
        $f.useIframe = false;
        return DayPilot.getPromise(function($N, $O) {
            $f.onClosed = function($I) {
                if (typeof $I.result === "undefined") {
                    $O($I);
                } else {
                    $N($I);
                }
            };
            var $b = new DayPilot.Modal($f);
            var $E = document.createElement("div");
            $E.style.padding = "10px";
            var $K = document.createElement("div");
            $K.innerHTML = $J;
            var $L = document.createElement("div");
            $L.style.margin = "10px 0px";
            var $M = document.createElement("button");
            $M.innerText = "OK";
            $M.onclick = function(e) {
                parent.DayPilot.ModalStatic.close("OK");
            };
            var $P = document.createTextNode(" ");
            var $Q = document.createElement("button");
            $Q.innerText = "Cancel";
            $Q.onclick = function(e) {
                parent.DayPilot.ModalStatic.close();
            };
            $L.appendChild($M);
            $L.appendChild($P);
            $L.appendChild($Q);
            $E.appendChild($K);
            $E.appendChild($L);
            $b.showHtml($E);
            $M.focus();
        });
    };
    DayPilot.Modal.prompt = function($J, $f) {
        $f = $f || {};
        $f.height = $f.height || 40;
        $f.useIframe = false;
        return DayPilot.getPromise(function($N, $O) {
            $f.onClosed = function($I) {
                if (typeof $I.result === "undefined") {
                    $O($I);
                } else {
                    $N($I);
                }
            };
            var $b = new DayPilot.Modal($f);
            var $E = document.createElement("div");
            $E.style.padding = "10px";
            var $K = document.createElement("div");
            $K.innerHTML = $J;
            var $R = document.createElement("div");
            $R.style.margin = "10px 0px";
            var $S = document.createElement("input");
            $S.style.width = "100%";
            $S.onkeydown = function(e) {
                switch (e.keyCode) {
                    case 13:
                        parent.DayPilot.ModalStatic.close(this.value);
                        break;
                    case 27:
                        parent.DayPilot.ModalStatic.close();
                        break;
                }
            };
            $R.appendChild($S);
            var $L = document.createElement("div");
            $L.style.margin = "10px 0px";
            var $M = document.createElement("button");
            $M.innerText = "OK";
            $M.onclick = function(e) {
                parent.DayPilot.ModalStatic.close($S.value);
            };
            var $P = document.createTextNode(" ");
            var $Q = document.createElement("button");
            $Q.innerText = "Cancel";
            $Q.onclick = function(e) {
                parent.DayPilot.ModalStatic.close();
            };
            $L.appendChild($M);
            $L.appendChild($P);
            $L.appendChild($Q);
            $E.appendChild($K);
            $E.appendChild($R);
            $E.appendChild($L);
            $b.showHtml($E);
            $S.focus();
        });
    };
    DayPilot.Modal.close = function($d) {
        if (parent && parent.DayPilot && parent.DayPilot.ModalStatic) {
            parent.DayPilot.ModalStatic.close($d);
        } else {
            throw "Unable to close DayPilot.Modal dialog.";
        }
    };
    DayPilot.Modal.opener = function() {
        return parent && parent.DayPilot && parent.DayPilot.ModalStatic && parent.DayPilot.ModalStatic.list[parent.DayPilot.ModalStatic.list.length - 1];
    };
    if (typeof DayPilot.getPromise === "undefined") {
        DayPilot.getPromise = function(f) {
            if (typeof $T !== 'undefined') {
                return new $T(f);
            };
            DayPilot.Promise = function(f) {
                var p = this;
                this.then = function($U, $V) {
                    $U = $U || function() {};
                    $V = $V || function() {};
                    f($U, $V);
                    return DayPilot.getPromise(f);
                };
                this['catch'] = function($V) {
                    p.then(null, $V);
                    return DayPilot.getPromise(f);
                };
            };
            return new DayPilot.Promise(f);
        };
    }
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
if (typeof DayPilotMonth === 'undefined') {
    var DayPilotMonth = DayPilot.MonthVisible = {};
};
(function() {
    var $a = function() {};
    if (typeof DayPilot.Month !== 'undefined') {
        return;
    };
    var DayPilotMonth = {};
    DayPilot.Month = function(id, $b) {
        this.v = '2200';
        this.nav = {};
        var $c = this;
        this.id = id;
        this.isMonth = true;
        this.api = 2;
        this.$24 = false;
        this.hideUntilInit = true;
        this.startDate = new DayPilot.Date();
        this.width = null;
        this.cssClassPrefix = "month_default";
        this.cellHeight = 100;
        this.cellMarginBottom = 0;
        this.allowMultiSelect = true;
        this.autoRefreshCommand = 'refresh';
        this.autoRefreshEnabled = false;
        this.autoRefreshInterval = 60;
        this.autoRefreshMaxCount = 20;
        this.doubleClickTimeout = 300;
        this.eventFontColor = "#000000";
        this.eventFontFamily = "Tahoma";
        this.eventFontSize = "11px";
        this.headerBackColor = '#ECE9D8';
        this.headerFontColor = '#000000';
        this.headerFontFamily = "Tahoma";
        this.headerFontSize = "10pt";
        this.headerHeight = 20;
        this.heightSpec = "Auto";
        this.weekStarts = 0;
        this.innerBorderColor = '#cccccc';
        this.borderColor = 'black';
        this.eventHeight = 25;
        this.cellHeaderHeight = 16;
        this.numberFormat = "0.00";
        this.clientState = {};
        this.afterRender = function() {};
        this.backColor = '#FFFFD5';
        this.nonBusinessBackColor = '#FFF4BC';
        this.cellHeaderBackColor = '';
        this.cellHeaderFontColor = '#000000';
        this.cellHeaderFontFamily = 'Tahoma';
        this.cellHeaderFontSize = '10pt';
        this.cssOnly = true;
        this.eventBackColor = 'White';
        this.eventBorderColor = 'Black';
        this.eventCorners = "Regular";
        this.eventFontColor = '#000000';
        this.eventFontFamily = 'Tahoma';
        this.eventFontSize = '11px';
        this.cellWidth = 14.285;
        this.lineSpace = 1;
        this.locale = "en-us";
        this.messageHideAfter = 5000;
        this.notifyCommit = 'Immediate';
        this.visible = true;
        this.eventMoveToPosition = false;
        this.eventTextLayer = 'Top';
        this.eventStartTime = false;
        this.eventEndTime = false;
        this.eventStartEndWidth = 60;
        this.eventTextAlignment = null;
        this.eventTextLeftIndent = 20;
        this.showWeekend = true;
        this.cellMode = false;
        this.shadowType = "Fill";
        this.tapAndHoldTimeout = 300;
        this.timeFormat = "Auto";
        this.eventTimeFontColor = 'gray';
        this.eventTimeFontFamily = 'Tahoma';
        this.eventTimeFontSize = '8pt';
        this.viewType = 'Month';
        this.weeks = 1;
        this.eventClickHandling = 'Enabled';
        this.eventDeleteHandling = "Disabled";
        this.eventDoubleClickHandling = 'Enabled';
        this.eventMoveHandling = 'Update';
        this.eventResizeHandling = 'Update';
        this.eventRightClickHandling = 'ContextMenu';
        this.eventSelectHandling = 'Update';
        this.headerClickHandling = "Enabled";
        this.timeRangeSelectedHandling = 'Enabled';
        this.timeRangeDoubleClickHandling = 'Enabled';
        this.backendUrl = null;
        this.cellEvents = [];
        this.elements = {};
        this.elements.events = [];
        this.$25 = {};
        this.$25.events = {};
        this.events = {};
        this.$26 = 0;
        this.members = {};
        this.members.ignore = ["internal", "nav", "debug", "temp", "elements", "members", "cellProperties"];
        this.$27 = function($d, $e) {
            var $d = DayPilot.Util.parseJSON($d);
            if ($d.BubbleGuid) {
                var $f = $d.BubbleGuid;
                var $g = this.bubbles[$f];
                delete this.bubbles[$f];
                $c.$28();
                if (typeof $d.Result.BubbleHTML !== 'undefined') {
                    $g.updateView($d.Result.BubbleHTML, $g);
                };
                return;
            };
            if ($d.CallBackRedirect) {
                document.location.href = $d.CallBackRedirect;
                return;
            };
            if (typeof $d.ClientState !== 'undefined') {
                $c.clientState = $d.ClientState;
            };
            if ($d.UpdateType === "None") {
                $c.$29($d.CallBackData, true);
                if ($d.Message) {
                    $c.message($d.Message);
                };
                return;
            };
            if ($d.VsUpdate) {
                var $h = document.createElement("input");
                $h.type = 'hidden';
                $h.name = $c.id + "_vsupdate";
                $h.id = $h.name;
                $h.value = $d.VsUpdate;
                $c.$2a.innerHTML = '';
                $c.$2a.appendChild($h);
            };
            $c.events.list = $d.Events;
            if (typeof $d.TagFields !== 'undefined') {
                $c.tagFields = $d.TagFields;
            };
            if (typeof $d.SortDirections !== 'undefined') {
                $c.sortDirections = $d.SortDirections;
            };
            if ($d.UpdateType === "Full") {
                $c.cellProperties = $d.CellProperties;
                $c.headerProperties = $d.HeaderProperties;
                $c.startDate = $d.StartDate;
                if (typeof $d.ShowWeekend !== 'undefined') {
                    $c.showWeekend = $d.ShowWeekend;
                };
                $c.headerBackColor = $d.HeaderBackColor ? $d.HeaderBackColor : $c.headerBackColor;
                $c.backColor = $d.BackColor ? $d.BackColor : $c.backColor;
                $c.nonBusinessBackColor = $d.NonBusinessBackColor ? $d.NonBusinessBackColor : $c.nonBusinessBackColor;
                $c.locale = $d.Locale ? $d.Locale : $c.locale;
                $c.timeFormat = $d.TimeFormat ? $d.TimeFormat : $c.timeFormat;
                if (typeof $d.WeekStarts !== 'undefined') {
                    $c.weekStarts = $d.WeekStarts;
                };
                $c.hashes = $d.Hashes;
            };
            $c.multiselect.clear(true);
            $c.multiselect.initList = $d.SelectedEvents;
            $c.$2b();
            $c.$2c();
            $c.$2d();
            if ($d.UpdateType === "Full") {
                $c.$2e();
                $c.$2f();
            };
            $c.$2g();
            $c.$2h();
            $c.$2i();
            $c.$29($d.CallBackData, true);
            $c.$2j();
            if ($d.Message) {
                $c.message($d.Message);
            }
        };
        this.$29 = function($i, $j) {
            var $k = function($i, $l) {
                return function() {
                    if ($c.$2k()) {
                        if (typeof $c.onAfterRender === 'function') {
                            var $m = {};
                            $m.isCallBack = $l;
                            $m.data = $i;
                            $c.onAfterRender($m);
                        }
                    } else {
                        if ($c.afterRender) {
                            $c.afterRender($i, $l);
                        }
                    }
                };
            };
            window.setTimeout($k($i, $j), 0);
        };
        this.$2k = function() {
            return $c.api === 2;
        };
        this.$2l = function($n) {
            var $o = this.theme || this.cssClassPrefix;
            if ($o) {
                return $o + $n;
            } else {
                return "";
            }
        };
        this.$2d = function() {
            if (!this.events.list) {
                return;
            };
            if (typeof this.onBeforeEventRender === 'function') {
                var length = this.events.list.length;
                for (var i = 0; i < length; i++) {
                    this.$2m(i);
                }
            };
            if (this.cellMode) {
                this.$2n();
            } else {
                this.$2o();
            }
        };
        this.$28 = function() {};
        this.$2o = function() {
            if (!this.events.list) {
                return;
            };
            for (var x = 0; x < this.events.list.length; x++) {
                var e = this.events.list[x];
                e.start = new DayPilot.Date(e.start);
                e.end = new DayPilot.Date(e.end);
                if (e.start.getTime() > e.end.getTime()) {
                    continue;
                };
                for (var i = 0; i < this.rows.length; i++) {
                    var $p = this.rows[i];
                    if ($p.belongsHere(e)) {
                        var ep = new DayPilot.Event(e, $c);
                        $p.events.push(ep);
                        if (typeof this.onBeforeEventRender === 'function') {
                            ep.cache = this.$25.events[x];
                        }
                    }
                }
            };
            for (var ri = 0; ri < this.rows.length; ri++) {
                var $p = this.rows[ri];
                $p.events.sort(this.$2p);
                for (var ei = 0; ei < this.rows[ri].events.length; ei++) {
                    var ev = $p.events[ei];
                    var $q = $p.getStartColumn(ev);
                    var $r = $p.getWidth(ev);
                    $p.putIntoLine(ev, $q, $r, ri);
                }
            }
        };
        this.$2n = function() {
            this.cellEvents = [];
            for (var x = 0; x < this.$2q(); x++) {
                this.cellEvents[x] = [];
                for (var y = 0; y < this.rows.length; y++) {
                    var $s = {};
                    var d = this.firstDate.addDays(y * 7 + x);
                    $s.start = d;
                    $s.end = d.addDays(1);
                    $s.events = [];
                    this.cellEvents[x][y] = $s;
                }
            };
            for (var i = 0; i < this.events.list.length; i++) {
                var e = this.events.list[i];
                e.start = new DayPilot.Date(e.start);
                e.end = new DayPilot.Date(e.start);
                if (e.start.getTime() > e.end.getTime()) {
                    continue;
                };
                for (var x = 0; x < this.$2q(); x++) {
                    for (var y = 0; y < this.rows.length; y++) {
                        var $s = this.cellEvents[x][y];
                        if (e.start.getTime() >= $s.start.getTime() && e.start.getTime() < $s.end.getTime()) {
                            var ep = new DayPilot.Event(e, $c);
                            $s.events.push(ep);
                            if (typeof this.onBeforeEventRender === 'function') {
                                ep.cache = this.$25.events[i];
                            }
                        }
                    }
                }
            };
            for (var x = 0; x < this.$2q(); x++) {
                for (var y = 0; y < this.rows.length; y++) {
                    var $s = this.cellEvents[x][y];
                    $s.events.sort(this.$2p);
                }
            }
        };
        this.$2b = function() {
            for (var i = 0; i < this.elements.events.length; i++) {
                var e = this.elements.events[i];
                e.event = null;
                e.click = null;
                e.parentNode.removeChild(e);
            };
            this.elements.events = [];
        };
        this.$2i = function() {
            this.$25.events = {};
            if (this.cellMode) {
                this.$2r();
            } else {
                this.$2s();
            };
            this.multiselect.redraw();
        };
        this.$2r = function() {
            this.elements.events = [];
            for (var x = 0; x < this.$2q(); x++) {
                for (var y = 0; y < this.rows.length; y++) {
                    var $s = this.cellEvents[x][y];
                    var $t = this.cells[x][y];
                    for (var i = 0; i < $s.events.length; i++) {
                        var ep = $s.events[i];
                        ep.part.colStart = x;
                        ep.part.colWidth = 1;
                        ep.part.row = y;
                        ep.part.line = i;
                        ep.part.startsHere = true;
                        ep.part.endsHere = true;
                        this.$2t(ep);
                    }
                }
            }
        };
        this.$2s = function() {
            this.elements.events = [];
            for (var ri = 0; ri < this.rows.length; ri++) {
                var $p = this.rows[ri];
                for (var li = 0; li < $p.lines.length; li++) {
                    var $u = $p.lines[li];
                    for (var pi = 0; pi < $u.length; pi++) {
                        this.$2t($u[pi]);
                    }
                }
            }
        };
        this.$2u = function(a, b) {
            if (!a || !b || !a.start || !b.start) {
                return 0;
            };
            var $v = a.start().ticks - b.start().ticks;
            if ($v !== 0) {
                return $v;
            };
            var $w = b.end().ticks - a.end().ticks;
            return $w;
        };
        this.$2p = function(a, b) {
            if (!a || !b) {
                return 0;
            };
            if (!a.data || !b.data || !a.data.sort || !b.data.sort || a.data.sort.length === 0 || b.data.sort.length === 0) {
                return $c.$2u(a, b);
            };
            var $d = 0;
            var i = 0;
            while ($d === 0 && typeof a.data.sort[i] !== "undefined" && typeof b.data.sort[i] !== "undefined") {
                if (a.data.sort[i] === b.data.sort[i]) {
                    $d = 0;
                } else if (typeof a.data.sort[i] === "number" && typeof b.data.sort[i] === "number") {
                    $d = a.data.sort[i] - b.data.sort[i];
                } else {
                    $d = $c.$2v(a.data.sort[i], b.data.sort[i], $c.sortDirections[i]);
                };
                i++;
            };
            return $d;
        };
        this.$2v = function(a, b, $x) {
            var $y = ($x !== "desc");
            var $z = $y ? -1 : 1;
            var $A = -$z;
            if (a === null && b === null) {
                return 0;
            };
            if (b === null) {
                return $A;
            };
            if (a === null) {
                return $z;
            };
            var ar = [];
            ar[0] = a;
            ar[1] = b;
            ar.sort();
            return a === ar[0] ? $z : $A;
        };
        this.$2w = function(x, y, $u, $B, $C, e) {
            if (!$C) {
                $C = 0;
            };
            var $D = $B;
            this.shadow = {};
            this.shadow.list = [];
            this.shadow.start = {
                x: x,
                y: y
            };
            this.shadow.width = $B;
            if (this.eventMoveToPosition) {
                $D = 1;
                this.shadow.position = $u;
            };
            var $E = y * 7 + x - $C;
            if ($E < 0) {
                $D += $E;
                x = 0;
                y = 0;
            };
            var $F = $C;
            while ($F >= 7) {
                y--;
                $F -= 7;
            };
            if ($F > x) {
                var $G = 7 - this.$2q();
                if ($F > (x + $G)) {
                    y--;
                    x = x + 7 - $F;
                } else {
                    $D = $D - $F + x;
                    x = 0;
                }
            } else {
                x -= $F;
            };
            if (y < 0) {
                y = 0;
                x = 0;
            };
            var $H = null;
            if (DayPilotMonth.resizingEvent) {
                $H = 'w-resize';
            } else if (DayPilotMonth.movingEvent) {
                $H = "move";
            };
            this.nav.top.style.cursor = $H;
            while ($D > 0 && y < this.rows.length) {
                var $I = Math.min(this.$2q() - x, $D);
                var $p = this.rows[y];
                var top = this.$2x(y);
                var $J = $p.getHeight();
                if (this.eventMoveToPosition) {
                    top = this.$2y(y, $u);
                    $J = 2;
                };
                var $K = document.createElement("div");
                $K.setAttribute("unselectable", "on");
                $K.style.position = 'absolute';
                $K.style.left = (this.$2z() * x) + '%';
                $K.style.width = (this.$2z() * $I) + '%';
                $K.style.top = (top) + 'px';
                $K.style.height = ($J) + 'px';
                $K.style.cursor = $H;
                var $L = document.createElement("div");
                $L.setAttribute("unselectable", "on");
                $K.appendChild($L);
                if (this.cssOnly) {
                    $K.className = this.$2l("_shadow");
                    $L.className = this.$2l("_shadow_inner");
                };
                if (!this.cssOnly) {
                    $L.style.position = "absolute";
                    $L.style.top = "0px";
                    $L.style.right = "0px";
                    $L.style.left = "0px";
                    $L.style.bottom = "0px";
                    if (this.shadowType === 'Fill') {
                        $L.style.backgroundColor = "#aaaaaa";
                        $L.style.opacity = 0.5;
                        $L.style.filter = "alpha(opacity=50)";
                        if (e && e.event) {
                            $L.style.overflow = 'hidden';
                            $L.style.fontSize = this.eventFontSize;
                            $L.style.fontFamily = this.eventFontFamily;
                            $L.style.color = this.eventFontColor;
                            $L.innerHTML = e.event.client.innerHTML() ? e.event.client.innerHTML() : e.event.text();
                        }
                    } else {
                        $L.style.border = '2px dotted #666666';
                    }
                };
                var $M = this.nav.events;
                $M.appendChild($K);
                this.shadow.list.push($K);
                $D -= ($I + 7 - this.$2q());
                x = 0;
                y++;
            }
        };
        this.$2A = function() {
            if (this.shadow) {
                var $M = this.nav.events;
                DayPilot.de(this.shadow.list);
                this.shadow = null;
                this.nav.top.style.cursor = '';
            }
        };
        this.$2y = function($p, $u) {
            var top = 0;
            for (var i = 0; i < $p; i++) {
                top += this.rows[i].getHeight();
            };
            top += this.cellHeaderHeight;
            top += $u * $N.lineHeight();
            return top;
        };
        this.$2B = function(x, y) {
            return this.firstDate.addDays(y * 7 + x);
        };
        this.$2m = function(i) {
            var $O = this.$25.events;
            var $i = this.events.list[i];
            var $P = {};
            for (var name in $i) {
                $P[name] = $i[name];
            };
            if (typeof this.onBeforeEventRender === 'function') {
                var $m = {};
                $m.e = $P;
                $m.data = $P;
                this.onBeforeEventRender($m);
            };
            $O[i] = $P;
        };
        this.$2t = function(ep, $Q) {
            var $Q = this.cellMode;
            var $p = ep.part.row;
            var $u = ep.part.line;
            var $q = ep.part.colStart;
            var $r = ep.part.colWidth;
            var $O = ep.cache || ep.data;
            var $R = $Q ? 0 : this.$2z() * ($q);
            var $B = $Q ? 100 : this.$2z() * ($r);
            var top = $Q ? $u * $N.lineHeight() : this.$2y($p, $u);
            var e = document.createElement("div");
            e.setAttribute("unselectable", "on");
            e.style.height = $N.eventHeight() + 'px';
            if (!this.cssOnly) {
                e.style.fontFamily = this.eventFontFamily;
            } else {
                e.style.position = "relative";
                e.style.overflow = "hidden";
                e.className = this.$2l("_event");
            };
            if ($O.cssClass) {
                DayPilot.Util.addClass(e, $O.cssClass);
            };
            e.event = ep;
            if ($Q) {
                e.style.marginRight = "2px";
                e.style.marginBottom = "2px";
            } else {
                e.style.width = $B + '%';
                e.style.position = 'absolute';
                e.style.left = $R + '%';
                e.style.top = top + 'px';
            };
            if (this.showToolTip && $O.toolTip && !this.bubble) {
                e.title = $O.toolTip;
            };
            e.onclick = this.$2C;;
            e.ondblclick = this.$2D;
            e.oncontextmenu = this.$2E;
            e.onmousedown = this.$2F;
            e.onmousemove = this.$2G;
            e.onmouseout = this.$2H;
            e.ontouchstart = $S.onEventTouchStart;
            e.ontouchmove = $S.onEventTouchMove;
            e.ontouchend = $S.onEventTouchEnd;
            if (!ep.part.startsHere) {
                DayPilot.Util.addClass(e, this.$2l("_event_continueleft"));
            };
            if (!ep.part.endsHere) {
                DayPilot.Util.addClass(e, this.$2l("_event_continueright"));
            };
            var $T = document.createElement("div");
            $T.setAttribute("unselectable", "on");
            $T.className = this.$2l("_event_inner");
            if (ep.client.innerHTML()) {
                $T.innerHTML = ep.client.innerHTML();
            } else {
                $T.innerHTML = ep.text();
            };
            if ($O.backColor) {
                $T.style.background = $O.backColor;
                if (DayPilot.browser.ie9 || DayPilot.browser.ielt9) {
                    $T.style.filter = '';
                }
            };
            e.appendChild($T);
            if (this.eventTextAlignment) {
                $T.style.textAlign = this.eventTextAlignment.toLowerCase();
            };
            var $U = this.$2I.locale();
            var $V = $c.eventStartEndWidth;
            if (this.eventStartTime) {
                var $W = ($c.$2I.timeFormat() === 'Clock12Hours') ? ep.start().toString("h tt", $U) : ep.start().toString("H", $U);
                var $X = {
                    "left": 5,
                    "top": 3,
                    "width": $V,
                    "bottom": 2,
                    "v": "Visible",
                    "html": $W,
                    "css": $c.$2l("_event_timeleft")
                };
                var a = DayPilot.Areas.createArea(e, ep, $X);
                e.appendChild(a);
                $T.style.paddingLeft = $V + "px";
            };
            if (this.eventEndTime) {
                var $W = ($c.$2I.timeFormat() === 'Clock12Hours') ? ep.end().toString("h tt", $U) : ep.end().toString("H", $U);
                var $X = {
                    "right": 5,
                    "top": 3,
                    "width": $V,
                    "bottom": 2,
                    "v": "Visible",
                    "html": $W,
                    "css": $c.$2l("_event_timeright")
                };
                var a = DayPilot.Areas.createArea(e, ep, $X);
                e.appendChild(a);
                $T.style.paddingRight = $V + "px";
            };
            if ($O.areas) {
                var $Y = $O.areas;
                for (var i = 0; i < $Y.length; i++) {
                    var $X = $Y[i];
                    if ($X.v !== 'Visible') {
                        continue;
                    };
                    var a = DayPilot.Areas.createArea(e, ep, $X);
                    e.appendChild(a);
                }
            };
            this.elements.events.push(e);
            if ($Q) {
                this.cells[$q][$p].body.appendChild(e);
            } else {
                this.nav.events.appendChild(e);
            };
            if ($c.multiselect.$2J(e.event)) {
                $c.multiselect.add(e.event, true);
            };
            var $t = e;
            if ($c.$2k()) {
                if (typeof $c.onAfterEventRender === 'function') {
                    var $m = {};
                    $m.e = $t.event;
                    $m.div = $t;
                    $c.onAfterEventRender($m);
                }
            } else {
                if ($c.afterEventRender) {
                    $c.afterEventRender($t.event, $t);
                }
            }
        };
        this.$2C = function(ev) {
            if ($S.start) {
                return;
            };
            $c.$2K(this, ev);
        };
        this.$2D = function(ev) {
            $c.$2L(this, ev);
        };
        this.$2G = function(ev) {
            var e = this;
            var ep = e.event;
            if (typeof(DayPilotMonth) === 'undefined') {
                return;
            };
            if (DayPilotMonth.movingEvent || DayPilotMonth.resizingEvent) {
                return;
            };
            var $C = DayPilot.mo3(e, ev);
            if (!$C) {
                return;
            };
            (function() {
                var $t = e;
                if (!$t.active) {
                    var $Y = [];
                    if ($c.eventDeleteHandling !== "Disabled") {
                        $Y.push({
                            "action": "JavaScript",
                            "v": "Hover",
                            "w": 17,
                            "h": 17,
                            "top": 2,
                            "right": 2,
                            "css": $c.$2l("_event_delete"),
                            "js": function(e) {
                                $c.$2M(e);
                            }
                        });
                    };
                    var $Z = $t.event.cache ? $t.event.cache.areas : $t.event.data.areas;
                    if ($Z && $Z.length > 0) {
                        $Y = $Y.concat($Z);
                    };
                    DayPilot.Areas.showAreas($t, $t.event, null, $Y);
                }
            })();
            if ($c.cssOnly) {
                $c.$2N(e.event).each(function($t) {
                    DayPilot.Util.addClass($t, $c.$2l("_event_hover"));
                });
            };
            var $00 = 6;
            if (!$c.cellMode && $C.x <= $00 && ep.client.resizeEnabled()) {
                if (ep.part.startsHere) {
                    e.style.cursor = "w-resize";
                    e.dpBorder = 'left';
                } else {
                    e.style.cursor = 'not-allowed';
                }
            } else if (!$c.cellMode && e.clientWidth - $C.x <= $00 && ep.client.resizeEnabled()) {
                if (ep.part.endsHere) {
                    e.style.cursor = "e-resize";
                    e.dpBorder = 'right';
                } else {
                    e.style.cursor = 'not-allowed';
                }
            } else {
                e.style.cursor = 'default';
            };
            if (typeof(DayPilotBubble) !== 'undefined' && $c.bubble && $c.eventHoverHandling !== 'Disabled') {
                if (!DayPilotMonth.movingEvent && !DayPilotMonth.resizingEvent) {
                    var $01 = this.$2O && $C.x === this.$2O.x && $C.y === this.$2O.y;
                    if (!$01) {
                        this.$2O = $C;
                        $c.bubble.showEvent(e.event);
                    }
                } else {
                    DayPilotBubble.hideActive();
                }
            }
        };
        this.$2H = function(ev) {
            var e = this;
            if (typeof(DayPilotBubble) !== 'undefined' && $c.bubble) {
                $c.bubble.hideOnMouseOut();
            };
            e.style.cursor = '';
            if ($c.cssOnly) {
                $c.$2N(e.event).each(function($t) {
                    DayPilot.Util.removeClass($t, $c.$2l("_event_hover"));
                });
            };
            DayPilot.Areas.hideAreas(e, ev);
        };
        this.$2E = function() {
            var e = this;
            $c.$2P(e.event);
            return false;
        };
        this.$2F = function(ev) {
            if ($S.start) {
                return;
            };
            var e = this;
            var ep = e.event;
            var $p = ep.part.row;
            var $q = ep.part.colStart;
            var $u = ep.part.line;
            var $r = ep.part.colWidth;
            ev = ev || window.event;
            var $02 = DayPilot.Util.mouseButton(ev);
            ev.cancelBubble = true;
            if (ev.stopPropagation) {
                ev.stopPropagation();
            };
            if ($02.left) {
                if (typeof(DayPilotBubble) !== 'undefined' && $c.bubble) {
                    DayPilotBubble.hideActive();
                };
                DayPilotMonth.movingEvent = null;
                if (this.style.cursor === 'w-resize' || this.style.cursor === 'e-resize') {
                    var $03 = {};
                    $03.start = {};
                    $03.start.x = $q;
                    $03.start.y = $p;
                    $03.event = e.event;
                    $03.width = DayPilot.DateUtil.daysSpan($03.event.start(), $03.event.end()) + 1;
                    $03.direction = this.style.cursor;
                    DayPilotMonth.resizingEvent = $03;
                } else if (this.style.cursor === 'move' || ep.client.moveEnabled()) {
                    $c.$2A();
                    var $04 = DayPilot.mo3($c.nav.events, ev);
                    if (!$04) {
                        return;
                    };
                    var $s = $c.$2Q($04.x, $04.y);
                    if (!$s) {
                        return;
                    };
                    var $E = DayPilot.DateUtil.daysDiff(ep.start(), $c.rows[$p].start);
                    var $C = ($s.y * 7 + $s.x) - ($p * 7 + $q);
                    if ($E) {
                        $C += $E;
                    };
                    var $05 = {};
                    $05.start = {};
                    $05.start.x = $q;
                    $05.start.y = $p;
                    $05.start.line = $u;
                    $05.offset = $c.eventMoveToPosition ? 0 : $C;
                    $05.colWidth = $r;
                    $05.event = e.event;
                    $05.coords = $04;
                    DayPilotMonth.movingEvent = $05;
                }
            }
        };
        this.temp = {};
        this.temp.getPosition = function() {
            if (!$c.coords) {
                return null;
            };
            var $s = $c.$2Q($c.coords.x, $c.coords.y);
            if (!$s) {
                return null;
            };
            var d = new DayPilot.Date($c.$2B($s.x, $s.y));
            var $s = {};
            $s.start = d;
            $s.end = d.addDays(1);
            return $s;
        };
        this.$2R = {};
        var $S = $c.$2R;
        $S.active = false;
        $S.start = false;
        $S.timeouts = [];
        $S.onEventTouchStart = function(ev) {
            if ($S.active || $S.start) {
                return;
            };
            $S.clearTimeouts();
            $S.start = true;
            $S.active = false;
            var $t = this;
            var e = $t.event;
            if (e.client.moveEnabled()) {
                var $06 = $c.tapAndHoldTimeout;
                $S.timeouts.push(window.setTimeout(function() {
                    $S.active = true;
                    $S.start = false;
                    var $04 = $S.relativeCoords(ev);
                    $S.startMoving($t, $04);
                    ev.preventDefault();
                }, $06));
            };
            ev.stopPropagation();
        };
        $S.onEventTouchMove = function(ev) {
            $S.clearTimeouts();
            $S.start = false;
        };
        $S.onEventTouchEnd = function(ev) {
            $S.clearTimeouts();
            if ($S.start) {
                $c.$2S(this, ev);
            };
            window.setTimeout(function() {
                $S.start = false;
                $S.active = false;
            }, 500);
        };
        $S.onMainTouchStart = function(ev) {
            if ($S.active || $S.start) {
                return;
            };
            $S.clearTimeouts();
            $S.start = true;
            $S.active = false;
            var $06 = $c.tapAndHoldTimeout;
            $S.timeouts.push(window.setTimeout(function() {
                $S.active = true;
                $S.start = false;
                ev.preventDefault();
                var $04 = $S.relativeCoords(ev);
                $S.startRange($04);
            }, $06));
        };
        $S.onMainTouchMove = function(ev) {
            $S.clearTimeouts();
            $S.start = false;
            if ($S.active) {
                ev.preventDefault();
                var $04 = $S.relativeCoords(ev);
                if ($S.moving) {
                    $S.updateMoving($04);
                    return;
                };
                if ($S.range) {
                    $S.updateRange($04);
                }
            }
        };
        $S.onMainTouchEnd = function(ev) {
            $S.clearTimeouts();
            if ($S.active) {
                if ($S.moving) {
                    var $07 = $S.moving;
                    var e = $S.moving.event;
                    var $08 = $c.shadow.start;
                    var $09 = $c.shadow.position;
                    var $C = $S.moving.offset;
                    $c.$2A();
                    $S.moving = null;
                    $c.$2T(e, $08.x, $08.y, $C, ev, $09);
                };
                if ($S.range) {
                    var $0a = $S.range;
                    var $08 = new DayPilot.Date($c.$2B($0a.from.x, $0a.from.y));
                    var end = $08.addDays($0a.width);
                    $S.range = null;
                    $c.$2U($08, end);
                }
            };
            window.setTimeout(function() {
                $S.start = false;
                $S.active = false;
            }, 500);
        };
        $S.clearTimeouts = function() {
            for (var i = 0; i < $S.timeouts.length; i++) {
                clearTimeout($S.timeouts[i]);
            };
            $S.timeouts = [];
        };
        $S.relativeCoords = function(ev) {
            var $M = $c.nav.events;
            var x = ev.touches[0].pageX;
            var y = ev.touches[0].pageY;
            var $04 = {
                x: x,
                y: y
            };
            var $0b = DayPilot.abs($M);
            var $04 = {
                x: x - $0b.x,
                y: y - $0b.y,
                toString: function() {
                    return "x: " + this.x + ", y:" + this.y;
                }
            };
            return $04;
        };
        $S.startMoving = function($t, $04) {
            $c.$2A();
            var ep = $t.event;
            var $s = $c.$2Q($04.x, $04.y);
            if (!$s) {
                return;
            };
            var $E = DayPilot.DateUtil.daysDiff(ep.start(), $c.rows[ep.part.row].start);
            var $C = ($s.y * 7 + $s.x) - (ep.part.row * 7 + ep.part.colStart);
            if ($E) {
                $C += $E;
            };
            var $05 = {};
            $05.start = {};
            $05.start.x = ep.part.colStart;
            $05.start.y = ep.part.row;
            $05.start.line = ep.part.line;
            $05.offset = $c.eventMoveToPosition ? 0 : $C;
            $05.colWidth = ep.part.colWidth;
            $05.event = ep;
            $05.coords = $04;
            $S.moving = $05;
            $S.updateMoving($04);
        };
        $S.updateMoving = function($04) {
            var $s = $c.$2Q($04.x, $04.y);
            if (!$s) {
                return;
            };
            var $0c = $c.$2V($s);
            $c.$2A();
            var event = $S.moving.event;
            var $C = $S.moving.offset;
            var $B = $c.cellMode ? 1 : DayPilot.DateUtil.daysSpan(event.start(), event.end()) + 1;
            if ($B < 1) {
                $B = 1;
            };
            $c.$2w($s.x, $s.y, $0c, $B, $C, event);
        };
        $S.startRange = function($04) {
            var $s = $c.$2Q($04.x, $04.y);
            if (!$s) {
                return;
            };
            $c.$2A();
            var $0d = {};
            $0d.start = {};
            $0d.start.x = $s.x;
            $0d.start.y = $s.y;
            $0d.x = $s.x;
            $0d.y = $s.y;
            $0d.width = 1;
            $S.range = $0d;
            $S.updateRange($04);
        };
        $S.updateRange = function($04) {
            var $s = $c.$2Q($04.x, $04.y);
            if (!$s) {
                return;
            };
            $c.$2A();
            var $08 = $S.range.start;
            var $0e = $08.y * 7 + $08.x;
            var $0f = $s.y * 7 + $s.x;
            var $B = Math.abs($0f - $0e) + 1;
            if ($B < 1) {
                $B = 1;
            };
            var $0g = $0e < $0f ? $08 : $s;
            $S.range.width = $B;
            $S.range.from = {
                x: $0g.x,
                y: $0g.y
            };
            $c.$2w($0g.x, $0g.y, 0, $B, 0, null);
        };
        this.isWeekend = function($0h) {
            var $0i = 0;
            var $0j = 6;
            if ($0h.dayOfWeek() === $0i) {
                return true;
            };
            if ($0h.dayOfWeek() === $0j) {
                return true;
            };
            return false;
        };
        this.$2W = function() {
            var $0k = this.startDate.lastDayOfMonth();
            if (this.showWeekend) {
                return $0k;
            }
            while (this.isWeekend($0k)) {
                $0k = $0k.addDays(-1);
            };
            return $0k;
        };
        this.$2c = function() {
            if (typeof this.startDate === 'string') {
                this.startDate = new DayPilot.Date(this.startDate);
            };
            if (this.viewType === 'Month') {
                this.startDate = this.startDate.firstDayOfMonth();
            } else {
                this.startDate = this.startDate.getDatePart();
            };
            this.firstDate = this.startDate.firstDayOfWeek($N.weekStarts());
            if (!this.showWeekend) {
                var $0l = this.startDate.addMonths(-1).getMonth();
                var $0m = new DayPilot.Date(this.firstDate).addDays(6);
                while (this.isWeekend($0m)) {
                    $0m = $0m.addDays(-1);
                };
                if ($0m.getMonth() === $0l) {
                    this.firstDate = this.firstDate.addDays(7);
                }
            };
            var $0n = this.startDate;
            var $0o;
            if (this.viewType === 'Month') {
                var $0p = this.$2W();
                var $0q = DayPilot.DateUtil.daysDiff(this.firstDate, $0p) + 1;
                $0o = Math.ceil($0q / 7);
            } else {
                $0o = this.weeks;
            };
            this.days = $0o * 7;
            this.rows = [];
            for (var x = 0; x < $0o; x++) {
                var r = {};
                r.start = this.firstDate.addDays(x * 7);
                r.end = r.start.addDays(this.$2q());
                r.events = [];
                r.lines = [];
                r.index = x;
                r.minHeight = this.cellHeight;
                r.calendar = this;
                r.belongsHere = function(ev) {
                    if (ev.end.getTime() === ev.start.getTime() && ev.start.getTime() === this.start.getTime()) {
                        return true;
                    };
                    return !(ev.end.getTime() <= this.start.getTime() || ev.start.getTime() >= this.end.getTime());
                };
                r.getPartStart = function(ep) {
                    return DayPilot.DateUtil.max(this.start, ep.start());
                };
                r.getPartEnd = function(ep) {
                    return DayPilot.DateUtil.min(this.end, ep.end());
                };
                r.getStartColumn = function(ep) {
                    var $0r = this.getPartStart(ep);
                    return DayPilot.DateUtil.daysDiff(this.start, $0r);
                };
                r.getWidth = function(ep) {
                    return DayPilot.DateUtil.daysSpan(this.getPartStart(ep), this.getPartEnd(ep)) + 1;
                };
                r.putIntoLine = function(ep, $q, $r, $p) {
                    var $0s = this;
                    for (var i = 0; i < this.lines.length; i++) {
                        var $u = this.lines[i];
                        if ($u.isFree($q, $r)) {
                            $u.addEvent(ep, $q, $r, $p, i);
                            return i;
                        }
                    };
                    var $u = [];
                    $u.isFree = function($q, $r) {
                        var $0t = true;
                        for (var i = 0; i < this.length; i++) {
                            var ep = this[i];
                            if (!($q + $r - 1 < ep.part.colStart || $q > ep.part.colStart + ep.part.colWidth - 1)) {
                                $0t = false;
                            }
                        };
                        return $0t;
                    };
                    $u.addEvent = function(ep, $q, $r, $p, $0u) {
                        ep.part.colStart = $q;
                        ep.part.colWidth = $r;
                        ep.part.row = $p;
                        ep.part.line = $0u;
                        ep.part.startsHere = $0s.start.getTime() <= ep.start().getTime();
                        ep.part.endsHere = $0s.end.getTime() >= ep.end().getTime();
                        this.push(ep);
                    };
                    $u.addEvent(ep, $q, $r, $p, this.lines.length);
                    this.lines.push($u);
                    return this.lines.length - 1;
                };
                r.getStart = function() {
                    var $08 = 0;
                    for (var i = 0; i < $c.rows.length && i < this.index; i++) {
                        $08 += $c.rows[i].getHeight();
                    }
                };
                r.getHeight = function() {
                    return Math.max(this.lines.length * $N.lineHeight() + $c.cellHeaderHeight + $c.cellMarginBottom, this.calendar.cellHeight);
                };
                this.rows.push(r);
            };
            this.$2X = this.firstDate.addDays($0o * 7);
        };
        this.$2Y = function() {
            switch (this.heightSpec) {
                case "Auto":
                    var $J = $N.headerHeight();
                    for (var i = 0; i < this.rows.length; i++) {
                        $J += this.rows[i].getHeight();
                    };
                    return $J;
                case "Fixed":
                    return this.height;
            }
        };
        this.$2Z = function($08, end) {
            var $0v = (end.y * 7 + end.x) - ($08.y * 7 + $08.x);
            return $0v + 1;
        };
        this.$30 = {};
        this.$30.scope = null;
        this.$30.notify = function() {
            if ($c.$30.scope) {
                $c.$30.scope["$apply"]();
            }
        };
        this.debug = new DayPilot.Debug(this);
        this.$31 = function() {
            var $0w = this.nav.top;
            this.nav.top.dp = this;
            $0w.setAttribute("unselectable", "on");
            $0w.style.MozUserSelect = 'none';
            $0w.style.KhtmlUserSelect = 'none';
            $0w.style.WebkitUserSelect = 'none';
            $0w.style.WebkitTapHighlightColor = "rgba(0,0,0,0)";
            $0w.style.WebkitTouchCallout = "none";
            $0w.style.position = 'relative';
            if (this.width) {
                $0w.style.width = this.width;
            };
            $0w.onselectstart = function(e) {
                return false;
            };
            if (this.cssOnly) {
                $0w.className = this.$2l("_main");
            } else {
                $0w.style.border = "1px solid " + this.borderColor;
            };
            if (this.hideUntilInit) {
                $0w.style.visibility = 'hidden';
            };
            if (!this.visible) {
                $0w.style.display = "none";
            };
            $0w.onmousemove = this.$32;
            $0w.ontouchstart = $S.onMainTouchStart;
            $0w.ontouchmove = $S.onMainTouchMove;
            $0w.ontouchend = $S.onMainTouchEnd;
            this.$2a = document.createElement("div");
            this.$2a.style.display = 'none';
            this.nav.top.appendChild(this.$2a);
            var $0x = document.createElement("div");
            $0x.style.position = "relative";
            $0x.style.height = $N.headerHeight() + "px";
            $0x.oncontextmenu = function() {
                return false;
            };
            this.nav.top.appendChild($0x);
            this.nav.header = $0x;
            var $0y = document.createElement("div");
            $0y.style.zoom = "1";
            var $0z = document.createElement("div");
            $0z.style.position = "relative";
            $0y.appendChild($0z);
            this.nav.top.appendChild($0y);
            this.nav.scrollable = $0y;
            this.nav.events = $0z;
        };
        this.$32 = function(ev) {
            $c.coords = DayPilot.mo3($c.nav.events, ev);
            var $04 = $c.coords;
            if (!$04) {
                return;
            };
            var $s = $c.$2Q($04.x, $04.y);
            if (!$s) {
                return;
            };
            if (DayPilotMonth.resizingEvent) {
                $c.$2A();
                var $03 = DayPilotMonth.resizingEvent;
                var $0A = $03.start;
                var $B, $08;
                if ($03.direction === 'w-resize') {
                    $08 = $s;
                    var $0B = $03.event.end();
                    if ($0B.getDatePart().getTime() === $0B.getTime()) {
                        $0B = $0B.addDays(-1);
                    };
                    var end = $c.$33($0B);
                    $B = $c.$2Z($s, end);
                } else {
                    $08 = $c.$33($03.event.start());
                    $B = $c.$2Z($08, $s);
                };
                if ($B < 1) {
                    $B = 1;
                };
                $c.$2w($08.x, $08.y, 0, $B);
            } else if (DayPilotMonth.movingEvent) {
                $c.debug.message("mousemove/moving start coords: " + DayPilotMonth.movingEvent.coords.x + " " + DayPilotMonth.movingEvent.coords.y);
                $c.debug.message("mousemove/current coords: " + $04.x + " " + $04.y);
                if ($04.x === DayPilotMonth.movingEvent.coords.x && $04.y === DayPilotMonth.movingEvent.coords.y) {
                    return;
                };
                var $0c = $c.$2V($s);
                $c.$2A();
                var event = DayPilotMonth.movingEvent.event;
                var $C = DayPilotMonth.movingEvent.offset;
                var $B = $c.cellMode ? 1 : DayPilot.DateUtil.daysSpan(event.start(), event.end()) + 1;
                if ($B < 1) {
                    $B = 1;
                };
                $c.$2w($s.x, $s.y, $0c, $B, $C, event);
            } else if (DayPilotMonth.timeRangeSelecting) {
                DayPilotMonth.cancelCellClick = true;
                $c.$2A();
                var $08 = DayPilotMonth.timeRangeSelecting;
                var $0e = $08.y * 7 + $08.x;
                var $0f = $s.y * 7 + $s.x;
                var $B = Math.abs($0f - $0e) + 1;
                if ($B < 1) {
                    $B = 1;
                };
                var $0g = $0e < $0f ? $08 : $s;
                DayPilotMonth.timeRangeSelecting.from = {
                    x: $0g.x,
                    y: $0g.y
                };
                DayPilotMonth.timeRangeSelecting.width = $B;
                DayPilotMonth.timeRangeSelecting.moved = true;
                $c.$2w($0g.x, $0g.y, 0, $B, 0, null);
            }
        };
        this.$2V = function($s) {
            var y = $s.relativeY;
            var $p = $c.rows[$s.y];
            var top = $c.cellHeaderHeight;
            var lh = $N.lineHeight();
            var $0C = $p.lines.length;
            for (var i = 0; i < $p.lines.length; i++) {
                var $u = $p.lines[i];
                if ($u.isFree($s.x, 1)) {
                    $0C = i;
                    break;
                }
            };
            var $0D = Math.floor((y - top + lh / 2) / lh);
            var $0D = Math.min($0C, $0D);
            var $0D = Math.max(0, $0D);
            return $0D;
        };
        this.message = function($0E, $0F, $0G, $0H) {
            if ($0E === null) {
                return;
            };
            var $0F = $0F || this.messageHideAfter || 2000;
            var $0G = $0G || "#ffffff";
            var $0H = $0H || "#000000";
            var $0I = 0.8;
            var top = $N.headerHeight();
            var $R = 1;
            var $0J = 0;
            var $t;
            if (!this.nav.message) {
                $t = document.createElement("div");
                $t.setAttribute("unselectable", "on");
                $t.style.position = "absolute";
                $t.style.right = "0px";
                $t.style.left = "0px";
                $t.style.top = top + "px";
                $t.style.opacity = $0I;
                $t.style.filter = "alpha(opacity=" + ($0I * 100) + ")";
                $t.style.display = 'none';
                $t.onmousemove = function() {
                    if ($t.messageTimeout && !$t.status) {
                        clearTimeout($t.messageTimeout);
                    }
                };
                $t.onmouseout = function() {
                    if ($c.nav.message.style.display !== 'none') {
                        $t.messageTimeout = setTimeout($c.$34, 500);
                    }
                };
                if (!this.cssOnly) {
                    $t.style.textAlign = "left";
                };
                var $T = document.createElement("div");
                $T.setAttribute("unselectable", "on");
                $T.onclick = function() {
                    $c.nav.message.style.display = 'none';
                };
                if (!this.cssOnly) {
                    $T.style.padding = "5px";
                } else {
                    $T.className = this.$2l("_message");
                };
                $t.appendChild($T);
                var close = document.createElement("div");
                close.setAttribute("unselectable", "on");
                close.style.position = "absolute";
                if (!this.cssOnly) {
                    close.style.top = "5px";
                    close.style.right = (DayPilot.sw($c.nav.scroll) + 5) + "px";
                    close.style.color = $0G;
                    close.style.lineHeight = "100%";
                    close.style.cursor = "pointer";
                    close.style.fontWeight = "bold";
                    close.innerHTML = "X";
                } else {
                    close.className = this.$2l("_message_close");
                };
                close.onclick = function() {
                    $c.nav.message.style.display = 'none';
                };
                $t.appendChild(close);
                this.nav.top.appendChild($t);
                this.nav.message = $t;
            } else {
                $t = $c.nav.message;
            };
            var $0K = function() {
                $c.nav.message.style.opacity = $0I;
                var $T = $c.nav.message.firstChild;
                if (!$c.cssOnly) {
                    $T.style.backgroundColor = $0H;
                    $T.style.color = $0G;
                };
                $T.innerHTML = $0E;
                var end = function() {
                    $t.messageTimeout = setTimeout($c.$34, $0F);
                };
                DayPilot.fade($c.nav.message, 0.2, end);
            };
            clearTimeout($t.messageTimeout);
            if (this.nav.message.style.display !== 'none') {
                DayPilot.fade($c.nav.message, -0.2, $0K);
            } else {
                $0K();
            }
        };
        this.message.show = function($0E) {
            $c.message($0E);
        };
        this.message.hide = function() {
            $c.$34();
        };
        this.$34 = function() {
            var end = function() {
                $c.nav.message.style.display = 'none';
            };
            DayPilot.fade($c.nav.message, -0.2, end);
        };
        this.$35 = function(ev) {
            if ($c.heightSpec === "Parent100Pct") {
                $c.$2g();
            }
        };
        this.$2g = function() {
            var $0y = this.nav.scrollable;
            if (this.heightSpec === "Parent100Pct" || this.heightSpec === 'Fixed') {
                $0y.style.top = this.headerHeight + "px";
                $0y.style.bottom = "0px";
                $0y.style.left = "0px";
                $0y.style.right = "0px";
                $0y.style.overflow = "auto";
                $0y.style.position = "absolute";
            } else {
                $0y.style.position = "relative";
            };
            if (this.heightSpec === 'Parent100Pct') {
                this.nav.top.style.height = "100%";
                var $J = this.nav.top.clientHeight;
            } else {
                this.nav.top.style.height = this.$2Y() + 'px';
            };
            for (var x = 0; x < this.cells.length; x++) {
                for (var y = 0; y < this.cells[x].length; y++) {
                    this.cells[x][y].style.top = this.$2x(y) + 'px';
                    this.cells[x][y].style.height = this.rows[y].getHeight() + 'px';
                }
            };
            this.$36();
        };
        this.$2Q = function(x, y) {
            var $0L = Math.floor(this.nav.top.clientWidth / this.$2q());
            var $0M = Math.min(Math.floor(x / $0L), this.$2q() - 1);
            var $p = null;
            var $0N = 0;
            var $J = 0;
            var $0O = 0;
            for (var i = 0; i < this.rows.length; i++) {
                $J += this.rows[i].getHeight();
                if (y < $J) {
                    $0N = y - $0O;
                    $p = i;
                    break;
                };
                $0O = $J;
            };
            if ($p === null) {
                $p = this.rows.length - 1;
            };
            var $s = {};
            $s.x = $0M;
            $s.y = $p;
            $s.relativeY = $0N;
            return $s;
        };
        this.$33 = function($0h) {
            var $B = DayPilot.DateUtil.daysDiff(this.firstDate, $0h);
            var $s = {
                x: 0,
                y: 0
            };
            while ($B >= 7) {
                $s.y++;
                $B -= 7;
            };
            $s.x = $B;
            return $s;
        };
        this.$36 = function() {
            var $B = DayPilot.sw(this.nav.scrollable);
            this.nav.header.style.marginRight = $B + "px";
        };
        var $0P = null;
        this.$2f = function() {
            var $0x = this.nav.header;
            var $0z = this.nav.events;
            this.cells = [];
            for (var x = 0; x < this.$2q(); x++) {
                this.cells[x] = [];
                var $0Q = this.headerProperties ? this.headerProperties[x] : null;
                var $0R = x + $N.weekStarts();
                if ($0R > 6) {
                    $0R -= 7;
                };
                if (!$0Q) {
                    var $0Q = {};
                    $0Q.html = $N.locale().dayNames[$0R];
                    if (!this.cssOnly) {
                        $0Q.backColor = this.headerBackColor;
                    }
                };
                if (typeof $c.onBeforeHeaderRender === 'function') {
                    var $m = {};
                    $m.header = {};
                    $m.header.dayOfWeek = $0R;
                    var $0S = ['html', 'backColor', 'cssClass'];
                    DayPilot.Util.copyProps($0Q, $m.header, $0S);
                    $c.onBeforeHeaderRender($m);
                    DayPilot.Util.copyProps($m.header, $0Q, $0S);
                };
                var $0T = document.createElement("div");
                $0T.setAttribute("unselectable", "on");
                $0T.style.position = 'absolute';
                $0T.style.left = (this.$2z() * x) + '%';
                $0T.style.width = (this.$2z()) + '%';
                $0T.style.top = '0px';
                $0T.style.height = ($N.headerHeight()) + 'px';
                (function(x) {
                    $0T.onclick = function() {
                        $c.$37(x);
                    };
                })($0R);
                var $T = document.createElement("div");
                $T.setAttribute("unselectable", "on");
                $T.className = this.$2l("_header_inner");
                $T.innerHTML = $0Q.html;
                $0T.appendChild($T);
                if (!this.cssOnly) {
                    $T.style.position = "absolute";
                    $T.style.top = "0px";
                    $T.style.bottom = "0px";
                    $T.style.left = "0px";
                    $T.style.right = "0px";
                    $T.style.backgroundColor = $0Q.backColor;
                    $T.style.fontFamily = this.headerFontFamily;
                    $T.style.fontSize = this.headerFontSize;
                    $T.style.color = this.headerFontColor;
                    $T.style.textAlign = 'center';
                    $T.style.cursor = 'default';
                    $T.className = this.$2l("header");
                    if (x !== this.$2q() - 1) {
                        $T.style.borderRight = '1px solid ' + this.borderColor;
                    }
                } else {
                    $0T.className = this.$2l("_header");
                    if ($0Q) {
                        if ($0Q.cssClass) {
                            DayPilot.Util.addClass($0T, $0Q.cssClass);
                        };
                        if ($0Q.backColor) {
                            $T.style.background = $0Q.backColor;
                        }
                    }
                };
                $0x.appendChild($0T);
                for (var y = 0; y < this.rows.length; y++) {
                    this.$38(x, y, $0z);
                }
            };
            if (!DayPilot.contains(this.nav.top.childNodes, $0P) && this.numberFormat) {
                var $t = document.createElement("div");
                $t.style.position = 'absolute';
                $t.style.padding = '2px';
                $t.style.top = '0px';
                $t.style.left = '0px';
                $t.style.backgroundColor = "#FF6600";
                $t.style.color = "white";
                $t.innerHTML = "\u0044\u0045\u004D\u004F";
                $0P = $t;
                this.nav.top.appendChild($t);
            }
        };
        this.$2e = function() {
            for (var x = 0; x < this.cells.length; x++) {
                for (var y = 0; y < this.cells[x].length; y++) {
                    this.cells[x][y].onclick = null;
                }
            };
            this.nav.header.innerHTML = '';
            this.nav.events.innerHTML = '';
        };
        this.$38 = function(x, y, $0x) {
            var $p = this.rows[y];
            var d = this.firstDate.addDays(y * 7 + x);
            var $0U = this.cellProperties ? this.cellProperties[y * this.$2q() + x] : null;
            var $0V = null;
            if ($0U) {
                $0V = $0U["headerHtml"];
            } else {
                var $0h = d.getDay();
                if ($0h === 1) {
                    $0V = $N.locale().monthNames[d.getMonth()] + ' ' + $0h;
                } else {
                    $0V = $0h + "";
                }
            };
            if (!$0U) {
                var $0U = {};
                $0U.business = !$c.isWeekend(d);
                $0U.headerHtml = $0V;
            };
            if (typeof $c.onBeforeCellRender === 'function') {
                var $m = {};
                $m.cell = {};
                $m.cell.areas = null;
                $m.cell.backColor = null;
                $m.cell.backImage = null;
                $m.cell.backRepeat = null;
                $m.cell.business = $c.isWeekend(d);
                $m.cell.headerHtml = $0V;
                $m.cell.headerBackColor = null;
                $m.cell.cssClass = null;
                $m.cell.html = null;
                $m.cell.start = d;
                $m.cell.end = $m.cell.start.addDays(1);
                DayPilot.Util.copyProps($0U, $m.cell);
                $c.onBeforeCellRender($m);
                DayPilot.Util.copyProps($m.cell, $0U, ['areas', 'backColor', 'backImage', 'backRepeat', 'business', 'headerHtml', 'headerBackColor', 'cssClass', 'html']);
            };
            var $s = document.createElement("div");
            $s.setAttribute("unselectable", "on");
            $s.style.position = 'absolute';
            $s.style.cursor = 'default';
            $s.style.left = (this.$2z() * x) + '%';
            $s.style.width = (this.$2z()) + '%';
            $s.style.top = (this.$2x(y)) + 'px';
            $s.style.height = ($p.getHeight()) + 'px';
            $s.d = d;
            $s.x = x;
            $s.y = y;
            $s.props = $0U;
            var $0l = this.startDate.addMonths(-1).getMonth();
            var $0W = this.startDate.addMonths(1).getMonth();
            var $0X = this.startDate.getMonth();
            var $T = document.createElement("div");
            $T.setAttribute("unselectable", "on");
            $s.appendChild($T);
            $T.className = this.$2l("_cell_inner");
            $T.className = this.$2l("_cell_inner");
            if (d.getMonth() === $0X) {
                $s.className = this.$2l("_cell");
            } else if (d.getMonth() === $0l) {
                $s.className = this.$2l("_cell") + " " + this.$2l("_previous");
            } else if (d.getMonth() === $0W) {
                $s.className = this.$2l("_cell") + " " + this.$2l("_next");
            } else {
                $a();
            };
            if ($0U) {
                if ($0U["cssClass"]) {
                    DayPilot.Util.addClass($s, $0U.cssClass);
                };
                if ($0U["business"]) {
                    DayPilot.Util.addClass($s, this.$2l("_cell_business"));
                };
                if ($0U["backColor"]) {
                    $T.style.backgroundColor = $0U["backColor"];
                };
                if ($0U["backImage"]) {
                    $T.style.backgroundImage = "url('" + $0U["backImage"] + "')";
                };
                if ($0U["backRepeat"]) {
                    $T.style.backgroundRepeat = $0U["backRepeat"];
                }
            };
            $s.onmousedown = this.$39;
            $s.onmousemove = this.$3a;
            $s.onmouseout = this.$3b;
            $s.oncontextmenu = this.$3c;
            $s.onclick = this.$3d;
            $s.ondblclick = this.$3e;
            var $0Y = document.createElement("div");
            $0Y.setAttribute("unselectable", "on");
            $0Y.style.height = this.cellHeaderHeight + "px";
            if ($0U && $0U["headerBackColor"]) {
                $0Y.style.background = $0U["headerBackColor"];
            };
            $0Y.className = this.$2l("_cell_header");
            $0Y.innerHTML = $0U.headerHtml;
            $T.appendChild($0Y);
            if ($0U && $0U["html"]) {
                var $0E = document.createElement("div");
                $0E.setAttribute("unselectable", "on");
                $0E.style.height = ($p.getHeight() - this.cellHeaderHeight) + 'px';
                $0E.style.overflow = 'hidden';
                $0E.innerHTML = $0U["html"];
                $T.appendChild($0E);
            };
            if (this.cellMode) {
                var $0Z = document.createElement("div");
                $0Z.setAttribute("unselectable", "on");
                $0Z.style.height = (this.cellHeight - this.cellHeaderHeight) + "px";
                $0Z.style.overflow = 'auto';
                $0Z.style.position = 'relative';
                var $L = document.createElement('div');
                $L.setAttribute("unselectable", "on");
                $L.style.paddingTop = "1px";
                $L.style.paddingBottom = "1px";
                $0Z.appendChild($L);
                $T.appendChild($0Z);
                $s.body = $L;
                $s.scrolling = $0Z;
            };
            if ($s.props) {
                var $Y = $s.props.areas || [];
                for (var i = 0; i < $Y.length; i++) {
                    var $X = $Y[i];
                    if ($X.v !== 'Visible') {
                        continue;
                    };
                    var a = DayPilot.Areas.createArea($s, $s.props, $X);
                    $s.appendChild(a);
                }
            };
            this.cells[x][y] = $s;
            $0x.appendChild($s);
            if (typeof $c.onAfterCellRender === "function") {
                $m.cell.div = $s;
                $m.cell.divHeader = $0Y;
                $c.onAfterCellRender($m);
            }
        };
        this.$3a = function() {
            var c = this;
            if (c.props) {
                DayPilot.Areas.showAreas(c, c.props);
            }
        };
        this.$3b = function(ev) {
            var c = this;
            if (c.props) {
                DayPilot.Areas.hideAreas(c, ev);
            }
        };
        this.$3c = function() {
            var d = this.d;
            var go = function(d) {
                var $08 = new DayPilot.Date(d);
                var end = $08.addDays(1);
                var $10 = new DayPilot.Selection($08, end, null, $c);
                if ($c.contextMenuSelection) {
                    $c.contextMenuSelection.show($10);
                }
            };
            go(d);
            return false;
        };
        this.$3e = function() {
            var d = this.d;
            if ($c.timeouts) {
                for (var $11 in $c.timeouts) {
                    window.clearTimeout($c.timeouts[$11]);
                };
                $c.timeouts = null;
            };
            if ($c.timeRangeDoubleClickHandling !== 'Disabled') {
                var $08 = new DayPilot.Date(d);
                var end = $08.addDays(1);
                $c.$3f($08, end);
            }
        };
        this.$3d = function() {
            if (DayPilotMonth.cancelCellClick) {
                return;
            };
            var d = this.d;
            var $12 = function(d) {
                var $08 = new DayPilot.Date(d);
                var end = $08.addDays(1);
                $c.$2U($08, end);
            };
            if ($c.timeRangeSelectedHandling !== 'Disabled' && $c.timeRangeDoubleClickHandling === 'Disabled') {
                $12(d);
                return;
            };
            if (!$c.timeouts) {
                $c.timeouts = [];
            };
            var $13 = function(d) {
                return function() {
                    $12(d);
                };
            };
            $c.timeouts.push(window.setTimeout($13(d), $c.doubleClickTimeout));
        };
        this.$39 = function(e) {
            var $s = this;
            var x = $s.x;
            var y = $s.y;
            DayPilotMonth.cancelCellClick = false;
            if ($s.scrolling) {
                var $C = DayPilot.mo3($s.scrolling, e);
                var sw = DayPilot.sw($s.scrolling);
                var $B = $s.scrolling.offsetWidth;
                if ($C.x > $B - sw) {
                    return;
                }
            };
            if ($c.timeRangeSelectedHandling !== 'Disabled') {
                $c.$2A();
                DayPilotMonth.timeRangeSelecting = {
                    "root": $c,
                    "x": x,
                    "y": y,
                    "from": {
                        x: x,
                        y: y
                    },
                    "width": 1
                };
            }
        };
        this.$2q = function() {
            if (this.showWeekend) {
                return 7;
            } else {
                return 5;
            }
        };
        this.$2z = function() {
            if (this.showWeekend) {
                return 14.285;
            } else {
                return 20;
            }
        };
        this.$3g = function(d) {
            if (d.getUTCDay() === 6 || d.getUTCDay() === 0) {
                return this.nonBusinessBackColor;
            };
            return this.backColor;
        };
        this.$2x = function($0u) {
            var top = 0;
            for (var i = 0; i < $0u; i++) {
                top += this.rows[i].getHeight();
            };
            return top;
        };
        this.clearSelection = function() {
            this.$2A();
        };
        this.$3h = function($14, $i, $15) {
            var $16 = {};
            $16.action = $14;
            $16.parameters = $15;
            $16.data = $i;
            $16.header = this.$3i();
            var $17 = "JSON" + DayPilot.JSON.stringify($16);
            __doPostBack($c.uniqueID, $17);
        };
        this.$3j = function($14, $15, $i, $18) {
            if (!this.$3k()) {
                $c.debug.message("Callback invoked without the server-side backend specified. Callback canceled.", "warning");
                return;
            };
            if (typeof $18 === 'undefined') {
                $18 = "CallBack";
            };
            var $16 = {};
            $16.action = $14;
            $16.type = $18;
            $16.parameters = $15;
            $16.data = $i;
            $16.header = this.$3i();
            var $17 = "JSON" + DayPilot.JSON.stringify($16);
            if (this.backendUrl) {
                DayPilot.request(this.backendUrl, this.$3l, $17, this.$3m);
            } else if (typeof WebForm_DoCallback === 'function') {
                WebForm_DoCallback(this.uniqueID, $17, this.$27, null, this.callbackError, true);
            }
        };
        this.$3k = function() {
            if (this.backendUrl) {
                return true;
            };
            if (typeof WebForm_DoCallback === 'function' && this.uniqueID) {
                return true;
            };
            return false;
        };
        this.$3m = function($19) {
            if (typeof $c.onAjaxError === 'function') {
                var $m = {};
                $m.request = $19;
                $c.onAjaxError($m);
            } else if (typeof $c.ajaxError === 'function') {
                $c.ajaxError($19);
            }
        };
        this.$3l = function($1a) {
            $c.$27($1a.responseText);
        };
        this.$3i = function() {
            var h = {};
            h.v = this.v;
            h.control = "dpm";
            h.id = this.id;
            h.visibleStart = new DayPilot.Date(this.firstDate);
            h.visibleEnd = h.visibleStart.addDays(this.days);
            h.clientState = this.clientState;
            h.cssOnly = $c.cssOnly;
            h.cssClassPrefix = $c.cssClassPrefix;
            h.startDate = $c.startDate;
            h.showWeekend = this.showWeekend;
            h.headerBackColor = this.headerBackColor;
            h.backColor = this.backColor;
            h.nonBusinessBackColor = this.nonBusinessBackColor;
            h.locale = this.locale;
            h.timeFormat = this.timeFormat;
            h.weekStarts = this.weekStarts;
            h.viewType = this.viewType;
            h.weeks = this.weeks;
            h.selected = $c.multiselect.events();
            h.hashes = $c.hashes;
            return h;
        };
        this.visibleStart = function() {
            return new DayPilot.Date(this.firstDate);
        };
        this.visibleEnd = function() {
            return $c.visibleStart().addDays($c.days);
        };
        this.$3n = function($18, $14, $1b, $i) {
            if ($18 === 'PostBack') {
                $c.postBack2($14, $1b, $i);
            } else if ($18 === 'CallBack') {
                $c.$3j($14, $1b, $i, "CallBack");
            } else if ($18 === 'Immediate') {
                $c.$3j($14, $1b, $i, "Notify");
            } else if ($18 === 'Queue') {
                $c.queue.add(new DayPilot.Action(this, $14, $1b, $i));
            } else if ($18 === 'Notify') {
                if ($N.notifyType() === 'Notify') {
                    $c.$3j($14, $1b, $i, "Notify");
                } else {
                    $c.queue.add(new DayPilot.Action($c, $14, $1b, $i));
                }
            } else {
                throw "Invalid event invocation type";
            }
        };
        this.$3o = function($m, $g) {
            var $f = $c.$3p($g);
            var $1b = {};
            $1b.args = $m;
            $1b.guid = $f;
            $c.$3j("Bubble", $1b);
        };
        this.$3p = function($g) {
            var $f = DayPilot.guid();
            if (!this.bubbles) {
                this.bubbles = [];
            };
            this.bubbles[$f] = $g;
            return $f;
        };
        this.eventClickPostBack = function(e, $i) {
            this.$3h("EventClick", $i, e);
        };
        this.eventClickCallBack = function(e, $i) {
            this.$3j('EventClick', e, $i);
        };
        this.$2K = function($t, e) {
            DayPilotMonth.movingEvent = null;
            DayPilotMonth.resizingEvent = null;
            var e = e || window.event;
            var $1c = e.ctrlKey;
            var $1d = e.metaKey;
            e.cancelBubble = true;
            if (e.stopPropagation) {
                e.stopPropagation();
            };
            if (typeof(DayPilotBubble) !== 'undefined') {
                DayPilotBubble.hideActive();
            };
            if ($c.eventDoubleClickHandling === 'Disabled') {
                $c.$2S($t, e);
                return;
            };
            if (!$c.timeouts) {
                $c.timeouts = [];
            } else {
                for (var $11 in $c.timeouts) {
                    window.clearTimeout($c.timeouts[$11]);
                };
                $c.timeouts = [];
            };
            var $1e = function($t, e) {
                return function() {
                    $c.$2S($t, e);
                };
            };
            $c.timeouts.push(window.setTimeout($1e($t, e), $c.doubleClickTimeout));
        };
        this.$2S = function($t, ev) {
            var e = $t.event;
            if (!e.client.clickEnabled()) {
                return;
            };
            var $1c = ev.ctrlKey;
            var $1d = ev.metaKey;
            if ($c.$2k()) {
                var $m = {};
                $m.e = e;
                $m.div = $t;
                $m.originalEvent = ev;
                $m.meta = ev.metaKey;
                $m.ctrl = ev.ctrlKey;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventClick === 'function') {
                    $c.onEventClick($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventClickHandling) {
                    case 'PostBack':
                        $c.eventClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventClickCallBack(e);
                        break;
                    case 'Select':
                        $c.$3q($t, e, $1c, $1d);
                        break;
                    case 'ContextMenu':
                        var $1f = e.client.contextMenu();
                        if ($1f) {
                            $1f.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(e);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                };
                if (typeof $c.onEventClicked === 'function') {
                    $c.onEventClicked($m);
                }
            } else {
                switch ($c.eventClickHandling) {
                    case 'PostBack':
                        $c.eventClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventClick(e);
                        break;
                    case 'Select':
                        $c.$3q($t, e, $1c, $1d);
                        break;
                    case 'ContextMenu':
                        var $1f = e.client.contextMenu();
                        if ($1f) {
                            $1f.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(e);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                }
            }
        };
        this.$2M = function(e) {
            if ($c.$2k()) {
                var $m = {};
                $m.e = e;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventDelete === 'function') {
                    $c.onEventDelete($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventDeleteHandling) {
                    case 'PostBack':
                        $c.eventDeletePostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDeleteCallBack(e);
                        break;
                    case 'Update':
                        $c.events.remove(e);
                        break;
                };
                if (typeof $c.onEventDeleted === 'function') {
                    $c.onEventDeleted($m);
                }
            } else {
                switch ($c.eventDeleteHandling) {
                    case 'PostBack':
                        $c.eventDeletePostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDeleteCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventDelete(e);
                        break;
                }
            }
        };
        this.eventDeletePostBack = function(e, $i) {
            this.$3h('EventDelete', e, $i);
        };
        this.eventDeleteCallBack = function(e, $i) {
            this.$3j('EventDelete', e, $i);
        };
        this.eventDoubleClickPostBack = function(e, $i) {
            this.$3h('EventDoubleClick', $i, e);
        };
        this.eventDoubleClickCallBack = function(e, $i) {
            this.$3j('EventDoubleClick', e, $i);
        };
        this.$2L = function($t, ev) {
            if (typeof(DayPilotBubble) !== 'undefined') {
                DayPilotBubble.hideActive();
            };
            if ($c.timeouts) {
                for (var $11 in $c.timeouts) {
                    window.clearTimeout($c.timeouts[$11]);
                };
                $c.timeouts = null;
            };
            var ev = ev || window.event;
            var e = $t.event;
            if ($c.$2k()) {
                var $m = {};
                $m.e = e;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventDoubleClick === 'function') {
                    $c.onEventDoubleClick($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventDoubleClickHandling) {
                    case 'PostBack':
                        $c.eventDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDoubleClickCallBack(e);
                        break;
                    case 'Select':
                        $c.$3q($t, e, ev.ctrlKey, ev.metaKey);
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                };
                if (typeof $c.onEventDoubleClicked === 'function') {
                    $c.onEventDoubleClicked($m);
                }
            } else {
                switch ($c.eventDoubleClickHandling) {
                    case 'PostBack':
                        $c.eventDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDoubleClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventDoubleClick(e);
                        break;
                    case 'Select':
                        $c.$3q($t, e, ev.ctrlKey, ev.metaKey);
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                }
            }
        };
        this.$3q = function($t, e, $1c, $1d) {
            $c.$3r($t, e, $1c, $1d);
        };
        this.eventSelectPostBack = function(e, $1g, $i) {
            var $1b = {};
            $1b.e = e;
            $1b.change = $1g;
            this.$3h('EventSelect', $i, $1b);
        };
        this.eventSelectCallBack = function(e, $1g, $i) {
            var $1b = {};
            $1b.e = e;
            $1b.change = $1g;
            this.$3j('EventSelect', $1b, $i);
        };
        this.$3r = function($t, e, $1c, $1d) {
            var m = $c.multiselect;
            var $1h = false;
            var $1i = m.isSelected(e);
            var $1j = $1c || $1d;
            if (!$1j && $1i && !$1h && m.list.length === 1) {
                return;
            };
            if ($c.$2k()) {
                m.previous = m.events();
                var $m = {};
                $m.e = e;
                $m.selected = m.isSelected(e);
                $m.ctrl = $1c;
                $m.meta = $1d;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventSelect === 'function') {
                    $c.onEventSelect($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventSelectHandling) {
                    case 'PostBack':
                        $c.eventSelectPostBack(e, $1g);
                        break;
                    case 'CallBack':
                        if (typeof WebForm_InitCallback !== 'undefined') {
                            window.__theFormPostData = "";
                            window.__theFormPostCollection = [];
                            WebForm_InitCallback();
                        };
                        $c.eventSelectCallBack(e, $1g);
                        break;
                    case 'Update':
                        m.$3s($t, $1c);
                        break;
                };
                if (typeof $c.onEventSelected === 'function') {
                    $m.change = m.isSelected(e) ? "selected" : "deselected";
                    $m.selected = m.isSelected(e);
                    $c.onEventSelected($m);
                }
            } else {
                m.previous = m.events();
                m.$3s($t, $1c);
                var $1g = m.isSelected(e) ? "selected" : "deselected";
                switch ($c.eventSelectHandling) {
                    case 'PostBack':
                        $c.eventSelectPostBack(e, $1g);
                        break;
                    case 'CallBack':
                        if (typeof WebForm_InitCallback !== 'undefined') {
                            window.__theFormPostData = "";
                            window.__theFormPostCollection = [];
                            WebForm_InitCallback();
                        };
                        $c.eventSelectCallBack(e, $1g);
                        break;
                    case 'JavaScript':
                        $c.onEventSelect(e, $1g);
                        break;
                }
            }
        };
        this.eventRightClickPostBack = function(e, $i) {
            this.$3h("EventRightClick", $i, e);
        };
        this.eventRightClickCallBack = function(e, $i) {
            this.$3j('EventRightClick', e, $i);
        };
        this.$2P = function(e) {
            this.event = e;
            if (!e.client.rightClickEnabled()) {
                return false;
            };
            if ($c.$2k()) {
                var $m = {};
                $m.e = e;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventRightClick === 'function') {
                    $c.onEventRightClick($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventRightClickHandling) {
                    case 'PostBack':
                        $c.eventRightClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventRightClickCallBack(e);
                        break;
                    case 'ContextMenu':
                        var $1f = e.client.contextMenu();
                        if ($1f) {
                            $1f.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(this.event);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                };
                if (typeof $c.onEventRightClicked === 'function') {
                    $c.onEventRightClicked($m);
                }
            } else {
                switch ($c.eventRightClickHandling) {
                    case 'PostBack':
                        $c.eventRightClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventRightClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventRightClick(e);
                        break;
                    case 'ContextMenu':
                        var $1f = e.client.contextMenu();
                        if ($1f) {
                            $1f.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(this.event);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                }
            };
            return false;
        };
        this.eventMenuClickPostBack = function(e, $1k, $i) {
            var $1b = {};
            $1b.e = e;
            $1b.command = $1k;
            this.$3h('EventMenuClick', $i, $1b);
        };
        this.eventMenuClickCallBack = function(e, $1k, $i) {
            var $1b = {};
            $1b.e = e;
            $1b.command = $1k;
            this.$3j('EventMenuClick', $1b, $i);
        };
        this.$3t = function($1k, e, $1l) {
            switch ($1l) {
                case 'PostBack':
                    $c.eventMenuClickPostBack(e, $1k);
                    break;
                case 'CallBack':
                    $c.eventMenuClickCallBack(e, $1k);
                    break;
            }
        };
        this.eventMovePostBack = function(e, $1m, $1n, $i, $09) {
            if (!$1m) throw 'newStart is null';
            if (!$1n) throw 'newEnd is null';
            var $1b = {};
            $1b.e = e;
            $1b.newStart = $1m;
            $1b.newEnd = $1n;
            $1b.position = $09;
            this.$3h('EventMove', $i, $1b);
        };
        this.eventMoveCallBack = function(e, $1m, $1n, $i, $09) {
            if (!$1m) throw 'newStart is null';
            if (!$1n) throw 'newEnd is null';
            var $1b = {};
            $1b.e = e;
            $1b.newStart = $1m;
            $1b.newEnd = $1n;
            $1b.position = $09;
            this.$3j('EventMove', $1b, $i);
        };
        this.$2T = function(e, x, y, $C, ev, $09) {
            var $1o = e.start().getTimePart();
            var $0B = e.end().getDatePart();
            if ($0B.getTime() !== e.end().getTime()) {
                $0B = $0B.addDays(1);
            };
            var $1p = DayPilot.DateUtil.diff(e.end(), $0B);
            var $1q = this.$2B(x, y);
            $1q = $1q.addDays(-$C);
            var $B = DayPilot.DateUtil.daysSpan(e.start(), e.end()) + 1;
            var $1r = $1q.addDays($B);
            var $1m = $1q.addTime($1o);
            var $1n = $1r.addTime($1p);
            if ($c.$2k()) {
                var $m = {};
                $m.e = e;
                $m.newStart = $1m;
                $m.newEnd = $1n;
                $m.position = $09;
                $m.ctrl = false;
                if (ev) {
                    $m.ctrl = ev.ctrlKey;
                };
                $m.shift = false;
                if (ev) {
                    $m.shift = ev.shiftKey;
                };
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventMove === 'function') {
                    $c.onEventMove($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventMoveHandling) {
                    case 'PostBack':
                        $c.eventMovePostBack(e, $1m, $1n, null, $09);
                        break;
                    case 'CallBack':
                        $c.eventMoveCallBack(e, $1m, $1n, null, $09);
                        break;
                    case 'Notify':
                        $c.eventMoveNotify(e, $1m, $1n, null, $09);
                        break;
                    case 'Update':
                        e.start($1m);
                        e.end($1n);
                        $c.events.update(e);
                        break;
                };
                if (typeof $c.onEventMoved === 'function') {
                    $c.onEventMoved($m);
                }
            } else {
                switch ($c.eventMoveHandling) {
                    case 'PostBack':
                        $c.eventMovePostBack(e, $1m, $1n, null, $09);
                        break;
                    case 'CallBack':
                        $c.eventMoveCallBack(e, $1m, $1n, null, $09);
                        break;
                    case 'JavaScript':
                        $c.onEventMove(e, $1m, $1n, ev.ctrlKey, ev.shiftKey, $09);
                        break;
                    case 'Notify':
                        $c.eventMoveNotify(e, $1m, $1n, null, $09);
                        break;
                }
            }
        };
        this.eventMoveNotify = function(e, $1m, $1n, $i, $u) {
            var $1s = new DayPilot.Event(e.copy(), this);
            e.start($1m);
            e.end($1n);
            e.commit();
            $c.update();
            this.$3u("Notify", $1s, $1m, $1n, $i, $u);
        };
        this.$3u = function($18, e, $1m, $1n, $i, $u) {
            var $1b = {};
            $1b.e = e;
            $1b.newStart = $1m;
            $1b.newEnd = $1n;
            $1b.position = $u;
            this.$3n($18, "EventMove", $1b, $i);
        };
        this.eventResizePostBack = function(e, $1m, $1n, $i) {
            if (!$1m) throw 'newStart is null';
            if (!$1n) throw 'newEnd is null';
            var $1b = {};
            $1b.e = e;
            $1b.newStart = $1m;
            $1b.newEnd = $1n;
            this.$3h('EventResize', $i, $1b);
        };
        this.eventResizeCallBack = function(e, $1m, $1n, $i) {
            if (!$1m) throw 'newStart is null';
            if (!$1n) throw 'newEnd is null';
            var $1b = {};
            $1b.e = e;
            $1b.newStart = $1m;
            $1b.newEnd = $1n;
            this.$3j('EventResize', $1b, $i);
        };
        this.$3v = function(e, $08, $B) {
            var $1o = e.start().getTimePart();
            var $0B = e.end().getDatePart();
            if ($0B != e.end()) {
                $0B = $0B.addDays(1);
            };
            var $1p = DayPilot.DateUtil.diff(e.end(), $0B);
            var $1q = this.$2B($08.x, $08.y);
            var $1r = $1q.addDays($B);
            var $1m = $1q.addTime($1o);
            var $1n = $1r.addTime($1p);
            if ($c.$2k()) {
                var $m = {};
                $m.e = e;
                $m.newStart = $1m;
                $m.newEnd = $1n;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventResize === 'function') {
                    $c.onEventResize($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventResizeHandling) {
                    case 'PostBack':
                        $c.eventResizePostBack(e, $1m, $1n);
                        break;
                    case 'CallBack':
                        $c.eventResizeCallBack(e, $1m, $1n);
                        break;
                    case 'Notify':
                        $c.eventResizeNotify(e, $1m, $1n);
                        break;
                    case 'Update':
                        e.start($1m);
                        e.end($1n);
                        $c.events.update(e);
                        break;
                };
                if (typeof $c.onEventResized === 'function') {
                    $c.onEventResized($m);
                }
            } else {
                switch ($c.eventResizeHandling) {
                    case 'PostBack':
                        $c.eventResizePostBack(e, $1m, $1n);
                        break;
                    case 'CallBack':
                        $c.eventResizeCallBack(e, $1m, $1n);
                        break;
                    case 'JavaScript':
                        $c.onEventResize(e, $1m, $1n);
                        break;
                    case 'Notify':
                        $c.eventResizeNotify(e, $1m, $1n);
                        break;
                }
            }
        };
        this.eventResizeNotify = function(e, $1m, $1n, $i) {
            var $1s = new DayPilot.Event(e.copy(), this);
            e.start($1m);
            e.end($1n);
            e.commit();
            $c.update();
            this.$3w("Notify", $1s, $1m, $1n, $i);
        };
        this.$3w = function($18, e, $1m, $1n, $i) {
            var $1b = {};
            $1b.e = e;
            $1b.newStart = $1m;
            $1b.newEnd = $1n;
            this.$3n($18, "EventResize", $1b, $i);
        };
        this.timeRangeSelectedPostBack = function($08, end, $i) {
            var $0d = {};
            $0d.start = $08;
            $0d.end = end;
            this.$3h('TimeRangeSelected', $i, $0d);
        };
        this.timeRangeSelectedCallBack = function($08, end, $i) {
            var $0d = {};
            $0d.start = $08;
            $0d.end = end;
            this.$3j('TimeRangeSelected', $0d, $i);
        };
        this.$2U = function($08, end) {
            if ($c.$2k()) {
                var $m = {};
                $m.start = $08;
                $m.end = end;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onTimeRangeSelect === 'function') {
                    $c.onTimeRangeSelect($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.timeRangeSelectedHandling) {
                    case 'PostBack':
                        $c.timeRangeSelectedPostBack($08, end);
                        $c.clearSelection();
                        break;
                    case 'CallBack':
                        $c.timeRangeSelectedCallBack($08, end);
                        $c.clearSelection();
                        break;
                };
                if (typeof $c.onTimeRangeSelected === 'function') {
                    $c.onTimeRangeSelected($m);
                }
            } else {
                switch ($c.timeRangeSelectedHandling) {
                    case 'PostBack':
                        $c.timeRangeSelectedPostBack($08, end);
                        $c.clearSelection();
                        break;
                    case 'CallBack':
                        $c.timeRangeSelectedCallBack($08, end);
                        $c.clearSelection();
                        break;
                    case 'JavaScript':
                        $c.onTimeRangeSelected($08, end);
                        break;
                }
            }
        };
        this.timeRangeMenuClickPostBack = function(e, $1k, $i) {
            var $1b = {};
            $1b.selection = e;
            $1b.command = $1k;
            this.$3h("TimeRangeMenuClick", $i, $1b);
        };
        this.timeRangeMenuClickCallBack = function(e, $1k, $i) {
            var $1b = {};
            $1b.selection = e;
            $1b.command = $1k;
            this.$3j("TimeRangeMenuClick", $1b, $i);
        };
        this.$3x = function($1k, e, $1l) {
            switch ($1l) {
                case 'PostBack':
                    $c.timeRangeMenuClickPostBack(e, $1k);
                    break;
                case 'CallBack':
                    $c.timeRangeMenuClickCallBack(e, $1k);
                    break;
            }
        };
        this.headerClickPostBack = function(c, $i) {
            this.$3h('HeaderClick', $i, c);
        };
        this.headerClickCallBack = function(c, $i) {
            this.$3j('HeaderClick', c, $i);
        };
        this.$37 = function(x) {
            var $i = this.data;
            var c = {
                $0Y: x
            };
            if ($c.$2k()) {
                var $m = {};
                $m.header = {};
                $m.header.dayOfWeek = x;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onHeaderClick === 'function') {
                    $c.onHeaderClick($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.headerClickHandling) {
                    case 'PostBack':
                        $c.headerClickPostBack(c);
                        break;
                    case 'CallBack':
                        $c.headerClickCallBack(c);
                        break;
                };
                if (typeof $c.onHeaderClicked === 'function') {
                    $c.onHeaderClicked($m);
                }
            } else {
                switch ($c.headerClickHandling) {
                    case 'PostBack':
                        $c.headerClickPostBack(c);
                        break;
                    case 'CallBack':
                        $c.headerClickCallBack(c);
                        break;
                    case 'JavaScript':
                        $c.onHeaderClick(c);
                        break;
                }
            }
        };
        this.timeRangeDoubleClickPostBack = function($08, end, $i) {
            var $0d = {};
            $0d.start = $08;
            $0d.end = end;
            this.$3h('TimeRangeDoubleClick', $i, $0d);
        };
        this.timeRangeDoubleClickCallBack = function($08, end, $i) {
            var $0d = {};
            $0d.start = $08;
            $0d.end = end;
            this.$3j('TimeRangeDoubleClick', $0d, $i);
        };
        this.$3f = function($08, end) {
            if ($c.$2k()) {
                var $m = {};
                $m.start = $08;
                $m.end = end;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onTimeRangeDoubleClick === 'function') {
                    $c.onTimeRangeDoubleClick($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.timeRangeDoubleClickHandling) {
                    case 'PostBack':
                        $c.timeRangeDoubleClickPostBack($08, end);
                        break;
                    case 'CallBack':
                        $c.timeRangeDoubleClickCallBack($08, end);
                        break;
                };
                if (typeof $c.onTimeRangeDoubleClicked === 'function') {
                    $c.onTimeRangeDoubleClicked($m);
                }
            } else {
                switch ($c.timeRangeDoubleClickHandling) {
                    case 'PostBack':
                        $c.timeRangeDoubleClickPostBack($08, end);
                        break;
                    case 'CallBack':
                        $c.timeRangeDoubleClickCallBack($08, end);
                        break;
                    case 'JavaScript':
                        $c.onTimeRangeDoubleClick($08, end);
                        break;
                }
            }
        };
        this.commandCallBack = function($1k, $i) {
            this.$3y();
            var $1b = {};
            $1b.command = $1k;
            this.$3j('Command', $1b, $i);
        };
        this.$3z = function(e) {
            for (var i = 0; i < $c.elements.events.length; i++) {
                var $t = $c.elements.events[i];
                if ($t.event === e || $t.event.data === e.data) {
                    return $t;
                }
            };
            return null;
        };
        this.$2N = function(e) {
            var $d = {};
            $d.list = [];
            $d.each = function(m) {
                if (!m) {
                    return;
                };
                for (var i = 0; i < this.list.length; i++) {
                    m(this.list[i]);
                }
            };
            for (var i = 0; i < this.elements.events.length; i++) {
                var $t = this.elements.events[i];
                if ($t.event.data === e.data) {
                    $d.list.push($t);
                }
            };
            return $d;
        };
        this.$3A = function($1t) {
            var $t = document.createElement("div");
            $t.style.position = "absolute";
            $t.style.top = "-2000px";
            $t.style.left = "-2000px";
            $t.className = this.$2l($1t);
            document.body.appendChild($t);
            var $J = $t.offsetHeight;
            var $B = $t.offsetWidth;
            document.body.removeChild($t);
            var $d = {};
            $d.height = $J;
            $d.width = $B;
            return $d;
        };
        this.$2I = {};
        var $N = this.$2I;
        $N.lineHeight = function() {
            return $N.eventHeight() + $c.lineSpace;
        };
        $N.rounded = function() {
            return $c.eventCorners === "Rounded";
        };
        $N.loadFromServer = function() {
            if ($c.backendUrl) {
                return (typeof $c.events.list === 'undefined') || (!$c.events.list);
            } else {
                return false;
            }
        };
        $N.locale = function() {
            return DayPilot.Locale.find($c.locale);
        };
        $N.getWeekStart = function() {
            if ($c.showWeekend) {
                return $c.weekStarts;
            } else {
                return 1;
            }
        };
        $N.weekStarts = function() {
            if (!$c.showWeekend) {
                return 1;
            };
            if ($c.weekStarts === 'Auto') {
                var $U = $N.locale();
                if ($U) {
                    return $U.weekStarts;
                } else {
                    return 0;
                }
            } else {
                return $c.weekStarts;
            }
        };
        $N.notifyType = function() {
            var $18;
            if ($c.notifyCommit === 'Immediate') {
                $18 = "Notify";
            } else if ($c.notifyCommit === 'Queue') {
                $18 = "Queue";
            } else {
                throw "Invalid notifyCommit value: " + $c.notifyCommit;
            };
            return $18;
        };
        $N.eventHeight = function() {
            if ($c.$25.eventHeight) {
                return $c.$25.eventHeight;
            };
            var $J = $c.$3A("_event_height").height;
            if (!$J) {
                $J = $c.eventHeight;
            };
            $c.$25.eventHeight = $J;
            return $J;
        };
        $N.headerHeight = function() {
            if ($c.$25.headerHeight) {
                return $c.$25.headerHeight;
            };
            var $J = $c.$3A("_header_height").height;
            if (!$J) {
                $J = $c.headerHeight;
            };
            $c.$25.headerHeight = $J;
            return $J;
        };
        $N.timeFormat = function() {
            if ($c.timeFormat !== 'Auto') {
                return $c.timeFormat;
            };
            return $N.locale().timeFormat;
        };
        this.multiselect = {};
        this.multiselect.initList = [];
        this.multiselect.list = [];
        this.multiselect.divs = [];
        this.multiselect.previous = [];
        this.multiselect.$3B = function() {
            var m = $c.multiselect;
            return DayPilot.JSON.stringify(m.events());
        };
        this.multiselect.events = function() {
            var m = $c.multiselect;
            var $1u = [];
            $1u.ignoreToJSON = true;
            for (var i = 0; i < m.list.length; i++) {
                $1u.push(m.list[i]);
            };
            return $1u;
        };
        this.multiselect.$3C = function() {};
        this.multiselect.$3s = function($t, $1v) {
            var m = $c.multiselect;
            if (m.isSelected($t.event)) {
                if ($c.allowMultiSelect) {
                    if ($1v) {
                        m.remove($t.event, true);
                    } else {
                        var $0q = m.list.length;
                        m.clear(true);
                        if ($0q > 1) {
                            m.add($t.event, true);
                        }
                    }
                } else {
                    m.clear(true);
                }
            } else {
                if ($c.allowMultiSelect) {
                    if ($1v) {
                        m.add($t.event, true);
                    } else {
                        m.clear(true);
                        m.add($t.event, true);
                    }
                } else {
                    m.clear(true);
                    m.add($t.event, true);
                }
            };
            m.redraw();
            m.$3C();
        };
        this.multiselect.$2J = function(ev) {
            var m = $c.multiselect;
            return m.$3D(ev, m.initList);
        };
        this.multiselect.$3E = function() {
            var m = $c.multiselect;
            var $Z = [];
            for (var i = 0; i < m.list.length; i++) {
                var event = m.list[i];
                $Z.push(event.value());
            };
            alert($Z.join("\n"));
        };
        this.multiselect.add = function(ev, $1w) {
            var m = $c.multiselect;
            if (m.indexOf(ev) === -1) {
                m.list.push(ev);
            };
            if ($1w) {
                return;
            };
            m.redraw();
        };
        this.multiselect.remove = function(ev, $1w) {
            var m = $c.multiselect;
            var i = m.indexOf(ev);
            if (i !== -1) {
                m.list.splice(i, 1);
            }
        };
        this.multiselect.clear = function($1w) {
            var m = $c.multiselect;
            m.list = [];
            if ($1w) {
                return;
            };
            m.redraw();
        };
        this.multiselect.redraw = function() {
            var m = $c.multiselect;
            for (var i = 0; i < $c.elements.events.length; i++) {
                var $t = $c.elements.events[i];
                if (m.isSelected($t.event)) {
                    m.$3F($t);
                } else {
                    m.$3G($t);
                }
            }
        };
        this.multiselect.$3F = function($t) {
            var m = $c.multiselect;
            var cn = $c.cssOnly ? $c.$2l("_selected") : $c.$2l("selected");
            var $t = m.$3H($t);
            DayPilot.Util.addClass($t, cn);
            m.divs.push($t);
        };
        this.multiselect.$3H = function($t) {
            if ($c.cssOnly) {
                return $t;
            };
            return $t.firstChild;
        };
        this.multiselect.$3I = function() {
            var m = $c.multiselect;
            for (var i = 0; i < m.divs.length; i++) {
                var $t = m.divs[i];
                m.$3G($t, true);
            };
            m.divs = [];
        };
        this.multiselect.$3G = function($t, $1x) {
            var m = $c.multiselect;
            var cn = $c.cssOnly ? $c.$2l("_selected") : $c.$2l("selected");
            var c = m.$3H($t);
            if (c && c.className && c.className.indexOf(cn) !== -1) {
                c.className = c.className.replace(cn, "");
            };
            if ($1x) {
                return;
            };
            var i = DayPilot.indexOf(m.divs, $t);
            if (i !== -1) {
                m.divs.splice(i, 1);
            }
        };
        this.multiselect.isSelected = function(ev) {
            return $c.multiselect.$3D(ev, $c.multiselect.list);
        };
        this.multiselect.indexOf = function(ev) {
            return DayPilot.indexOf($c.multiselect.list, ev);
        };
        this.multiselect.$3D = function(e, $Z) {
            if (!$Z) {
                return false;
            };
            for (var i = 0; i < $Z.length; i++) {
                var ei = $Z[i];
                if (e === ei) {
                    return true;
                };
                if (typeof ei.value === 'function') {
                    if (ei.value() !== null && e.value() !== null && ei.value() === e.value()) {
                        return true;
                    };
                    if (ei.value() === null && e.value() === null && ei.recurrentMasterId() === e.recurrentMasterId() && e.start().toStringSortable() === ei.start()) {
                        return true;
                    }
                } else {
                    if (ei.value !== null && e.value() !== null && ei.value === e.value()) {
                        return true;
                    };
                    if (ei.value === null && e.value() === null && ei.recurrentMasterId === e.recurrentMasterId() && e.start().toStringSortable() === ei.start) {
                        return true;
                    }
                }
            };
            return false;
        };
        this.events.forRange = function($08, end) {
            $08 = new DayPilot.Date($08);
            end = new DayPilot.Date(end);
            return DayPilot.list($c.events.list).filter(function($1y) {
                var $1z = new DayPilot.Date($1y.start);
                var $1A = new DayPilot.Date($1y.end);
                return DayPilot.Util.overlaps($08, end, $1z, $1A);
            }).map(function($1y) {
                return new DayPilot.Event($1y, $c);
            });
        };
        this.events.find = function(id) {
            if (!$c.events.list || typeof $c.events.list.length === 'undefined') {
                return null;
            };
            var $1B = $c.events.list.length;
            for (var i = 0; i < $1B; i++) {
                if ($c.events.list[i].id === id) {
                    return new DayPilot.Event($c.events.list[i], $c);
                }
            };
            return null;
        };
        this.events.findRecurrent = function($1C, $1D) {
            if (!$c.events.list || typeof $c.events.list.length === 'undefined') {
                return null;
            };
            var $1B = $c.events.list.length;
            for (var i = 0; i < $1B; i++) {
                if ($c.events.list[i].recurrentMasterId === $1C && $c.events.list[i].start.getTime() === $1D.getTime()) {
                    return new DayPilot.Event($c.events.list[i], $c);
                }
            };
            return null;
        };
        this.events.update = function(e, $i) {
            var $1b = {};
            $1b.oldEvent = new DayPilot.Event(e.copy(), $c);
            $1b.newEvent = new DayPilot.Event(e.temp(), $c);
            var $14 = new DayPilot.Action($c, "EventUpdate", $1b, $i);
            e.commit();
            if ($c.$24) {
                $c.update();
            };
            $c.$30.notify();
            return $14;
        };
        this.events.remove = function(e, $i) {
            var $1b = {};
            $1b.e = new DayPilot.Event(e.data, $c);
            var $14 = new DayPilot.Action($c, "EventRemove", $1b, $i);
            var $0u = DayPilot.indexOf($c.events.list, e.data);
            $c.events.list.splice($0u, 1);
            if ($c.$24) {
                $c.update();
            };
            $c.$30.notify();
            return $14;
        };
        this.events.add = function(e, $i) {
            e.calendar = $c;
            if (!$c.events.list) {
                $c.events.list = [];
            };
            $c.events.list.push(e.data);
            var $1b = {};
            $1b.e = e;
            var $14 = new DayPilot.Action($c, "EventAdd", $1b, $i);
            if ($c.$24) {
                $c.update();
            };
            $c.$30.notify();
            return $14;
        };
        this.events.load = function($1E, $1F, $1G) {
            var $1H = function($m) {
                var $1I = {};
                $1I.exception = $m.exception;
                $1I.request = $m.request;
                if (typeof $1G === 'function') {
                    $1G($1I);
                }
            };
            var $1J = function($m) {
                var r = $m.request;
                var $i;
                try {
                    $i = DayPilot.Util.parseJSON(r.responseText);
                } catch (e) {
                    var $1K = {};
                    $1K.exception = e;
                    $1H($1K);
                    return;
                };
                if (DayPilot.isArray($i)) {
                    var $1L = {};
                    $1L.preventDefault = function() {
                        this.preventDefault.value = true;
                    };
                    $1L.data = $i;
                    if (typeof $1F === "function") {
                        $1F($1L);
                    };
                    if ($1L.preventDefault.value) {
                        return;
                    };
                    $c.events.list = $i;
                    if ($c.$24) {
                        $c.update();
                    }
                }
            };
            DayPilot.ajax({
                "method": "POST",
                "data": {
                    "start": $c.visibleStart().toString(),
                    "end": $c.visibleEnd().toString()
                },
                "url": $1E,
                "success": $1J,
                "error": $1H
            });
        };
        this.queue = {};
        this.queue.list = [];
        this.queue.list.ignoreToJSON = true;
        this.queue.add = function($14) {
            if (!$14) {
                return;
            };
            if ($14.isAction) {
                $c.queue.list.push($14);
            } else {
                throw "DayPilot.Action object required for queue.add()";
            }
        };
        this.queue.notify = function($i) {
            var $1b = {};
            $1b.actions = $c.queue.list;
            $c.$3j('Notify', $1b, $i, "Notify");
            $c.queue.list = [];
        };
        this.queue.clear = function() {
            $c.queue.list = [];
        };
        this.queue.pop = function() {
            return $c.queue.list.pop();
        };
        this.$2j = function($1M) {
            if ($1M) {
                this.autoRefreshEnabled = true;
            };
            if (!this.autoRefreshEnabled) {
                return;
            };
            if (this.$26 >= this.autoRefreshMaxCount) {
                return;
            };
            this.$3y();
            var $1N = this.autoRefreshInterval;
            if (!$1N || $1N < 10) {
                throw "The minimum autoRefreshInterval is 10 seconds";
            };
            this.autoRefreshTimeout = window.setTimeout(function() {
                $c.$3J();
            }, this.autoRefreshInterval * 1000);
        };
        this.$3y = function() {
            if (this.autoRefreshTimeout) {
                window.clearTimeout(this.autoRefreshTimeout);
            }
        };
        this.$3J = function() {
            if (!DayPilotMonth.eventResizing && !DayPilotMonth.eventMoving && !DayPilotMonth.timeRangeSelecting) {
                var $1O = false;
                if (typeof this.onAutoRefresh === 'function') {
                    var $m = {};
                    $m.i = this.$26;
                    $m.preventDefault = function() {
                        this.preventDefault.value = true;
                    };
                    $c.onAutoRefresh($m);
                    if ($m.preventDefault.value) {
                        $1O = true;
                    }
                };
                if (!$1O && this.$3k()) {
                    this.commandCallBack(this.autoRefreshCommand);
                };
                this.$26++;
            };
            if (this.$26 < this.autoRefreshMaxCount) {
                this.autoRefreshTimeout = window.setTimeout(function() {
                    $c.$3J();
                }, this.autoRefreshInterval * 1000);
            }
        };
        this.$3K = function($m) {
            if (!this.cells) {
                return;
            };
            var $m = $m || {};
            var $1P = !$m.eventsOnly;
            if (!$c.cssOnly) {
                $c.cssOnly = true;
                DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.");
            };
            $c.$2b();
            $c.$2c();
            $c.$2d();
            if ($1P) {
                $c.$2e();
                $c.$2f();
            };
            $c.$2g();
            $c.$2h();
            $c.$2i();
            if (this.visible) {
                this.show();
            } else {
                this.hide();
            }
        };
        this.update = function() {
            this.$3K();
        };
        this.dispose = function() {
            var c = $c;
            if (!c.nav.top) {
                return;
            };
            c.$3y();
            c.$2b();
            c.nav.top.removeAttribute("style");
            c.nav.top.removeAttribute("class");
            c.nav.top.innerHTML = '';
            c.nav.top.dp = null;
            c.nav.top = null;
            DayPilotMonth.unregister(c);
        };
        this.$3L = function() {
            if (!DayPilotMonth.globalHandlers) {
                DayPilotMonth.globalHandlers = true;
                DayPilot.re(document, 'mouseup', DayPilotMonth.gMouseUp);
            };
            DayPilot.re(window, 'resize', this.$35);
        };
        this.$2h = function() {
            if (this.nav.top.style.visibility === 'hidden') {
                this.nav.top.style.visibility = 'visible';
            }
        };
        this.show = function() {
            $c.visible = true;
            $c.nav.top.style.display = '';
        };
        this.hide = function() {
            $c.visible = false;
            $c.nav.top.style.display = 'none';
        };
        this.$3M = function() {
            if (this.id && this.id.tagName) {
                this.nav.top = this.id;
            } else if (typeof this.id === "string") {
                this.nav.top = document.getElementById(this.id);
                if (!this.nav.top) {
                    throw "DayPilot.Month: The placeholder element not found: '" + id + "'.";
                }
            } else {
                throw "DayPilot.Month() constructor requires the target element or its ID as a parameter";
            }
        };
        this.$3N = function() {
            this.$3M();
            this.$2c();
            this.$31();
            this.$2f();
            this.$2g();
            this.$3L();
            this.$2j();
            this.$3j('Init');
            DayPilotMonth.register(this);
        };
        this.init = function() {
            this.$3M();
            if (this.nav.top.dp) {
                return;
            };
            var $1Q = $N.loadFromServer();
            if (!$c.cssOnly) {
                $c.cssOnly = true;
                window.console && window.console.log && window.console.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.");
            };
            if ($1Q) {
                this.$3N();
                this.$24 = true;
                return;
            };
            this.$2c();
            this.$2d();
            this.$31();
            this.$2f();
            this.$2h();
            this.$2i();
            this.$2g();
            this.$3L();
            if (this.messageHTML) {
                this.message(this.messageHTML);
            };
            this.$29(null, false);
            this.$2j();
            DayPilotMonth.register(this);
            this.$24 = true;
            this.$3O();
        };
        this.$3P = null;
        this.$3Q = function($b) {
            var $1R = {
                "events": {
                    "preInit": function() {
                        var $1u = this.data;
                        if (!$1u) {
                            return;
                        };
                        if (DayPilot.isArray($1u.list)) {
                            $c.events.list = $1u.list;
                        } else {
                            $c.events.list = $1u;
                        }
                    }
                }
            };
            this.$3P = $1R;
            for (var name in $b) {
                if ($1R[name]) {
                    var $1y = $1R[name];
                    $1y.data = $b[name];
                    if ($1y.preInit) {
                        $1y.preInit();
                    }
                } else {
                    $c[name] = $b[name];
                }
            }
        };
        this.$3O = function() {
            var $1R = this.$3P;
            for (var name in $1R) {
                var $1y = $1R[name];
                if ($1y.postInit) {
                    $1y.postInit();
                }
            }
        };
        this.internal = {};
        this.internal.initialized = function() {
            return $c.$24;
        };
        this.internal.invokeEvent = this.$3n;
        this.internal.eventMenuClick = this.$3t;
        this.internal.timeRangeMenuClick = this.$3x;
        this.internal.bubbleCallBack = this.$3o;
        this.internal.findEventDiv = this.$3z;
        this.Init = this.init;
        this.$3Q($b);
    };
    DayPilotMonth.register = function($c) {
        if (!DayPilotMonth.registered) {
            DayPilotMonth.registered = [];
        };
        for (var i = 0; i < DayPilotMonth.registered.length; i++) {
            if (DayPilotMonth.registered[i] === $c) {
                return;
            }
        };
        DayPilotMonth.registered.push($c);
    };
    DayPilotMonth.unregister = function($c) {
        var a = DayPilotMonth.registered;
        if (a) {
            var i = DayPilot.indexOf(a, $c);
            if (i !== -1) {
                a.splice(i, 1);
            };
            if (a.length === 0) {
                a = null;
            }
        };
        if (!a) {
            DayPilot.ue(document, 'mouseup', DayPilotMonth.gMouseUp);
            DayPilotMonth.globalHandlers = false;
        }
    };
    DayPilotMonth.gMouseUp = function(ev) {
        if (DayPilotMonth.movingEvent) {
            var $07 = DayPilotMonth.movingEvent;
            DayPilotMonth.movingEvent = null;
            if (!$07.event || !$07.event.calendar || !$07.event.calendar.shadow || !$07.event.calendar.shadow.start) {
                return;
            };
            var $c = $07.event.calendar;
            var e = $07.event;
            var $08 = $c.shadow.start;
            var $09 = $c.shadow.position;
            var $C = $07.offset;
            $c.$2A();
            var ev = ev || window.event;
            $c.$2T(e, $08.x, $08.y, $C, ev, $09);
            ev.cancelBubble = true;
            if (ev.stopPropagation) {
                ev.stopPropagation();
            };
            return false;
        } else if (DayPilotMonth.resizingEvent) {
            var $07 = DayPilotMonth.resizingEvent;
            DayPilotMonth.resizingEvent = null;
            if (!$07.event || !$07.event.calendar || !$07.event.calendar.shadow || !$07.event.calendar.shadow.start) {
                return;
            };
            var $c = $07.event.calendar;
            var e = $07.event;
            var $08 = $c.shadow.start;
            var $B = $c.shadow.width;
            $c.$2A();
            $c.$3v(e, $08, $B);
            ev.cancelBubble = true;
            return false;
        } else if (DayPilotMonth.timeRangeSelecting) {
            if (DayPilotMonth.timeRangeSelecting.moved) {
                var $0a = DayPilotMonth.timeRangeSelecting;
                var $c = $0a.root;
                var $08 = new DayPilot.Date($c.$2B($0a.from.x, $0a.from.y));
                var end = $08.addDays($0a.width);
                $c.$2U($08, end);
            };
            DayPilotMonth.timeRangeSelecting = null;
        }
    };
    DayPilot.MonthVisible.Month = DayPilotMonth.Month;
    if (typeof jQuery !== 'undefined') {
        (function($) {
            $.fn.daypilotMonth = function($b) {
                var $1S = null;
                var j = this.each(function() {
                    if (this.daypilot) {
                        return;
                    };
                    var $1T = new DayPilot.Month(this.id, $b);
                    $1T.init();
                    this.daypilot = $1T;
                    if (!$1S) {
                        $1S = $1T;
                    }
                });
                if (this.length === 1) {
                    return $1S;
                } else {
                    return j;
                }
            };
        })(jQuery);
    };
    (function registerAngularModule() {
        var $1U = DayPilot.am();
        if (!$1U) {
            return;
        };
        $1U.directive("daypilotMonth", ['$parse', function($1V) {
            return {
                "restrict": "E",
                "template": "<div id='{{id}};'></div>",
                "compile": function compile(element, $1W) {
                    element.replaceWith(this["template"].replace("{{id}};", $1W["id"]));
                    return function link($1X, element, $1W) {
                        var $c = new DayPilot.Month(element[0]);
                        $c.$30.scope = $1X;
                        $c.init();
                        var $1Y = $1W["id"];
                        if ($1Y) {
                            $1X[$1Y] = $c;
                        };
                        var $1Z = $1W["publishAs"];
                        if ($1Z) {
                            var getter = $1V($1Z);
                            var setter = getter.assign;
                            setter($1X, $c);
                        };
                        for (var name in $1W) {
                            if (name.indexOf("on") === 0) {
                                (function(name) {
                                    $c[name] = function($m) {
                                        var f = $1V($1W[name]);
                                        $1X["$apply"](function() {
                                            f($1X, {
                                                "args": $m
                                            });
                                        });
                                    };
                                })(name);
                            }
                        };
                        var $20 = $1X["$watch"];
                        var $21 = $1W["config"] || $1W["daypilotConfig"];
                        var $1u = $1W["events"] || $1W["daypilotEvents"];
                        $20.call($1X, $21, function($22, $23) {
                            for (var name in $22) {
                                $c[name] = $22[name];
                            };
                            $c.update();
                        }, true);
                        $20.call($1X, $1u, function($22) {
                            $c.events.list = $22;
                            $c.$3K({
                                "eventsOnly": true
                            });
                        }, true);
                    };
                }
            };
        }]);
    })();
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
if (typeof DayPilotNavigator === 'undefined') {
    var DayPilotNavigator = DayPilot.NavigatorVisible = {};
};
(function() {
    if (typeof DayPilot.Navigator !== 'undefined') {
        return;
    };
    DayPilotNavigator = {};
    DayPilot.Navigator = function(id, $a) {
        this.v = '2200';
        var $b = this;
        this.id = id;
        this.api = 2;
        this.isNavigator = true;
        this.autoFocusOnClick = true;
        this.weekStarts = 'Auto';
        this.selectMode = 'day';
        this.titleHeight = 20;
        this.dayHeaderHeight = 20;
        this.bound = null;
        this.cellWidth = 20;
        this.cellHeight = 20;
        this.cssOnly = true;
        this.cssClassPrefix = "navigator_default";
        this.selectionStart = new DayPilot.Date().getDatePart();
        this.selectionEnd = null;
        this.selectionDay = null;
        this.showMonths = 1;
        this.skipMonths = 1;
        this.command = "navigate";
        this.year = new DayPilot.Date().getYear();
        this.month = new DayPilot.Date().getMonth() + 1;
        this.showWeekNumbers = false;
        this.weekNumberAlgorithm = 'Auto';
        this.rowsPerMonth = 'Six';
        this.orientation = "Vertical";
        this.locale = "en-us";
        this.visible = true;
        this.timeRangeSelectedHandling = "Bind";
        this.visibleRangeChangedHandling = "Enabled";
        this.nav = {};
        this.$0p = {};
        this.$0q = function() {
            this.root.dp = this;
            if (this.cssOnly) {
                this.root.className = this.$0r('_main');
            } else {
                this.root.className = this.$0r('main');
            };
            if (this.orientation === "Horizontal") {
                this.root.style.width = this.showMonths * ($c.cellWidth() * 7 + this.$0s()) + 'px';
                this.root.style.height = (this.cellHeight * 6 + this.titleHeight + this.dayHeaderHeight) + 'px';
            } else {
                this.root.style.width = ($c.cellWidth() * 7 + this.$0s()) + 'px';
            };
            this.root.style.position = "relative";
            if (!this.visible) {
                this.root.style.display = "none";
            };
            var $d = document.createElement("input");
            $d.type = 'hidden';
            $d.name = $b.id + "_state";
            $d.id = $d.name;
            this.root.appendChild($d);
            this.state = $d;
            if (!this.startDate) {
                this.startDate = DayPilot.Date.fromYearMonthDay(this.year, this.month);
            } else {
                this.startDate = new DayPilot.Date(this.startDate).firstDayOfMonth();
            };
            this.calendars = [];
            this.selected = [];
            this.months = [];
        };
        this.$0t = function() {
            return $b.api === 2;
        };
        this.$0u = function() {
            this.root.innerHTML = '';
        };
        this.$0r = function($e) {
            var $f = this.theme || this.cssClassPrefix;
            if ($f) {
                return $f + $e;
            } else {
                return "";
            }
        };
        this.$0v = function($g, name) {
            var $h = this.cssOnly ? this.$0r("_" + name) : this.$0r(name);
            DayPilot.Util.addClass($g, $h);
        };
        this.$0w = function($g, name) {
            var $h = this.cssOnly ? this.$0r("_" + name) : this.$0r(name);
            DayPilot.Util.removeClass($g, $h);
        };
        this.$0x = function(j, $i) {
            var $j = {};
            $j.cells = [];
            $j.days = [];
            $j.weeks = [];
            var $k = this.startDate.addMonths(j);
            var $l = $i.before;
            var $m = $i.after;
            var $n = $k.firstDayOfMonth();
            var $o = $n.firstDayOfWeek($c.weekStarts());
            var $p = $n.addMonths(1);
            var $q = DayPilot.DateUtil.daysDiff($o, $p);
            var $r = (this.rowsPerMonth === "Auto") ? Math.ceil($q / 7) : 6;
            $j.rowCount = $r;
            var $s = (new DayPilot.Date()).getDatePart();
            var $t = $c.cellWidth() * 7 + this.$0s();
            var $u = this.cellHeight * $r + this.titleHeight + this.dayHeaderHeight;
            $j.height = $u;
            var $v = document.createElement("div");
            $v.style.width = ($t) + 'px';
            $v.style.height = ($u) + 'px';
            if (this.orientation === "Horizontal") {
                $v.style.position = "absolute";
                $v.style.left = ($t * j) + "px";
                $v.style.top = "0px";
            } else {
                $v.style.position = 'relative';
            };
            if (this.cssOnly) {
                $v.className = this.$0r('_month');
            } else {
                $v.className = this.$0r('month');
            };
            $v.style.cursor = 'default';
            $v.style.MozUserSelect = 'none';
            $v.style.KhtmlUserSelect = 'none';
            $v.style.WebkitUserSelect = 'none';
            $v.month = $j;
            this.root.appendChild($v);
            var $w = this.titleHeight + this.dayHeaderHeight;
            var tl = document.createElement("div");
            tl.style.position = 'absolute';
            tl.style.left = '0px';
            tl.style.top = '0px';
            tl.style.width = $c.cellWidth() + 'px';
            tl.style.height = this.titleHeight + 'px';
            tl.style.lineHeight = this.titleHeight + 'px';
            tl.setAttribute("unselectable", "on");
            if (this.cssOnly) {
                tl.className = this.$0r('_titleleft');
            } else {
                tl.className = this.$0r('titleleft');
            };
            if ($i.left) {
                tl.style.cursor = 'pointer';
                tl.innerHTML = "<span>&lt;</span>";
                tl.onclick = this.$0y;
            };
            $v.appendChild(tl);
            this.tl = tl;
            var ti = document.createElement("div");
            ti.style.position = 'absolute';
            ti.style.left = $c.cellWidth() + 'px';
            ti.style.top = '0px';
            ti.style.width = ($c.cellWidth() * 5 + this.$0s()) + 'px';
            ti.style.height = this.titleHeight + 'px';
            ti.style.lineHeight = this.titleHeight + 'px';
            ti.setAttribute("unselectable", "on");
            if (this.cssOnly) {
                ti.className = this.$0r('_title');
            } else {
                ti.className = this.$0r('title');
            };
            ti.innerHTML = $c.locale().monthNames[$k.getMonth()] + ' ' + $k.getYear();
            $v.appendChild(ti);
            this.ti = ti;
            var tr = document.createElement("div");
            tr.style.position = 'absolute';
            tr.style.left = ($c.cellWidth() * 6 + this.$0s()) + 'px';
            tr.style.top = '0px';
            tr.style.width = $c.cellWidth() + 'px';
            tr.style.height = this.titleHeight + 'px';
            tr.style.lineHeight = this.titleHeight + 'px';
            tr.setAttribute("unselectable", "on");
            if (this.cssOnly) {
                tr.className = this.$0r('_titleright');
            } else {
                tr.className = this.$0r('titleright');
            };
            if ($i.right) {
                tr.style.cursor = 'pointer';
                tr.innerHTML = "<span>&gt;</span>";
                tr.onclick = this.$0z;
            };
            $v.appendChild(tr);
            this.tr = tr;
            var $x = this.$0s();
            if (this.showWeekNumbers) {
                for (var y = 0; y < $r; y++) {
                    var $y = $o.addDays(y * 7);
                    var $z = null;
                    switch (this.weekNumberAlgorithm) {
                        case "Auto":
                            $z = ($c.weekStarts() === 1) ? $y.weekNumberISO() : $y.weekNumber();
                            break;
                        case "US":
                            $z = $y.weekNumber();
                            break;
                        case "ISO8601":
                            $z = $y.weekNumberISO();
                            break;
                        default:
                            throw "Unknown weekNumberAlgorithm value.";
                    };
                    var dh = document.createElement("div");
                    dh.style.position = 'absolute';
                    dh.style.left = (0) + 'px';
                    dh.style.top = (y * this.cellHeight + $w) + 'px';
                    dh.style.width = $c.cellWidth() + 'px';
                    dh.style.height = this.cellHeight + 'px';
                    dh.style.lineHeight = this.cellHeight + 'px';
                    dh.setAttribute("unselectable", "on");
                    if (this.cssOnly) {
                        dh.className = this.$0r('_weeknumber');
                    } else {
                        dh.className = this.$0r('weeknumber');
                    };
                    dh.innerHTML = "<span>" + $z + "</span>";
                    $v.appendChild(dh);
                    $j.weeks.push(dh);
                }
            };
            for (var x = 0; x < 7; x++) {
                $j.cells[x] = [];
                var dh = document.createElement("div");
                dh.style.position = 'absolute';
                dh.style.left = (x * $c.cellWidth() + $x) + 'px';
                dh.style.top = this.titleHeight + 'px';
                dh.style.width = $c.cellWidth() + 'px';
                dh.style.height = this.dayHeaderHeight + 'px';
                dh.style.lineHeight = this.dayHeaderHeight + 'px';
                dh.setAttribute("unselectable", "on");
                if (this.cssOnly) {
                    dh.className = this.$0r('_dayheader');
                } else {
                    dh.className = this.$0r('dayheader');
                };
                dh.innerHTML = "<span>" + this.$0A(x) + "</span>";
                $v.appendChild(dh);
                $j.days.push(dh);
                for (var y = 0; y < $r; y++) {
                    var $y = $o.addDays(y * 7 + x);
                    var $A = this.$0B($y) && this.$0C() !== 'none';
                    var $B = $y.firstDayOfMonth() === $k;
                    var $C = $y < $k;
                    var $D = $y >= $k.addMonths(1);
                    if (this.$0C() === "month") {
                        $A = $A && $B;
                    } else if (this.$0C() === "day") {
                        $A = $A && ($B || ($l && $C) || ($m && $D));
                    } else if (this.$0C() === "week") {
                        var $E = $y.firstDayOfMonth() === $k;
                        $A = $A && ($E || ($l && $C) || ($m && $D));
                    };
                    var dc = document.createElement("div");
                    $j.cells[x][y] = dc;
                    dc.day = $y;
                    dc.x = x;
                    dc.y = y;
                    dc.isCurrentMonth = $B;
                    if (this.cssOnly) {
                        dc.className = this.$0r(($B ? '_day' : '_dayother'));
                    } else {
                        dc.className = this.$0r(($B ? 'day' : 'dayother'));
                    };
                    $b.$0v(dc, "cell");
                    if ($y.getTime() === $s.getTime() && $B) {
                        this.$0v(dc, 'today');
                    };
                    if ($y.dayOfWeek() === 0 || $y.dayOfWeek() === 6) {
                        this.$0v(dc, 'weekend');
                    };
                    dc.style.position = 'absolute';
                    dc.style.left = (x * $c.cellWidth() + $x) + 'px';
                    dc.style.top = (y * this.cellHeight + $w) + 'px';
                    dc.style.width = $c.cellWidth() + 'px';
                    dc.style.height = this.cellHeight + 'px';
                    dc.style.lineHeight = this.cellHeight + 'px';
                    var $F = document.createElement("div");
                    $F.style.position = 'absolute';
                    if (this.cssOnly) {
                        $F.className = ($y.getTime() === $s.getTime() && $B) ? this.$0r('_todaybox') : this.$0r('_daybox');
                    } else {
                        $F.className = ($y.getTime() === $s.getTime() && $B) ? this.$0r('todaybox') : this.$0r('daybox');
                    };
                    $b.$0v($F, "cell_box");
                    $F.style.left = '0px';
                    $F.style.top = '0px';
                    $F.style.right = '0px';
                    $F.style.bottom = '0px';
                    dc.appendChild($F);
                    var $G = null;
                    if (this.cells && this.cells[$y.toStringSortable()]) {
                        $G = this.cells[$y.toStringSortable()];
                    };
                    if (typeof $b.onBeforeCellRender === "function") {
                        var $H = {};
                        $H.cell = {};
                        $H.cell.day = $y;
                        $H.cell.isCurrentMonth = $B;
                        $H.cell.isToday = $y.getTime() === $s.getTime() && $B;
                        $H.cell.isWeekend = $y.dayOfWeek() === 0 || $y.dayOfWeek() === 6;
                        $H.cell.html = $y.getDay();
                        $H.cell.cssClass = null;
                        $b.onBeforeCellRender($H);
                        $G = $H.cell;
                    };
                    if ($G) {
                        DayPilot.Util.addClass(dc, $G.cssClass || $G.css);
                    };
                    if ($B || ($l && $C) || ($m && $D)) {
                        var $I = document.createElement("div");
                        $I.innerHTML = $y.getDay();
                        $I.style.position = "absolute";
                        $I.style.left = '0px';
                        $I.style.top = '0px';
                        $I.style.right = '0px';
                        $I.style.bottom = '0px';
                        $b.$0v($I, "cell_text");
                        dc.style.cursor = 'pointer';
                        dc.isClickable = true;
                        if ($G && $G.html) {
                            $I.innerHTML = $G.html;
                        };
                        dc.appendChild($I);
                    };
                    dc.setAttribute("unselectable", "on");
                    dc.onclick = this.$0D;
                    dc.onmousedown = this.$0E;
                    dc.onmousemove = this.$0F;
                    $v.appendChild(dc);
                    if ($A) {
                        $b.$0G($v, x, y);
                        this.selected.push(dc);
                    }
                }
            };
            var $J = document.createElement("div");
            $J.style.position = 'absolute';
            $J.style.left = '0px';
            $J.style.top = ($w - 2) + 'px';
            $J.style.width = ($c.cellWidth() * 7 + this.$0s()) + 'px';
            $J.style.height = '1px';
            $J.style.fontSize = '1px';
            $J.style.lineHeight = '1px';
            if (this.cssOnly) {
                $J.className = this.$0r("_line");
            } else {
                $J.className = this.$0r("line");
            };
            $v.appendChild($J);
            this.months.push($j);
        };
        this.$0G = function($v, x, y) {
            var $K = $v.month.cells[x][y];
            $b.$0v($K, 'select');
        };
        this.$0H = function($v, x, y) {
            var $K = $v.month.cells[x][y];
            $b.$0w($K, 'select');
        };
        this.$0s = function() {
            if (this.showWeekNumbers) {
                return $c.cellWidth();
            };
            return 0;
        };
        this.$0I = function() {
            if (!this.items) {
                return;
            };
            for (var j = 0; j < this.showMonths; j++) {
                for (var x = 0; x < 7; x++) {
                    for (var y = 0; y < 6; y++) {
                        var $G = this.months[j].cells[x][y];
                        if (!$G) {
                            continue;
                        };
                        if (this.items[$G.day.toStringSortable()] === 1) {
                            this.$0v($G, 'busy');
                        } else {
                            this.$0w($G, 'busy');
                        }
                    }
                }
            }
        };
        this.$0J = function() {
            var s = {};
            s.startDate = $b.startDate;
            s.selectionStart = $b.selectionStart;
            s.selectionEnd = $b.selectionEnd.addDays(1);
            $b.state.value = DayPilot.JSON.stringify(s);
        };
        this.$0C = function() {
            var $L = this.selectMode || "";
            return $L.toLowerCase();
        };
        this.$0K = function() {
            var $M = this.selectionDay || this.selectionStart;
            var $M = new DayPilot.Date($M);
            switch (this.$0C()) {
                case 'day':
                    this.selectionDay = $M;
                    this.selectionEnd = $M;
                    break;
                case 'week':
                    this.selectionDay = $M;
                    this.selectionStart = $M.firstDayOfWeek($c.weekStarts());
                    this.selectionEnd = this.selectionStart.addDays(6);
                    break;
                case 'month':
                    this.selectionDay = $M;
                    this.selectionStart = $M.firstDayOfMonth();
                    this.selectionEnd = this.selectionStart.lastDayOfMonth();
                    break;
                case 'none':
                    this.selectionEnd = $M;
                    break;
                default:
                    throw "Unknown selectMode value.";
            }
        };
        this.select = function($N, $O) {
            var $P = !$O;
            var $Q = this.selectionStart;
            var $R = this.selectionEnd;
            this.selectionStart = new DayPilot.Date($N).getDatePart();
            this.selectionDay = this.selectionStart;
            var $S = false;
            if ($P) {
                var $T = this.startDate;
                if (this.selectionStart < this.$0L() || this.selectionStart >= this.$0M()) {
                    $T = this.selectionStart.firstDayOfMonth();
                };
                if ($T.toStringSortable() !== this.startDate.toStringSortable()) {
                    $S = true;
                };
                this.startDate = $T;
            };
            this.$0K();
            this.$0u();
            this.$0q();
            this.$0N();
            this.$0I();
            this.$0J();
            if (!$Q.equals(this.selectionStart) || !$R.equals(this.selectionEnd)) {
                this.$0O();
            };
            if ($S) {
                this.$0P();
            }
        };
        this.update = function() {
            if (!$b.cssOnly) {
                $b.cssOnly = true;
                DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.");
            };
            this.$0u();
            this.$0q();
            this.$0K();
            this.$0N();
            this.$0Q();
            this.$0I();
            this.$0J();
            if (this.visible) {
                this.show();
            } else {
                this.hide();
            }
        };
        this.$0R = function($U, $V, $W) {
            var $X = {};
            $X.action = $U;
            $X.parameters = $W;
            $X.data = $V;
            $X.header = this.$0S();
            var $Y = "JSON" + DayPilot.JSON.stringify($X);
            var $Z = null;
            if (this.backendUrl) {
                DayPilot.request(this.backendUrl, this.$0T, $Y, this.$0U);
            } else {
                WebForm_DoCallback(this.uniqueID, $Y, this.$0V, $Z, this.callbackError, true);
            }
        };
        this.$0U = function($00) {
            if (typeof $b.onAjaxError === 'function') {
                var $H = {};
                $H.request = $00;
                $b.onAjaxError($H);
            } else if (typeof $b.ajaxError === 'function') {
                $b.ajaxError($00);
            }
        };
        this.$0T = function($01) {
            $b.$0V($01.responseText);
        };
        this.$0W = function($U, $V, $W) {
            var $X = {};
            $X.action = $U;
            $X.parameters = $W;
            $X.data = $V;
            $X.header = this.$0S();
            var $Y = "JSON" + DayPilot.JSON.stringify($X);
            __doPostBack($b.uniqueID, $Y);
        };
        this.$0S = function() {
            var h = {};
            h.v = this.v;
            h.startDate = this.startDate;
            h.selectionStart = this.selectionStart;
            return h;
        };
        this.$0X = function($U, $V) {
            if ($U === 'refresh') {
                this.$0P();
            }
        };
        this.$0A = function(i) {
            var x = i + $c.weekStarts();
            if (x > 6) {
                x -= 7;
            };
            return $c.locale().dayNamesShort[x];
        };
        this.$0B = function($N) {
            if (this.selectionStart === null || this.selectionEnd === null) {
                return false;
            };
            if (this.selectionStart.getTime() <= $N.getTime() && $N.getTime() <= this.selectionEnd.getTime()) {
                return true;
            };
            return false;
        };
        this.$0E = function(ev) {};
        this.$0F = function(ev) {};
        this.$0D = function(ev) {
            var $v = this.parentNode;
            var $j = this.parentNode.month;
            var x = this.x;
            var y = this.y;
            var $y = $j.cells[x][y].day;
            if (!$j.cells[x][y].isClickable) {
                return;
            };
            $b.clearSelection();
            $b.selectionDay = $y;
            var $y = $b.selectionDay;
            switch ($b.$0C()) {
                case 'none':
                    $b.selectionStart = $y;
                    $b.selectionEnd = $y;
                    break;
                case 'day':
                    if ($b.autoFocusOnClick) {
                        var $02 = $y;
                        if ($y < $b.$0L() || $y >= $b.$0M()) {
                            $b.select($y);
                            return;
                        }
                    };
                    var s = $j.cells[x][y];
                    $b.$0G($v, x, y);
                    $b.selected.push(s);
                    $b.selectionStart = s.day;
                    $b.selectionEnd = s.day;
                    break;
                case 'week':
                    if ($b.autoFocusOnClick) {
                        var $02 = $j.cells[0][y].day;
                        var end = $j.cells[6][y].day;
                        if ($02.firstDayOfMonth() === end.firstDayOfMonth()) {
                            if ($02 < $b.$0L() || end >= $b.$0M()) {
                                $b.select($y);
                                return;
                            }
                        }
                    };
                    for (var j = 0; j < 7; j++) {
                        $b.$0G($v, j, y);
                        $b.selected.push($j.cells[j][y]);
                    };
                    $b.selectionStart = $j.cells[0][y].day;
                    $b.selectionEnd = $j.cells[6][y].day;
                    break;
                case 'month':
                    var $02 = null;
                    var end = null;
                    for (var y = 0; y < 6; y++) {
                        for (var x = 0; x < 7; x++) {
                            var s = $j.cells[x][y];
                            if (!s) {
                                continue;
                            };
                            if (s.day.getYear() === $y.getYear() && s.day.getMonth() === $y.getMonth()) {
                                $b.$0G($v, x, y);
                                $b.selected.push(s);
                                if ($02 === null) {
                                    $02 = s.day;
                                };
                                end = s.day;
                            }
                        }
                    };
                    $b.selectionStart = $02;
                    $b.selectionEnd = end;
                    break;
                default:
                    throw 'unknown selectMode';
            };
            $b.$0J();
            $b.$0O();
        };
        this.$0O = function() {
            var $02 = $b.selectionStart;
            var end = $b.selectionEnd.addDays(1);
            var $q = DayPilot.DateUtil.daysDiff($02, end);
            var $y = $b.selectionDay;
            if ($b.$0t()) {
                var $H = {};
                $H.start = $02;
                $H.end = end;
                $H.day = $y;
                $H.days = $q;
                $H.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $b.onTimeRangeSelect === 'function') {
                    $b.onTimeRangeSelect($H);
                    if ($H.preventDefault.value) {
                        return;
                    }
                };
                switch ($b.timeRangeSelectedHandling) {
                    case 'Bind':
                        var $03 = DayPilot.Util.evalVariable($b.bound);
                        if ($03) {
                            var $04 = {};
                            $04.start = $02;
                            $04.end = end;
                            $04.days = $q;
                            $04.day = $y;
                            $03.commandCallBack($b.command, $04);
                        };
                        break;
                    case 'None':
                        break;
                    case 'PostBack':
                        $b.timeRangeSelectedPostBack($02, end, $y);
                        break;
                };
                if (typeof $b.onTimeRangeSelected === 'function') {
                    $b.onTimeRangeSelected($H);
                }
            } else {
                switch ($b.timeRangeSelectedHandling) {
                    case 'Bind':
                        var $03 = DayPilot.Util.evalVariable($b.bound);
                        if ($03) {
                            var $04 = {};
                            $04.start = $02;
                            $04.end = end;
                            $04.days = $q;
                            $04.day = $y;
                            $03.commandCallBack($b.command, $04);
                        };
                        break;
                    case 'JavaScript':
                        $b.onTimeRangeSelected($02, end, $y);
                        break;
                    case 'None':
                        break;
                    case 'PostBack':
                        $b.timeRangeSelectedPostBack($02, end, $y);
                        break;
                }
            }
        };
        this.timeRangeSelectedPostBack = function($02, end, $V, $y) {
            var $05 = {};
            $05.start = $02;
            $05.end = end;
            $05.day = $y;
            this.$0W('TimeRangeSelected', $V, $05);
        };
        this.$0z = function(ev) {
            $b.$0Y($b.skipMonths);
        };
        this.$0y = function(ev) {
            $b.$0Y(-$b.skipMonths);
        };
        this.$0Y = function(i) {
            this.startDate = this.startDate.addMonths(i);
            this.$0u();
            this.$0q();
            this.$0N();
            this.$0J();
            this.$0P();
            this.$0I();
        };
        this.$0L = function() {
            return $b.startDate.firstDayOfMonth();
        };
        this.$0M = function() {
            return $b.startDate.firstDayOfMonth().addMonths(this.showMonths);
        };
        this.visibleStart = function() {
            return $b.startDate.firstDayOfMonth().firstDayOfWeek($c.weekStarts());
        };
        this.visibleEnd = function() {
            return $b.startDate.firstDayOfMonth().addMonths(this.showMonths - 1).firstDayOfWeek($c.weekStarts()).addDays(42);
        };
        this.$0P = function() {
            var $02 = this.visibleStart();
            var end = this.visibleEnd();
            if ($b.$0t()) {
                var $H = {};
                $H.start = $02;
                $H.end = end;
                $H.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $b.onVisibleRangeChange === 'function') {
                    $b.onVisibleRangeChange($H);
                    if ($H.preventDefault.value) {
                        return;
                    }
                };
                switch (this.visibleRangeChangedHandling) {
                    case "CallBack":
                        this.visibleRangeChangedCallBack(null);
                        break;
                    case "PostBack":
                        this.visibleRangeChangedPostBack(null);
                        break;
                    case "Disabled":
                        break;
                };
                if (typeof $b.onVisibleRangeChanged === 'function') {
                    $b.onVisibleRangeChanged($H);
                }
            } else {
                switch (this.visibleRangeChangedHandling) {
                    case "CallBack":
                        this.visibleRangeChangedCallBack(null);
                        break;
                    case "PostBack":
                        this.visibleRangeChangedPostBack(null);
                        break;
                    case "JavaScript":
                        this.onVisibleRangeChanged($02, end);
                        break;
                    case "Disabled":
                        break;
                }
            }
        };
        this.visibleRangeChangedCallBack = function($V) {
            var $W = {};
            this.$0R("Visible", $V, $W);
        };
        this.visibleRangeChangedPostBack = function($V) {
            var $W = {};
            this.$0W("Visible", $V, $W);
        };
        this.$0V = function($06, $Z) {
            var $06 = DayPilot.Util.parseJSON($06);
            $b.items = $06.Items;
            $b.cells = $06.Cells;
            $b.$0I();
        };
        this.$0N = function() {
            for (var j = 0; j < this.showMonths; j++) {
                var $i = this.$0Z(j);
                this.$0x(j, $i);
            };
            this.root.style.height = this.$10() + "px";
        };
        this.$10 = function() {
            if (this.orientation === "Horizontal") {
                var $07 = 0;
                for (var i = 0; i < this.months.length; i++) {
                    var $j = this.months[i];
                    if ($j.height > $07) {
                        $07 = $j.height;
                    }
                };
                return $07;
            } else {
                var $08 = 0;
                for (var i = 0; i < this.months.length; i++) {
                    var $j = this.months[i];
                    $08 += $j.height;
                };
                return $08;
            }
        };
        this.$0Z = function(j) {
            if (this.internal.showLinks) {
                return this.internal.showLinks;
            };
            var $i = {};
            $i.left = (j === 0);
            $i.right = (j === 0);
            $i.before = j === 0;
            $i.after = j === this.showMonths - 1;
            if (this.orientation === "Horizontal") {
                $i.right = (j === this.showMonths - 1);
            };
            return $i;
        };
        this.$11 = {};
        this.$11.scope = null;
        this.$11.notify = function() {
            if ($b.$11.scope) {
                $b.$11.scope["$apply"]();
            }
        };
        this.internal = {};
        this.internal.initialized = function() {
            return $b.$12;
        };
        this.$13 = {};
        var $c = this.$13;
        $c.locale = function() {
            return DayPilot.Locale.find($b.locale);
        };
        $c.weekStarts = function() {
            if ($b.weekStarts === 'Auto') {
                var $09 = $c.locale();
                if ($09) {
                    return $09.weekStarts;
                } else {
                    return 0;
                }
            } else {
                return $b.weekStarts;
            }
        };
        $c.cellWidth = function() {
            if ($b.$0p.cellWidth) {
                return $b.$0p.cellWidth;
            };
            var $t = $b.$14("_cell_dimensions").width;
            if (!$t) {
                $t = $b.cellWidth;
            };
            $b.$0p.cellWidth = $t;
            return $t;
        };
        this.clearSelection = function() {
            for (var j = 0; j < this.selected.length; j++) {
                var $K = this.selected[j];
                $b.$0H($K.parentNode, $K.x, $K.y);
            };
            this.selected = [];
        };
        this.$15 = function() {
            if (this.backendUrl) {
                return (typeof $b.items === 'undefined') || (!$b.items);
            } else {
                return false;
            }
        };
        this.events = {};
        this.$0Q = function() {
            if (!DayPilot.isArray(this.events.list)) {
                return;
            };
            this.items = {};
            for (var i = 0; i < this.events.list.length; i++) {
                var e = this.events.list[i];
                var $q = this.$16(e);
                for (var name in $q) {
                    this.items[name] = 1;
                }
            }
        };
        this.$14 = function($0a) {
            var $K = document.createElement("div");
            $K.style.position = "absolute";
            $K.style.top = "-2000px";
            $K.style.left = "-2000px";
            $K.className = this.$0r($0a);
            var $0b = $b.root || document.body;
            $0b.appendChild($K);
            var $u = $K.offsetHeight;
            var $t = $K.offsetWidth;
            $0b.removeChild($K);
            var $06 = {};
            $06.height = $u;
            $06.width = $t;
            return $06;
        };
        this.$16 = function(e) {
            var $02 = new DayPilot.Date(e.start);
            var end = new DayPilot.Date(e.end);
            var $q = {};
            var d = $02.getDatePart();
            while (d.getTime() < end.getTime()) {
                $q[d.toStringSortable()] = 1;
                d = d.addDays(1);
            };
            return $q;
        };
        this.show = function() {
            $b.visible = true;
            $b.root.style.display = '';
        };
        this.hide = function() {
            $b.visible = false;
            $b.root.style.display = 'none';
        };
        this.$17 = function() {
            if (this.id && this.id.tagName) {
                this.nav.top = this.id;
            } else if (typeof this.id === "string") {
                this.nav.top = document.getElementById(this.id);
                if (!this.nav.top) {
                    throw "DayPilot.Navigator: The placeholder element not found: '" + id + "'.";
                }
            } else {
                throw "DayPilot.Navigator() constructor requires the target element or its ID as a parameter";
            };
            this.root = this.nav.top;
        };
        this.init = function() {
            this.$17();
            if (this.root.dp) {
                return;
            };
            if (!$b.cssOnly) {
                $b.cssOnly = true;
                DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.");
            };
            this.$0K();
            this.$0q();
            this.$0N();
            this.$0Q();
            this.$0I();
            this.$18();
            var $0c = this.$15();
            if ($0c) {
                this.$0P();
            };
            this.$12 = true;
        };
        this.dispose = function() {
            var c = $b;
            if (!c.root) {
                return;
            };
            c.root.removeAttribute("style");
            c.root.removeAttribute("class");
            c.root.dp = null;
            c.root.innerHTML = null;
            c.root = null;
        };
        this.$18 = function() {
            this.root.dispose = this.dispose;
        };
        this.Init = this.init;
    };
    DayPilot.NavigatorVisible.Navigator = DayPilotNavigator.Navigator;
    if (typeof jQuery !== 'undefined') {
        (function($) {
            $.fn.daypilotNavigator = function($a) {
                var $o = null;
                var j = this.each(function() {
                    if (this.daypilot) {
                        return;
                    };
                    var $0d = new DayPilot.Navigator(this.id);
                    this.daypilot = $0d;
                    for (var name in $a) {
                        $0d[name] = $a[name];
                    };
                    $0d.Init();
                    if (!$o) {
                        $o = $0d;
                    }
                });
                if (this.length === 1) {
                    return $o;
                } else {
                    return j;
                }
            };
        })(jQuery);
    };
    (function registerAngularModule() {
        var $0e = DayPilot.am();
        if (!$0e) {
            return;
        };
        $0e.directive("daypilotNavigator", ['$parse', function($0f) {
            return {
                "restrict": "E",
                "template": "<div id='{{id}};'></div>",
                "compile": function compile(element, $0g) {
                    element.replaceWith(this["template"].replace("{{id}};", $0g["id"]));
                    return function link($0h, element, $0g) {
                        var $b = new DayPilot.Navigator(element[0]);
                        $b.$11.scope = $0h;
                        $b.init();
                        var $0i = $0g["id"];
                        if ($0i) {
                            $0h[$0i] = $b;
                        };
                        var $0j = $0g["publishAs"];
                        if ($0j) {
                            var getter = $0f($0j);
                            var setter = getter.assign;
                            setter($0h, $b);
                        };
                        for (var name in $0g) {
                            if (name.indexOf("on") === 0) {
                                (function(name) {
                                    $b[name] = function($H) {
                                        var f = $0f($0g[name]);
                                        $0h["$apply"](function() {
                                            f($0h, {
                                                "args": $H
                                            });
                                        });
                                    };
                                })(name);
                            }
                        };
                        var $0k = $0h["$watch"];
                        var $0l = $0g["config"] || $0g["daypilotConfig"];
                        var $0m = $0g["events"] || $0g["daypilotEvents"];
                        $0k.call($0h, $0l, function($0n, $0o) {
                            for (var name in $0n) {
                                $b[name] = $0n[name];
                            };
                            $b.update();
                        }, true);
                        $0k.call($0h, $0m, function($0n) {
                            $b.events.list = $0n;
                            $b.$0Q();
                            $b.$0I();
                        }, true);
                    };
                }
            };
        }]);
    })();
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
if (typeof DayPilotScheduler === 'undefined') {
    var DayPilotScheduler = DayPilot.SchedulerVisible = {};
};
(function() {
    if (typeof DayPilot.Scheduler !== 'undefined') {
        return;
    };
    var $a = (function() {
        var $b = navigator.userAgent;
        return (($b.indexOf('Mozilla/5.0') > -1 && $b.indexOf('Android ') > -1 && $b.indexOf('AppleWebKit') > -1) && !($b.indexOf('Chrome') > -1));
    })();
    var $c = !!navigator.userAgent.match(/Version\/[\d\.]+.*$d/);
    var DayPilotScheduler = {};
    var $e = function() {};
    var debug = false;
    var $f = function($g) {
        if (!debug) {
            return;
        };
        window.console && window.console.log($g);
    };
    var $h = function($g) {
        if (typeof $i === "undefined") {
            return;
        };
        $f($g);
    };
    var console = {
        "log": $f
    };
    DayPilot.Scheduler = function(id, $j) {
        this.v = '2200';
        var $k = this;
        this.id = id;
        this.isScheduler = true;
        this.hideUntilInit = true;
        this.api = 2;
        this.allowDefaultContextMenu = false;
        this.allowEventOverlap = true;
        this.allowMultiMove = false;
        this.allowMultiRange = false;
        this.allowMultiResize = false;
        this.allowMultiSelect = true;
        this.multiSelectRectangle = "Disabled";
        this.autoRefreshCommand = 'refresh';
        this.autoRefreshEnabled = false;
        this.autoRefreshInterval = 60;
        this.autoRefreshMaxCount = 20;
        this.autoScroll = "Drag";
        this.blockOnCallBack = false;
        this.businessBeginsHour = 9;
        this.businessEndsHour = 18;
        this.businessWeekends = false;
        this.cellDuration = 60;
        this.cellGroupBy = 'Day';
        this.cellStacking = false;
        this.cellStackingAutoHeight = false;
        this.cellWidth = 40;
        this.cellWidthMin = 1;
        this.cellWidthSpec = "Fixed";
        this.cellsMarkBusiness = true;
        this.eventMarginLeft = 0;
        this.eventMarginRight = 0;
        this.eventMarginBottom = 0;
        this.groupConcurrentEvents = false;
        this.groupConcurrentEventsLimit = 1;
        this.$a8 = true;
        this.$a9 = false;
        this.cellSweeping = true;
        this.cellSweepingCacheSize = 1000;
        this.crosshairColor = 'Gray';
        this.crosshairOpacity = 20;
        this.crosshairType = 'Header';
        this.$aa = false;
        this.doubleClickTimeout = 300;
        this.dragOutAllowed = false;
        this.durationBarHeight = 3;
        this.durationBarVisible = true;
        this.durationBarMode = "Duration";
        this.durationBarDetached = false;
        this.days = 1;
        this.drawBlankCells = true;
        this.dynamicEventRendering = 'Progressive';
        this.dynamicEventRenderingMargin = 50;
        this.dynamicEventRenderingMarginX = null;
        this.dynamicEventRenderingMarginY = null;
        this.dynamicEventRenderingCacheSweeping = false;
        this.dynamicEventRenderingCacheSize = 200;
        this.dynamicLoading = false;
        this.eventBorderColor = "#000000";
        this.eventBorderVisible = true;
        this.eventBackColor = "#FFFFFF";
        this.eventEndSpec = "DateTime";
        this.eventFontFamily = "Tahoma, Arial";
        this.eventFontSize = '8pt';
        this.eventFontColor = '#000000';
        this.eventHeight = 25;
        this.eventMoveMargin = 5;
        this.eventMoveToPosition = false;
        this.eventResizeMargin = 5;
        this.eventStackingLineHeight = 100;
        this.eventTapAndHoldHandling = "Move";
        this.eventTextWrappingEnabled = false;
        this.$ab = false;
        this.headerFontColor = "#000000";
        this.headerFontFamily = "Tahoma, Arial";
        this.headerFontSize = '8pt';
        this.headerHeight = 20;
        this.heightSpec = 'Auto';
        this.height = 300;
        this.hideBorderFor100PctHeight = false;
        this.hourFontFamily = "Tahoma, Arial";
        this.hourFontSize = '10pt';
        this.hourNameBackColor = "#ECE9D8";
        this.hourNameBorderColor = "#ACA899";
        this.$ac = 10;
        this.$ad = 30;
        this.initEventEnabled = true;
        this.jointEventsResize = true;
        this.jointEventsMove = true;
        this.layout = 'Auto';
        this.linkCreateHandling = "Disabled";
        this.linkBottomMargin = 10;
        this.linkPointSize = 10;
        this.locale = "en-us";
        this.loadingLabelText = "Loading...";
        this.loadingLabelVisible = true;
        this.loadingLabelBackColor = "orange";
        this.loadingLabelFontColor = "#ffffff";
        this.loadingLabelFontFamily = "Tahoma";
        this.loadingLabelFontSize = "10pt";
        this.overrideWheelScrolling = false;
        this.messageHideAfter = 5000;
        this.messageHideOnMouseOut = true;
        this.multiMoveVerticalMode = "Disabled";
        this.moveBy = 'Full';
        this.notifyCommit = 'Immediate';
        this.numberFormat = "0.00";
        this.progressiveRowRendering = true;
        this.progressiveRowRenderingPreload = 25;
        this.tapAndHoldTimeout = 300;
        this.timeHeaders = [{
            "groupBy": "Default"
        }, {
            "groupBy": "Cell"
        }];
        this.treePreventParentUsage = false;
        this.treeAutoExpand = true;
        this.rowHeaderColumnDefaultWidth = 80;
        this.rowHeaderHideIconEnabled = false;
        this.rowHeaderWidth = 80;
        this.rowHeaderScrolling = false;
        this.rowHeaderSplitterWidth = 3;
        this.rowHeaderWidthAutoFit = true;
        this.rowHeaderWidthMarginRight = 0;
        this.rowHeaderCols = null;
        this.rowMarginBottom = 0;
        this.rowMarginTop = 0;
        this.rowMinHeight = 0;
        this.scale = "CellDuration";
        this.scrollDelayDynamic = 500;
        this.scrollDelayEvents = 200;
        this.scrollDelayCells = 0;
        this.scrollDelayFloats = 0;
        this.scrollX = 0;
        this.scrollY = 0;
        this.selectedRows = [];
        this.shadow = "Fill";
        this.showBaseTimeHeader = true;
        this.showNonBusiness = true;
        this.showToolTip = true;
        this.snapToGrid = true;
        this.startDate = new DayPilot.Date().getDatePart();
        this.syncResourceTree = false;
        this.timeBreakColor = '#000000';
        this.timeHeaderTextWrappingEnabled = false;
        this.treeEnabled = false;
        this.treeIndent = 20;
        this.treeImageMarginLeft = 5;
        this.treeImageMarginTop = 5;
        this.timeFormat = "Auto";
        this.useEventBoxes = 'Always';
        this.viewType = 'Resources';
        this.visible = true;
        this.weekStarts = 'Auto';
        this.width = null;
        this.floatingEvents = true;
        this.floatingTimeHeaders = true;
        this.eventCorners = 'Regular';
        this.separators = [];
        this.cornerHtml = '';
        this.$ae = -1;
        this.$af = -1;
        this.eventClickHandling = 'Enabled';
        this.eventDeleteHandling = "Disabled";
        this.eventHoverHandling = 'Bubble';
        this.eventDoubleClickHandling = 'Disabled';
        this.eventEditHandling = 'Update';
        this.eventMoveHandling = 'Update';
        this.eventResizeHandling = 'Update';
        this.eventRightClickHandling = 'ContextMenu';
        this.eventSelectHandling = 'Update';
        this.rowClickHandling = 'Enabled';
        this.rowDoubleClickHandling = "Disabled";
        this.rowCreateHandling = "Disabled";
        this.rowEditHandling = 'Update';
        this.rowHeaderColumnResizedHandling = "Update";
        this.rowSelectHandling = 'Update';
        this.rowMoveHandling = "Disabled";
        this.timeRangeClickHandling = "Enabled";
        this.timeRangeDoubleClickHandling = 'Disabled';
        this.timeRangeSelectedHandling = 'Enabled';
        this.timeRangeRightClickHandling = "ContextMenu";
        this.eventMovingStartEndEnabled = false;
        this.eventMovingStartEndFormat = "MMMM d, yyyy";
        this.timeRangeSelectingStartEndEnabled = false;
        this.timeRangeSelectingStartEndFormat = "MMMM d, yyyy";
        this.eventResizingStartEndEnabled = false;
        this.eventResizingStartEndFormat = "MMMM d, yyyy";
        this.cssOnly = true;
        this.cssClassPrefix = "scheduler_default";
        this.eventVersionsEnabled = false;
        this.eventVersionHeight = 25;
        this.eventVersionMargin = 2;
        this.backendUrl = null;
        if ($k.api === 1) {
            this.onEventMove = function() {};
            this.onEventResize = function() {};
            this.onResourceExpand = function() {};
            this.onResourceCollapse = function() {};
        };
        this.onEventClick = null;
        this.onEventClicked = null;
        this.onEventMove = null;
        this.onEventMoved = null;
        this.onEventMoving = null;
        this.onEventResize = null;
        this.onEventResized = null;
        this.onEventResizing = null;
        this.onEventRightClick = null;
        this.onEventRightClicked = null;
        this.onEventMouseOver = null;
        this.onEventMouseOut = null;
        this.onRowClick = null;
        this.onRowClicked = null;
        this.onTimeRangeClick = null;
        this.onTimeRangeClicked = null;
        this.onTimeRangeDoubleClick = null;
        this.onTimeRangeDoubleClicked = null;
        this.onTimeRangeSelect = null;
        this.onTimeRangeSelected = null;
        this.onTimeRangeSelecting = null;
        this.onTimeRangeRightClick = null;
        this.onTimeRangeRightClicked = null;
        this.onRowHeaderResized = null;
        this.onCellMouseOver = null;
        this.onCellMouseOut = null;
        this.onGridMouseDown = null;
        this.onBeforeCellRender = null;
        this.onBeforeEventRender = null;
        this.onBeforeTimeHeaderRender = null;
        this.onBeforeResHeaderRender = null;
        this.onBeforeRowHeaderRender = null;
        this.onBeforeCellExport = null;
        this.onBeforeEventExport = null;
        this.onBeforeTimeHeaderExport = null;
        this.onBeforeRowHeaderExport = null;
        this.onEventFilter = null;
        this.onRowFilter = null;
        this.onRectangleEventSelecting = null;
        this.onRectangleEventSelect = null;
        this.onRectangleEventSelected = null;
        this.onDimensionsChanged = null;
        this.onAfterUpdate = null;
        this.$ag = 0;
        this.$ah = 0;
        this.rowlist = DayPilot.list();
        this.itline = DayPilot.list();
        this.timeline = null;
        this.events = {};
        this.cells = {};
        this.elements = {};
        this.elements.events = [];
        this.elements.bars = [];
        this.elements.text = [];
        this.elements.cells = [];
        this.elements.linesVertical = [];
        this.elements.separators = [];
        this.elements.range = [];
        this.elements.breaks = [];
        this.elements.links = [];
        this.elements.linkpoints = [];
        this.elements.rectangle = [];
        this.elements.hover = [];
        this.$ai = {};
        this.$ai.cells = [];
        this.$ai.linesVertical = {};
        this.$ai.linesHorizontal = {};
        this.$ai.timeHeaderGroups = [];
        this.$ai.timeHeader = {};
        this.$ai.pixels = [];
        this.$ai.breaks = [];
        this.$ai.events = [];
        this.clientState = {};
        this.members = {};
        this.members.obsolete = ["Init", "cleanSelection", "cssClassPrefix", "getHScrollPosition", "setHScrollPosition", "getVScrollPosition", "setVScrollPosition", "showBaseTimeHeader"];
        this.members.ignoreFilter = function(name) {
            if (name.indexOf("div") === 0) {
                return true;
            };
            return false;
        };
        this.members.ignore = ["internal", "nav", "debug", "temp", "elements", "members", "cellProperties", "itline", "rowlist", "timeHeader", "timeouts"];
        this.members.noCssOnly = ["borderColor", "cellBackColor", "cellBackColorNonBusiness", "cellBorderColor", "cellSelectColor", "durationBarColor", "eventBackColor", "eventBorderColor", "eventBorderVisible", "eventCorners", "eventFontColor", "eventFontFamily", "eventFontSize", "headerFontColor", "headerFontFamily", "headerFontSize", "hourFontFamily", "hourFontSize", "hourNameBackColor", "hourNameBorderColor", "loadingLabelBackColor", "loadingLabelFontColor", "loadingLabelFontFamily", "loadingLabelFontSize", "shadow", "timeBreakColor"];
        this.nav = {};
        this.$aj = function($l, $m) {
            var $l = DayPilot.Util.parseJSON($l);
            $k.onScrollCalled = false;
            if ($l.CallBackRedirect) {
                document.location.href = $l.CallBackRedirect;
                return;
            };
            if (typeof $k.onCallBackResult === "function") {
                var $n = {};
                $n.result = $l;
                $n.preventDefault = function() {
                    $n.preventDefault.value = true;
                };
                $k.onCallBackResult($n);
                if ($n.preventDefault.value) {
                    $k.$ak();
                    $k.$al();
                    $k.$am();
                    if ($l.Message) {
                        if ($k.message) {
                            $k.message($l.Message);
                        }
                    };
                    $k.$an($l.CallBackData, true);
                    $k.$ao();
                    $k.$ap();
                    return;
                }
            };
            if ($l.BubbleGuid) {
                var $o = $l.BubbleGuid;
                var $p = this.bubbles[$o];
                delete this.bubbles[$o];
                $k.$al();
                if (typeof $l.Result.BubbleHTML !== 'undefined' && $p) {
                    $p.updateView($l.Result.BubbleHTML, $p);
                };
                $k.$ao();
                return;
            };
            if (typeof DayPilot.Bubble !== "undefined") {
                DayPilot.Bubble.hideActive();
            };
            if (typeof $l.ClientState !== 'undefined') {
                if ($l.ClientState === null) {
                    $k.clientState = {};
                } else {
                    $k.clientState = $l.ClientState;
                }
            };
            if ($l.UpdateType === "None") {
                $k.$al();
                $k.$ao();
                if ($l.Message) {
                    $k.message($l.Message);
                };
                $k.$an($l.CallBackData, true);
                return;
            };
            if ($l.VsUpdate) {
                var $q = document.createElement("input");
                $q.type = 'hidden';
                $q.name = $k.id + "_vsupdate";
                $q.id = $q.name;
                $q.value = $l.VsUpdate;
                $k.$aq.innerHTML = '';
                $k.$aq.appendChild($q);
            };
            if (typeof $l.TagFields !== 'undefined') {
                $k.tagFields = $l.TagFields;
            };
            if (typeof $l.SortDirections !== 'undefined') {
                $k.sortDirections = $l.SortDirections;
            };
            $k.$ai.drawArea = null;
            if ($l.UpdateType === "Full") {
                $k.resources = $l.Resources;
                $k.colors = $l.Colors;
                $k.palette = $l.Palette;
                $k.dirtyColors = $l.DirtyColors;
                $k.cellProperties = $l.CellProperties;
                $k.cellConfig = $l.CellConfig;
                $k.separators = $l.Separators;
                $k.timeline = $l.Timeline;
                $k.timeHeader = $l.TimeHeader;
                $k.timeHeaders = $l.TimeHeaders;
                if (typeof $l.Links !== "undefined") {
                    $k.links.list = $l.Links;
                };
                if (typeof $l.RowHeaderColumns !== 'undefined') $k.rowHeaderColumns = $l.RowHeaderColumns;
                $k.startDate = $l.StartDate ? new DayPilot.Date($l.StartDate) : $k.startDate;
                $k.days = $l.Days ? $l.Days : $k.days;
                $k.cellDuration = $l.CellDuration ? $l.CellDuration : $k.cellDuration;
                $k.cellGroupBy = $l.CellGroupBy ? $l.CellGroupBy : $k.cellGroupBy;
                $k.cellWidth = $l.CellWidth ? $l.CellWidth : $k.cellWidth;
                $k.viewType = $l.ViewType ? $l.ViewType : $k.viewType;
                $k.hourNameBackColor = $l.HourNameBackColor ? $l.HourNameBackColor : $k.hourNameBackColor;
                if (typeof $l.ShowNonBusiness !== 'undefined') $k.showNonBusiness = $l.ShowNonBusiness;
                $k.businessBeginsHour = $l.BusinessBeginsHour ? $l.BusinessBeginsHour : $k.businessBeginsHour;
                $k.businessEndsHour = $l.BusinessEndsHour ? $l.BusinessEndsHour : $k.businessEndsHour;
                if (typeof $l.DynamicLoading !== 'undefined') $k.dynamicLoading = $l.DynamicLoading;
                if (typeof $l.TreeEnabled !== 'undefined') $k.treeEnabled = $l.TreeEnabled;
                $k.backColor = $l.BackColor ? $l.BackColor : $k.backColor;
                $k.nonBusinessBackColor = $l.NonBusinessBackColor ? $l.NonBusinessBackColor : $k.nonBusinessBackColor;
                $k.locale = $l.Locale ? $l.Locale : $k.locale;
                if (typeof $l.TimeZone !== 'undefined') $k.timeZone = $l.TimeZone;
                $k.timeFormat = $l.TimeFormat ? $l.TimeFormat : $k.timeFormat;
                $k.rowHeaderCols = $l.RowHeaderCols ? $l.RowHeaderCols : $k.rowHeaderCols;
                if (typeof $l.DurationBarMode !== "undefined") $k.durationBarMode = $l.DurationBarMode;
                $k.cornerBackColor = $l.CornerBackColor ? $l.CornerBackColor : $k.cornerBackColor;
                if (typeof $l.CornerHTML !== 'undefined') {
                    $k.cornerHtml = $l.CornerHTML;
                };
                $k.hashes = $l.Hashes;
                $k.$ar();
                $k.$as();
                $k.$at();
                $k.$au();
            };
            if ($l.Action !== "Scroll") {
                $k.$av($l.Events);
            };
            if ($l.UpdateType === 'Full') {
                $k.$aw();
                $k.$ax();
            };
            $k.$ay();
            $k.$az();
            $k.$aA();
            $k.$ai.drawArea = null;
            if ($l.Action !== "Scroll") {
                $k.$aB();
                $k.$aC();
                if ($k.heightSpec === 'Auto' || $k.heightSpec === 'Max') {
                    $k.$aD();
                };
                $k.$aE();
                $k.$aF();
                $k.$aG();
                $k.multiselect.clear(true);
                $k.multiselect.$aH($l.SelectedEvents);
                $k.$aI();
                $k.$aJ();
                $k.$aK();
            } else {
                $k.multiselect.clear(true);
                $k.multiselect.$aH($l.SelectedEvents);
                $k.$aL($l.Events);
            };
            if ($k.timeRangeSelectedHandling !== "HoldForever") {
                $k.$aM();
            };
            if ($l.UpdateType === "Full") {
                $k.setScroll($l.ScrollX, $l.ScrollY);
                $k.$aN();
            };
            $k.$aO();
            $k.$ak();
            if ($l.SelectedRows) {
                $k.$aP($l.SelectedRows);
            };
            $k.$al();
            if ($l.UpdateType === 'Full' && navigator.appVersion.indexOf("MSIE 7.") !== -1) {
                window.setTimeout(function() {
                    $k.$aw();
                    $k.$aD();
                }, 0);
            };
            $k.$am();
            if ($l.Message) {
                if ($k.message) {
                    $k.message($l.Message);
                }
            };
            $k.$an($l.CallBackData, true);
            $k.$ao();
            $k.$ap();
            if ($l.UpdateType === 'Full' && $l.Action !== "Scroll" && !$k.onScrollCalled) {
                setTimeout(function() {
                    $k.$aQ();
                }, 0);
            }
        };
        this.$ak = function() {
            if ($k.todo) {
                if ($k.todo.del) {
                    var $r = $k.todo.del;
                    $r.parentNode.removeChild($r);
                    $k.todo.del = null;
                }
            }
        };
        this.$an = function($s, $t) {
            var $u = function($s, $v) {
                return function() {
                    if ($k.$aR()) {
                        if (typeof $k.onAfterRender === 'function') {
                            var $n = {};
                            $n.isCallBack = $v;
                            $n.data = $s;
                            $k.onAfterRender($n);
                        }
                    } else {
                        if ($k.afterRender) {
                            $k.afterRender($s, $v);
                        }
                    }
                };
            };
            window.setTimeout($u($s, $t), 0);
        };
        this.scrollTo = function($w, $x, $y) {
            if (!$w) {
                return;
            };
            if ($k.viewType === "Days") {
                var $z = $k.$aS(new DayPilot.Date($w));
                if (!$z) {
                    return;
                };
                setTimeout(function() {
                    var scrollY = $z.top;
                    $k.nav.scroll.scrollTop = scrollY;
                }, 100);
                return;
            };
            var $A;
            if ($w instanceof DayPilot.Date) {
                $A = this.getPixels($w).left;
            } else if (typeof $w === "string") {
                $A = this.getPixels(new DayPilot.Date($w)).left;
            } else if (typeof $w === "number") {
                $A = $w;
            } else {
                throw "Invalid scrollTo() parameter. Accepted parameters: string (ISO date), number (pixels), DayPilot.Date object";
            };
            var $B = this.$aT.clientWidth;
            var $C = this.nav.scroll.clientWidth;
            $y = $y || "left";
            switch ($y.toLowerCase()) {
                case "left":
                    break;
                case "middle":
                    $A -= $C / 2;
                    break;
                case "right":
                    $A -= $C;
                    break;
            };
            if ($A < 0) {
                $A = 0;
            };
            if ($A > $B - $C) {
                $A = $B - $C;
            };
            if (!$x) {
                this.setScrollX($A);
                return;
            };
            var $D = Math.abs($k.nav.scroll.scrollLeft - $A);
            var $E = $D / $B;
            var $F = 50;
            if (typeof $x === "number") {
                $F = $x;
            } else if (typeof $x === "string") {
                switch ($x) {
                    case "fast":
                        $F = 30;
                        break;
                    case "normal":
                        $F = 50;
                        break;
                    case "slow":
                        $F = 100;
                        break;
                    case "linear":
                        $F = Math.floor(100 * $E);
                        break;
                }
            };
            if ($E > .6) {
                $F = Math.min($F, 80);
            };
            this.$aU($A, $F);
        };
        this.$aU = function($A, $F) {
            var $G = {};
            $G.steps = [];
            $G.index = 0;
            $G.delay = 10;
            $G.next = function() {
                var $H = $G.steps[$G.index];
                $G.index += 1;
                return $H;
            };
            $G.finished = function() {
                $k.$aQ();
            };
            var $I = $k.getScrollX();
            var $F = $F || 100;
            var $J = $A - $I;
            for (var i = 0; i < $F; i++) {
                var x = i / $F;
                var $K = ((x - .5) * 2) / (Math.pow(((x - 0.5) * 2), 2) + 1) + .5;
                $G.steps.push($I + $J * $K);
            };
            $G.steps.push($A);
            scrollStep($G);

            function scrollStep($G) {
                var $H = $G.next();
                if (typeof $H === "undefined") {
                    $G.finished && $G.finished();
                    return;
                };
                $k.setScrollX($H);
                window.clearTimeout($k.refreshTimeout);
                setTimeout(function() {
                    scrollStep($G);
                }, $G.delay);
            }
        };
        this.scrollToResource = function(id) {
            DayPilot.complete(function() {
                var $z = $k.$aV(id);
                if (!$z) {
                    return;
                };
                setTimeout(function() {
                    var scrollY = $z.top;
                    $k.nav.scroll.scrollTop = scrollY;
                }, 100);
            });
        };
        this.$aW = function() {
            if (!this.floatingTimeHeaders) {
                return;
            };
            if (!this.timeHeader) {
                return;
            };
            var $L = this.$aX();
            if (!$L) {
                return;
            };
            this.$aY();
            var $M = $L.pixels.left + $N.shiftX;
            var end = $L.pixels.right + $N.shiftX;
            var $O = [];
            for (var y = 0; y < this.timeHeader.length; y++) {
                for (var x = 0; x < this.timeHeader[y].length; x++) {
                    var h = this.timeHeader[y][x];
                    var $P = h.left;
                    var $Q = h.left + h.width;
                    var $R = null;
                    if ($P < $M && $M < $Q) {
                        $R = {};
                        $R.x = x;
                        $R.y = y;
                        $R.marginLeft = $M - $P;
                        $R.marginRight = 0;
                        $R.div = this.$ai.timeHeader[x + "_" + y];
                        $O.push($R);
                    };
                    if ($P < end && end < $Q) {
                        if (!$R) {
                            $R = {};
                            $R.x = x;
                            $R.y = y;
                            $R.marginLeft = 0;
                            $R.div = this.$ai.timeHeader[x + "_" + y];
                            $O.push($R);
                        };
                        $R.marginRight = $Q - end;
                        break;
                    }
                }
            };
            for (var i = 0; i < $O.length; i++) {
                var $R = $O[i];
                this.$aZ($R.div, $R.marginLeft, $R.marginRight);
            }
        };
        this.$aO = function() {
            this.$aW();
            this.$b0();
        };
        this.$b1 = {};
        var $S = this.$b1;
        $S.eventsInRectangle = function(x, y, $C, $T) {
            var $U = x;
            var $V = x + $C;
            var $W = y;
            var $X = y + $T;
            return DayPilot.list($k.elements.events).filter(function(e) {
                var $s = e.event;
                var $P = $s.part.left;
                var $Q = $s.part.left + $s.part.width;
                var $z = $k.rowlist[$s.part.dayIndex];
                var top = $z.top + $s.part.top;
                var $Y = top + $s.part.height;
                if (DayPilot.Util.overlaps($P, $Q, $U, $V) && DayPilot.Util.overlaps(top, $Y, $W, $X)) {
                    return true;
                }
            });
        };
        $S.events = function($Z) {
            var $00 = [];
            var $Z = $Z || "All";
            var $L = $k.$aX();
            if (!$L) {
                return DayPilot.list($00);
            };
            var $M = $L.pixels.left;
            var end = $L.pixels.right;
            for (var i = 0; i < $k.elements.events.length; i++) {
                var e = $k.elements.events[i];
                var $s = e.event;
                var $P = $s.part.left;
                var $Q = $s.part.left + $s.part.width;
                switch ($Z) {
                    case "Left":
                        if ($P < $M && $M < $Q) {
                            $00.push(e);
                        };
                        break;
                    case "All":
                        if (DayPilot.Util.overlaps($P, $Q, $M, end)) {
                            $00.push(e);
                        };
                        break;
                }
            };
            return DayPilot.list($00).addProps({
                "area": $L
            });
        };
        this.$b0 = function() {
            if (!this.floatingEvents) {
                return;
            };
            var $01 = $S.events("Left");
            this.$b2();
            $01.each(function($02) {
                var $P = $01.area.pixels.left;
                var $s = $02.event;
                var $M = $s.part.left;
                var $03 = $P - $M;
                $k.$b3($02, $03, 0);
            });
        };
        this.elements.sections = [];
        this.elements.hsections = [];
        this.$aZ = function($04, $03, $05) {
            var $06 = document.createElement("div");
            $06.setAttribute("unselectable", "on");
            $06.className = this.$b4("_timeheader_float");
            $06.style.position = "absolute";
            $06.style.left = $03 + "px";
            $06.style.right = $05 + "px";
            $06.style.top = "0px";
            $06.style.bottom = "0px";
            $06.style.overflow = "hidden";
            var $07 = document.createElement("div");
            $07.className = this.$b4("_timeheader_float_inner");
            $07.setAttribute("unselectable", "on");
            if ($04.cell.th.innerHTML) {
                $07.innerHTML = $04.cell.th.innerHTML;
            };
            $06.appendChild($07);
            $04.section = $06;
            $04.insertBefore($06, $04.firstChild.nextSibling);
            $04.firstChild.innerHTML = '';
            this.elements.hsections.push($04);
        };
        this.$aY = function() {
            for (var i = 0; i < this.elements.hsections.length; i++) {
                var e = this.elements.hsections[i];
                var $s = e.cell;
                if ($s && e.firstChild) {
                    e.firstChild.innerHTML = $s.th.innerHTML;
                };
                DayPilot.de(e.section);
                e.section = null;
            };
            this.elements.hsections = [];
        };
        this.$b3 = function($04, $03, $05) {
            var $06 = document.createElement("div");
            $06.setAttribute("unselectable", "on");
            $06.className = this.$b4($08.eventFloat);
            $06.style.position = "absolute";
            $06.style.left = $03 + "px";
            $06.style.right = $05 + "px";
            $06.style.top = "0px";
            $06.style.bottom = "0px";
            $06.style.overflow = "hidden";
            var $07 = document.createElement("div");
            $07.className = this.$b4($08.eventFloatInner);
            $07.setAttribute("unselectable", "on");
            $07.innerHTML = $04.event.client.html();
            if ($04.event.data.fontColor) {
                $07.style.color = $04.event.data.fontColor;
            };
            $06.appendChild($07);
            $04.section = $06;
            $04.insertBefore($06, $04.firstChild.nextSibling);
            $04.firstChild.innerHTML = '';
            var $j = {
                "offsetX": parseInt(new DayPilot.StyleReader($07).get("padding-left")),
                "eventDiv": $04
            };
            DayPilot.Areas.attach($06, $04.event, $j);
            DayPilot.Areas.disable($04);
            this.elements.sections.push($04);
        };
        this.$b2 = function() {
            for (var i = 0; i < this.elements.sections.length; i++) {
                var e = this.elements.sections[i];
                var $s = e.event;
                if ($s) {
                    e.firstChild.innerHTML = $s.client.html();
                };
                DayPilot.de(e.section);
                DayPilot.Areas.enable(e);
                e.section = null;
            };
            this.elements.sections = [];
        };
        this.setScrollX = function(scrollX) {
            var scroll = $k.nav.scroll;
            var $09 = $k.$b5() * $k.cellWidth;
            if (scroll.clientWidth + scrollX > $09) {
                scrollX = $09 - scroll.clientWidth;
            };
            $k.divTimeScroll.scrollLeft = scrollX;
            scroll.scrollLeft = scrollX;
        };
        this.setScrollY = function(scrollY) {
            var scroll = $k.nav.scroll;
            var $0a = $k.$ah;
            if (scroll.clientHeight + scrollY > $0a) {
                scrollY = $0a - scroll.clientHeight;
            };
            $k.divResScroll.scrollTop = scrollY;
            scroll.scrollTop = scrollY;
        };
        this.setScroll = function(scrollX, scrollY) {
            $k.setScrollX(scrollX);
            $k.setScrollY(scrollY);
        };
        this.message = function($0b, $0c) {
            if ($0b === null) {
                return;
            };
            var $j = {};
            if (typeof arguments[1] === "object") {
                $j = arguments[1];
                $0c = $j.delay;
            };
            var $0c = $0c || this.messageHideAfter || 2000;
            var top = this.$b6() + 1;
            var $P = this.$b7() + $0d.splitterWidth();
            var $Q = DayPilot.sw($k.nav.scroll) + 1;
            var $Y = DayPilot.sh($k.nav.scroll) + 1;
            var $04;
            if (!this.nav.message) {
                $04 = document.createElement("div");
                $04.style.position = "absolute";
                $04.style.left = $P + "px";
                $04.style.right = $Q + "px";
                $04.style.display = 'none';
                DayPilot.re($04, DayPilot.touch.start, function(e) {
                    $k.nav.message.style.display = 'none';
                    e.preventDefault();
                    e.stopPropagation();
                });
                $04.onmousemove = function() {
                    if (!$k.messageHideOnMouseOut) {
                        return;
                    };
                    if ($04.messageTimeout && !$04.status) {
                        clearTimeout($04.messageTimeout);
                    }
                };
                $04.onmouseout = function() {
                    if (!$k.messageHideOnMouseOut) {
                        return;
                    };
                    if ($k.nav.message.style.display !== 'none') {
                        $04.messageTimeout = setTimeout($k.$b8, 500);
                    }
                };
                var $07 = document.createElement("div");
                $07.onclick = function() {
                    $k.nav.message.style.display = 'none';
                };
                $07.className = this.$b4("_message");
                $04.appendChild($07);
                var close = document.createElement("div");
                close.style.position = "absolute";
                close.className = this.$b4("_message_close");
                close.onclick = function() {
                    $k.nav.message.style.display = 'none';
                };
                $04.appendChild(close);
                this.nav.top.appendChild($04);
                this.nav.message = $04;
            } else {
                $04 = $k.nav.message;
            };
            var $0e = function() {
                var $04 = $k.nav.message;
                if ($j.cssClass) {
                    DayPilot.Util.addClass($04.firstChild, $j.cssClass);
                };
                var $07 = $k.nav.message.firstChild;
                $07.innerHTML = $0b;
                var $Q = DayPilot.sw($k.nav.scroll) + 1;
                $k.nav.message.style.right = $Q + "px";
                var $y = $k.messageBarPosition || "Top";
                if ($y === "Bottom") {
                    $k.nav.message.style.bottom = $Y + "px";
                    $k.nav.message.style.top = "";
                } else if ($y === "Top") {
                    $k.nav.message.style.bottom = "";
                    $k.nav.message.style.top = top + "px";
                };
                var end = function() {
                    $04.messageTimeout = setTimeout($k.$b8, $0c);
                };
                DayPilot.fade($k.nav.message, 0.2, end);
            };
            clearTimeout($04.messageTimeout);
            if (this.nav.message.style.display !== 'none') {
                DayPilot.fade($k.nav.message, -0.2, $0e);
            } else {
                $0e();
            }
        };
        this.$b8 = function() {
            if (!$k.nav.message) {
                return;
            };
            var end = function() {
                $k.nav.message.style.display = 'none';
            };
            DayPilot.fade($k.nav.message, -0.2, end);
        };
        this.message.show = function($0b) {
            $k.message($0b);
        };
        this.message.hide = function() {
            $k.$b8();
        };
        this.$b9 = null;
        this.$aD = function() {
            if (!this.nav.scroll) {
                return;
            };
            var $0f = 1;
            if (this.$b9 !== null) {
                this.nav.top.style.border = this.$b9;
                this.$b9 = null;
            };
            if (this.heightSpec === 'Parent100Pct') {
                this.nav.top.style.height = "100%";
                if (this.hideBorderFor100PctHeight) {
                    this.$b9 = this.nav.top.style.border;
                    this.nav.top.style.border = "0 none";
                };
                this.height = parseInt(this.nav.top.clientHeight, 10) - (this.$b6()) - $0f;
            };
            this.nav.scroll.style.height = '30px';
            var $T = this.$ba();
            var $0g = $T + this.$b6() + $0f;
            if ($T >= 0) {
                this.nav.scroll.style.height = ($T) + 'px';
                this.$bb.style.height = ($T) + 'px';
            };
            if (this.nav.divider) {
                if (!$0g || isNaN($0g) || $0g < 0) {
                    $0g = 0;
                };
                this.nav.divider.style.height = ($0g) + "px";
            };
            if (this.heightSpec !== "Parent100Pct") {
                this.nav.top.style.height = ($0g) + "px";
            };
            if ($k.nav.resScrollSpace) {
                $k.nav.resScrollSpace.style.height = ($T + 20) + "px";
            };
            for (var i = 0; i < this.elements.separators.length; i++) {
                this.elements.separators[i].style.height = this.$ah + 'px';
            };
            for (var i = 0; i < this.elements.linesVertical.length; i++) {
                this.elements.linesVertical[i].style.height = this.$ah + 'px';
            };
            $k.$bc();
        };
        this.$as = function() {
            this.startDate = new DayPilot.Date(this.startDate).getDatePart();
            this.$ai.pixels = [];
            this.itline = DayPilot.list();
            var $0h = this.cellWidthSpec === "Auto";
            var $0i = function() {
                if (!$0h) {
                    return;
                };
                var $0j = 0;
                if ($k.$bd() && $k.timeline) {
                    $0j = $k.timeline.length;
                } else {
                    if ($k.scale === "Manual") {
                        $0j = $k.timeline.length;
                    } else {
                        $k.$be();
                        $0j = $k.itline.length;
                        $k.itline = DayPilot.list();
                    }
                };
                var $C = $k.$bf();
                if ($0j > 0 && $C > 0) {
                    var $R = $C / $0j;
                    $k.cellWidth = Math.max($R, $k.cellWidthMin);
                    $k.$bg = $R < $k.cellWidthMin;
                }
            };
            $0i();
            if (this.$bd() && this.timeline) {
                if (this.timeline) {
                    this.itline = DayPilot.list();
                    var $0k = null;
                    var $P = 0;
                    for (var i = 0; i < this.timeline.length; i++) {
                        var $0l = this.timeline[i];
                        var $R = {};
                        $R.start = new DayPilot.Date($0l.start);
                        $R.end = $0l.end ? new DayPilot.Date($0l.end) : $R.start.addMinutes(this.cellDuration);
                        if (!$0l.width) {
                            var $Q = Math.floor($P + this.cellWidth);
                            var $C = $Q - Math.floor($P);
                            $R.left = Math.floor($P);
                            $R.width = $C;
                            $P += this.cellWidth;
                        } else {
                            $R.left = $0l.left || $P;
                            $R.width = $0l.width || this.cellWidth;
                            $P += $R.width;
                        };
                        $R.breakBefore = $0k && $0k.ticks !== $R.start.ticks;
                        $0k = $R.end;
                        this.itline.push($R);
                    }
                };
                if ($0h) {
                    this.$bh();
                }
            } else {
                this.timeHeader = [];
                if (this.scale === "Manual") {
                    this.itline = DayPilot.list();
                    var $P = 0;
                    var $0k = null;
                    for (var i = 0; i < this.timeline.length; i++) {
                        var $0l = this.timeline[i];
                        var $R = {};
                        $R.start = new DayPilot.Date($0l.start);
                        $R.end = $0l.end ? new DayPilot.Date($0l.end) : $R.start.addMinutes(this.cellDuration);
                        if ($0k && $R.start.ticks < $0k.ticks) {
                            throw "The timeline must be sequential";
                        };
                        var w = $0l.width || this.cellWidth;
                        var $Q = Math.floor($P + w);
                        var $C = $Q - Math.floor($P);
                        $R.left = Math.floor($P);
                        $R.width = $C;
                        $P += w;
                        $R.breakBefore = $0k && $0k.ticks !== $R.start.ticks;
                        $0k = $R.end;
                        this.itline.push($R);
                    }
                } else {
                    this.$be();
                };
                this.$bi();
            }
        };
        this.$bj = {};
        var $N = this.$bj;
        $N.shiftX = 0;
        $N.active = false;
        $N.updateRowStarts = function() {
            DayPilot.list($k.rowlist).each(function($z, i) {
                $z.start = $k.$bk();
                $z.data = null;
                $k.$bl(i);
            });
        };
        $N.isEnabled = function() {
            return $k.temp.infiniteScrolling;
        };
        $N.shiftTo = function($0m) {
            var $0m = new DayPilot.Date($0m);
            var $M = $0m.addDays(-$k.$ad).getDatePart();
            var $J = new DayPilot.Duration($M.getTime() - $k.startDate.getDatePart().getTime()).totalDays();
            $N.shiftStart($J, $0m);
        };
        $N.shiftStart = function($0n, scrollTo) {
            var $A;
            $N.active = true;
            var $0o = $k.startDate;
            var $0p = $k.startDate.addDays($0n);
            if ($0n > 0) {
                $A = -$k.getPixels($0p).left;
            };
            $k.startDate = $k.startDate.addDays($0n);
            $k.itline = DayPilot.list();
            $k.$ai.pixels = [];
            $k.$be();
            $N.updateRowStarts();
            if ($0n < 0) {
                $A = $k.getPixels($0o).left;
            };
            $k.timeHeader = [];
            $k.$bi();
            $k.$ax();
            $k.cellProperties = {};
            $k.$aE();
            $k.$aG();
            $k.$av();
            $k.$aF();
            if (typeof scrollTo !== 'undefined') {
                $k.scrollTo(new DayPilot.Date(scrollTo));
                $k.$aQ();
            } else {
                $k.nav.scroll.scrollLeft += $A;
            };
            $k.$aK();
            $N.active = false;
        };
        this.$be = function() {
            var $0q = (this.viewType !== 'Days') ? this.startDate.addDays(this.days) : this.startDate.addDays(1);
            var $M = this.startDate;
            var end = this.$bm($M);
            var $0r = false;
            var $P = 0;
            while (end.ticks <= $0q.ticks && end.ticks > $M.ticks) {
                if (this.$bn($M, end)) {
                    var $Q = Math.floor($P + this.cellWidth);
                    var $C = $Q - Math.floor($P);
                    var $0s = {};
                    $0s.start = $M;
                    $0s.end = end;
                    $0s.left = Math.floor($P);
                    $0s.width = $C;
                    $0s.breakBefore = $0r;
                    this.itline.push($0s);
                    $P += this.cellWidth;
                    $0r = false;
                } else {
                    $0r = true;
                };
                $M = end;
                end = this.$bm($M);
            }
        };
        this.$bh = function() {
            if (!this.timeHeader) {
                return;
            };
            for (var y = 0; y < this.timeHeader.length; y++) {
                var $z = this.timeHeader[y];
                for (var x = 0; x < $z.length; x++) {
                    var h = $z[x];
                    h.left = this.getPixels(new DayPilot.Date(h.start)).left;
                    var $Q = this.getPixels(new DayPilot.Date(h.end)).left;
                    var $C = $Q - h.left;
                    h.width = $C;
                }
            }
        };
        this.$bi = function() {
            var $0t = this.timeHeaders;
            if (!$0t) {
                $0t = [{
                    "groupBy": this.cellGroupBy
                }, {
                    "groupBy": "Cell"
                }];
            };
            if (this.itline.isEmpty()) {
                this.timeHeader = [];
                for (var i = 0; i < $0t.length; i++) {
                    this.timeHeader[i] = [];
                };
                return;
            };
            var $0u = $k.$bo();
            for (var i = 0; i < $0t.length; i++) {
                var $0v = $0t[i].groupBy;
                var $0w = $0t[i].format;
                if ($0v === "Default") {
                    $0v = this.cellGroupBy;
                };
                var $0x = [];
                var $M = this.$bk();
                while ($M.ticks < $0u.ticks) {
                    var h = {};
                    h.start = $M;
                    h.end = this.$bp(h.start, $0v);
                    if (h.start.ticks === h.end.ticks) {
                        break;
                    };
                    h.left = this.getPixels(h.start).left;
                    var $Q = this.getPixels(h.end).left;
                    var $C = $Q - h.left;
                    h.width = $C;
                    h.colspan = Math.ceil($C / (1.0 * this.cellWidth));
                    if (typeof $0w === "string") {
                        h.innerHTML = h.start.toString($0w, $0d.locale());
                    } else {
                        h.innerHTML = this.$bq(h, $0v);
                    };
                    h.text = h.innerHTML;
                    if ($C > 0) {
                        if (typeof this.onBeforeTimeHeaderRender === 'function') {
                            var $R = {};
                            $R.start = h.start;
                            $R.end = h.end;
                            $R.text = h.innerHTML;
                            $R.html = h.innerHTML;
                            $R.toolTip = h.innerHTML;
                            $R.backColor = null;
                            $R.level = this.timeHeader.length;
                            $R.cssClass = null;
                            var $n = {};
                            $n.header = $R;
                            this.onBeforeTimeHeaderRender($n);
                            h.text = h.innerHTML;
                            h.innerHTML = $R.html;
                            h.backColor = $R.backColor;
                            h.toolTip = $R.toolTip;
                            h.areas = $R.areas;
                            h.cssClass = $R.cssClass;
                        };
                        $0x.push(h);
                    };
                    $M = h.end;
                };
                this.timeHeader.push($0x);
            }
        };
        this.$bn = function($M, end) {
            if (typeof this.onIncludeTimeCell === 'function') {
                var $R = {};
                $R.start = $M;
                $R.end = end;
                $R.visible = true;
                var $n = {};
                $n.cell = $R;
                this.onIncludeTimeCell($n);
                return $R.visible;
            };
            if (this.showNonBusiness) {
                return true;
            };
            return this.isBusiness({
                "start": $M,
                "end": end
            });
        };
        this.getPixels = function($w) {
            var $0y = $w.ticks;
            var $0z = this.$ai.pixels[$0y];
            if ($0z) {
                return $0z;
            };
            var $0A = null;
            var $0B = 221876841600000;
            if (this.itline.length === 0 || $0y < this.itline[0].start.ticks) {
                var $l = {};
                $l.cut = false;
                $l.left = 0;
                $l.boxLeft = $l.left;
                $l.boxRight = $l.left;
                $l.i = null;
                return $l;
            };
            var $0C = this.$br($w);
            var si = Math.max($0C.i - 1, 0);
            for (var i = si; i < this.itline.length; i++) {
                var $R = this.itline[i];
                var $0D = $R.start.ticks;
                var $0E = $R.end.ticks;
                if ($0D < $0y && $0y < $0E) {
                    var $0F = $0y - $0D;
                    var $l = {};
                    $l.cut = false;
                    $l.left = $R.left + this.$bs($R, $0F);
                    $l.boxLeft = $R.left;
                    $l.boxRight = $R.left + $R.width;
                    $l.i = i;
                    break;
                } else if ($0D === $0y) {
                    var $l = {};
                    $l.cut = false;
                    $l.left = $R.left;
                    $l.boxLeft = $l.left;
                    $l.boxRight = $l.left + $R.width;
                    $l.i = i;
                    break;
                } else if ($0E === $0y) {
                    var $l = {};
                    $l.cut = false;
                    $l.left = $R.left + $R.width;
                    $l.boxLeft = $l.left;
                    $l.boxRight = $l.left;
                    $l.i = i + 1;
                    break;
                } else if ($0y < $0D && $0y > $0B) {
                    var $l = {};
                    $l.cut = true;
                    $l.left = $R.left;
                    $l.boxLeft = $l.left;
                    $l.boxRight = $l.left;
                    $l.i = i;
                    break;
                };
                $0B = $0E;
            };
            if (!$l) {
                var $0G = this.itline[this.itline.length - 1];
                var $l = {};
                $l.cut = true;
                $l.left = $0G.left + $0G.width;
                $l.boxLeft = $l.left;
                $l.boxRight = $l.left;
                $l.i = null;
            };
            this.$ai.pixels[$0y] = $l;
            return $l;
        };
        this.getDate = function($P, $0H, $0I) {
            var $y = this.$bt($P, $0I);
            if (!$y) {
                return null;
            };
            var x = $y.x;
            var $0J = this.itline[x];
            if (!$0J) {
                return null;
            };
            var $M = ($0I && !$0H) ? $0J.end : $0J.start;
            if (!$0H) {
                return $M;
            } else {
                return $M.addTime(this.$bu($y.cell, $y.offset));
            }
        };
        this.$bt = function($A, $0I) {
            if (this.itline.length === 0) {
                return null;
            };
            var $I = 0;
            var $0A = 0;
            for (var i = 0; i < this.itline.length; i++) {
                var $R = this.itline[i];
                var $C = $R.width || this.cellWidth;
                $I += $C;
                if (($A < $I) || ($0I && $A === $I)) {
                    var $l = {};
                    $l.x = i;
                    $l.offset = $A - $0A;
                    $l.cell = $R;
                    return $l;
                };
                $0A = $I;
            };
            var $R = $k.itline.last();
            var $l = {};
            $l.x = this.itline.length - 1;
            $l.offset = $R.width || this.cellWidth;
            $l.cell = $R;
            return $l;
        };
        this.$bv = function($0K) {
            return this.$br($0K);
        };
        this.$bw = function($0K) {
            var $I = new DayPilot.Date($0K);
            for (var i = 0; i < this.itline.length; i++) {
                var $R = this.itline[i];
                if ($R.start.ticks <= $I.ticks && $I.ticks < $R.end.ticks) {
                    var $l = {};
                    $l.hidden = false;
                    $l.current = $R;
                    return $l;
                };
                if ($I.ticks < $R.start.ticks) {
                    var $l = {};
                    $l.hidden = true;
                    $l.previous = i > 0 ? this.itline[i - 1] : null;
                    $l.current = null;
                    $l.next = this.itline[i];
                    return $l;
                }
            };
            var $l = {};
            $l.past = true;
            $l.previous = this.itline[this.itline.length - 1];
            return $l;
        };
        this.$br = function($0K) {
            var $I = new DayPilot.Date($0K);
            var $0L = 0;
            var $0M = this.itline[0];
            if ($I.ticks < $0M.start.ticks) {
                var $l = {};
                $l.hidden = true;
                $l.previous = null;
                $l.current = null;
                $l.next = this.itline[0];
                $l.i = -1;
                return $l;
            };
            var to = this.itline.length - 1;
            var $0G = this.itline[to];
            if ($I.ticks > $0G.end.ticks) {
                var $l = {};
                $l.past = true;
                $l.previous = this.itline[this.itline.length - 1];
                $l.i = this.itline.length;
                return $l;
            };
            var si = (function() {
                var $0N = $k.itline;
                var $0O;
                while ($0L <= to) {
                    $0O = Math.floor(($0L + to) / 2);
                    if ($0N[$0O].start.ticks > $I.ticks) {
                        to = $0O - 1;
                    } else if ($0N[$0O].end.ticks < $I.ticks) {
                        $0L = $0O + 1;
                    } else {
                        return $0O;
                    }
                };
                return $0L;
            })();
            for (var i = si; i < this.itline.length; i++) {
                var $R = this.itline[i];
                if ($R.start.ticks <= $I.ticks && $I.ticks < $R.end.ticks) {
                    var $l = {};
                    $l.hidden = false;
                    $l.current = $R;
                    $l.i = i;
                    return $l;
                };
                if ($I.ticks < $R.start.ticks) {
                    var $l = {};
                    $l.hidden = true;
                    $l.previous = i > 0 ? this.itline[i - 1] : null;
                    $l.current = null;
                    $l.next = this.itline[i];
                    $l.i = i;
                    return $l;
                }
            };
            var $l = {};
            $l.past = true;
            $l.previous = this.itline[this.itline.length - 1];
            $l.i = this.itline.length;
            return $l;
        };
        this.$bs = function($R, $0y) {
            var $C = $R.width || this.cellWidth;
            var $0P = $R.end.ticks - $R.start.ticks;
            return Math.floor(($C * $0y) / ($0P));
        };
        this.$bu = function($R, $A) {
            var $0P = $R.end.ticks - $R.start.ticks;
            var $C = $R.width || this.cellWidth;
            return Math.floor($A / $C * $0P);
        };
        this.$bx = function(ev) {
            if ($0Q.start) {
                return;
            };
            if (DayPilotScheduler.preventEventClick) {
                return;
            };
            $0R = {};
            $k.$by(this, ev);
        };
        this.eventClickPostBack = function(e, $s) {
            this.$bz('EventClick', e, $s);
        };
        this.eventClickCallBack = function(e, $s) {
            this.$bA('EventClick', e, $s);
        };
        this.$by = function($04, ev) {
            var e = $04.event;
            var ev = ev || window.event;
            if (typeof(DayPilotBubble) !== 'undefined') {
                DayPilotBubble.hideActive();
            };
            if (!e.client.doubleClickEnabled()) {
                $k.$bB($04, ev);
                return;
            };
            if (!$k.timeouts.click) {
                $k.timeouts.click = [];
            };
            var $0S = function($04, ev) {
                return function() {
                    $k.$bB($04, ev);
                };
            };
            $k.timeouts.click.push(window.setTimeout($0S($04, ev), $k.doubleClickTimeout));
        };
        this.$bC = function(x) {
            return $k.itline[x];
        };
        this.$bB = function($04, ev) {
            if (typeof ev === "boolean") {
                throw "Invalid _eventClickSingle parameters";
            };
            var e = $04.event;
            var $0T = ev.ctrlKey;
            var $0U = ev.metaKey;
            if (!e.client.clickEnabled()) {
                return;
            };
            if ($k.$aR()) {
                var $n = {};
                $n.e = e;
                $n.div = $04;
                $n.originalEvent = ev;
                $n.ctrl = $0T;
                $n.meta = $0U;
                $n.shift = ev.shiftKey;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $k.onEventClick === 'function') {
                    $k.onEventClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($k.eventClickHandling) {
                    case 'PostBack':
                        $k.eventClickPostBack(e);
                        break;
                    case 'CallBack':
                        $k.eventClickCallBack(e);
                        break;
                    case 'Edit':
                        $k.$bD($04);
                        break;
                    case 'Select':
                        $k.$bE($04, e, $0T, $0U);
                        break;
                    case 'ContextMenu':
                        var $0V = e.client.contextMenu();
                        if ($0V) {
                            $0V.show(e);
                        } else {
                            if ($k.contextMenu) {
                                $k.contextMenu.show(e);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($k.bubble) {
                            $k.bubble.showEvent(e);
                        };
                        break;
                    case "RectangleSelect":
                        if ($k.multiSelectRectangle !== "Disabled") {
                            $0W.start();
                            return false;
                        };
                        break;
                };
                if (typeof $k.onEventClicked === 'function') {
                    $k.onEventClicked($n);
                }
            } else {
                switch ($k.eventClickHandling) {
                    case 'PostBack':
                        $k.eventClickPostBack(e);
                        break;
                    case 'CallBack':
                        $k.eventClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $k.onEventClick(e);
                        break;
                    case 'Edit':
                        $k.$bD($04);
                        break;
                    case 'Select':
                        $k.$bE($04, e, $0T, $0U);
                        break;
                    case 'ContextMenu':
                        var $0V = e.client.contextMenu();
                        if ($0V) {
                            $0V.show(e);
                        } else {
                            if ($k.contextMenu) {
                                $k.contextMenu.show(e);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($k.bubble) {
                            $k.bubble.showEvent(e);
                        };
                        break;
                    case "RectangleSelect":
                        if ($k.multiSelectRectangle !== "Disabled") {
                            $0W.start();
                            return false;
                        };
                        break;
                }
            }
        };
        this.$bF = function(e) {
            if ($k.$aR()) {
                var $n = {};
                $n.e = e;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $k.onEventDelete === 'function') {
                    $k.onEventDelete($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($k.eventDeleteHandling) {
                    case 'PostBack':
                        $k.eventDeletePostBack(e);
                        break;
                    case 'CallBack':
                        $k.eventDeleteCallBack(e);
                        break;
                    case 'Update':
                        $k.events.remove(e);
                        break;
                };
                if (typeof $k.onEventDeleted === 'function') {
                    $k.onEventDeleted($n);
                }
            } else {
                switch ($k.eventDeleteHandling) {
                    case 'PostBack':
                        $k.eventDeletePostBack(e);
                        break;
                    case 'CallBack':
                        $k.eventDeleteCallBack(e);
                        break;
                    case 'JavaScript':
                        $k.onEventDelete(e);
                        break;
                }
            }
        };
        this.eventDeletePostBack = function(e, $s) {
            this.$bz('EventDelete', e, $s);
        };
        this.eventDeleteCallBack = function(e, $s) {
            this.$bA('EventDelete', e, $s);
        };
        this.setHScrollPosition = function($A) {
            this.nav.scroll.scrollLeft = $A;
        };
        this.getScrollX = function() {
            return this.nav.scroll.scrollLeft;
        };
        this.getHScrollPosition = this.getScrollX;
        this.getScrollY = function() {
            return this.nav.scroll.scrollTop;
        };
        this.$bE = function($04, e, $0T, $0U) {
            $k.$bG($04, e, $0T, $0U);
        };
        this.eventSelectPostBack = function(e, $0X, $s) {
            var $0Y = {};
            $0Y.e = e;
            $0Y.change = $0X;
            this.$bz('EventSelect', $0Y, $s);
        };
        this.eventSelectCallBack = function(e, $0X, $s) {
            var $0Y = {};
            $0Y.e = e;
            $0Y.change = $0X;
            this.$bA('EventSelect', $0Y, $s);
        };
        this.$bG = function($04, e, $0T, $0U) {
            var m = $k.multiselect;
            var $0Z = false;
            var $10 = m.isSelected(e);
            var $11 = $0T || $0U;
            if (!$11 && $10 && !$0Z && m.list.length === 1) {
                return;
            };
            if ($k.$aR()) {
                m.previous = m.events();
                var $n = {};
                $n.e = e;
                $n.selected = $10;
                $n.ctrl = $0T;
                $n.meta = $0U;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $k.onEventSelect === 'function') {
                    $k.onEventSelect($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($k.eventSelectHandling) {
                    case 'PostBack':
                        $k.eventSelectPostBack(e, $0X);
                        break;
                    case 'CallBack':
                        if (typeof WebForm_InitCallback !== 'undefined') {
                            window.__theFormPostData = "";
                            window.__theFormPostCollection = [];
                            WebForm_InitCallback();
                        };
                        $k.eventSelectCallBack(e, $0X);
                        break;
                    case 'Update':
                        m.$bH($04, $0T, $0U);
                        break;
                };
                if (typeof $k.onEventSelected === 'function') {
                    $n.change = m.isSelected(e) ? "selected" : "deselected";
                    $n.selected = m.isSelected(e);
                    $k.onEventSelected($n);
                }
            } else {
                m.previous = m.events();
                m.$bH($04, $0T, $0U);
                var $0X = m.isSelected(e) ? "selected" : "deselected";
                switch ($k.eventSelectHandling) {
                    case 'PostBack':
                        $k.eventSelectPostBack(e, $0X);
                        break;
                    case 'CallBack':
                        if (typeof WebForm_InitCallback !== 'undefined') {
                            window.__theFormPostData = "";
                            window.__theFormPostCollection = [];
                            WebForm_InitCallback();
                        };
                        $k.eventSelectCallBack(e, $0X);
                        break;
                    case 'JavaScript':
                        $k.onEventSelect(e, $0X);
                        break;
                }
            }
        };
        this.eventRightClickPostBack = function(e, $s) {
            this.$bz('EventRightClick', e, $s);
        };
        this.eventRightClickCallBack = function(e, $s) {
            this.$bA('EventRightClick', e, $s);
        };
        this.$bI = function(ev) {
            var e = this.event;
            ev = ev || window.event;
            ev.cancelBubble = true;
            if (!this.event.client.rightClickEnabled()) {
                return false;
            };
            if ($k.$aR()) {
                var $n = {};
                $n.e = e;
                $n.div = this;
                $n.originalEvent = ev;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $k.onEventRightClick === 'function') {
                    $k.onEventRightClick($n);
                    if ($n.preventDefault.value) {
                        return false;
                    }
                };
                switch ($k.eventRightClickHandling) {
                    case 'PostBack':
                        $k.eventRightClickPostBack(e);
                        break;
                    case 'CallBack':
                        $k.eventRightClickCallBack(e);
                        break;
                    case 'ContextMenu':
                        var $0V = e.client.contextMenu();
                        if ($0V) {
                            $0V.show(e);
                        } else {
                            if ($k.contextMenu) {
                                $k.contextMenu.show(this.event);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($k.bubble) {
                            $k.bubble.showEvent(e);
                        };
                        break;
                };
                if (typeof $k.onEventRightClicked === 'function') {
                    $k.onEventRightClicked($n);
                }
            } else {
                switch ($k.eventRightClickHandling) {
                    case 'PostBack':
                        $k.eventRightClickPostBack(e);
                        break;
                    case 'CallBack':
                        $k.eventRightClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $k.onEventRightClick(e);
                        break;
                    case 'ContextMenu':
                        var $0V = e.client.contextMenu();
                        if ($0V) {
                            $0V.show(e);
                        } else {
                            if ($k.contextMenu) {
                                $k.contextMenu.show(this.event);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($k.bubble) {
                            $k.bubble.showEvent(e);
                        };
                        break;
                }
            };
            return false;
        };
        this.eventDoubleClickPostBack = function(e, $s) {
            this.$bz('EventDoubleClick', e, $s);
        };
        this.eventDoubleClickCallBack = function(e, $s) {
            this.$bA('EventDoubleClick', e, $s);
        };
        this.$bJ = function(ev) {
            if (typeof(DayPilotBubble) !== 'undefined') {
                DayPilotBubble.hideActive();
            };
            if ($k.timeouts.click) {
                for (var $12 in $k.timeouts.click) {
                    window.clearTimeout($k.timeouts.click[$12]);
                };
                $k.timeouts.click = null;
            };
            var ev = ev || window.event;
            var e = this.event;
            ev.stopPropagation && ev.stopPropagation();
            ev.cancelBubble = true;
            if ($k.$aR()) {
                var $n = {};
                $n.e = e;
                $n.originalEvent = ev;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $k.onEventDoubleClick === 'function') {
                    $k.onEventDoubleClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($k.eventDoubleClickHandling) {
                    case 'PostBack':
                        $k.eventDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $k.eventDoubleClickCallBack(e);
                        break;
                    case 'Edit':
                        $k.$bD(this);
                        break;
                    case 'Select':
                        $k.$bE($04, e, ev.ctrlKey, ev.metaKey);
                        break;
                    case 'Bubble':
                        if ($k.bubble) {
                            $k.bubble.showEvent(e);
                        };
                        break;
                    case 'ContextMenu':
                        var $0V = e.client.contextMenu();
                        if ($0V) {
                            $0V.show(e);
                        } else {
                            if ($k.contextMenu) {
                                $k.contextMenu.show(e);
                            }
                        };
                        break;
                };
                if (typeof $k.onEventDoubleClicked === 'function') {
                    $k.onEventDoubleClicked($n);
                }
            } else {
                switch ($k.eventDoubleClickHandling) {
                    case 'PostBack':
                        $k.eventDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $k.eventDoubleClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $k.onEventDoubleClick(e);
                        break;
                    case 'Edit':
                        $k.$bD(this);
                        break;
                    case 'Select':
                        $k.$bE($04, e, ev.ctrlKey, ev.metaKey);
                        break;
                    case 'Bubble':
                        if ($k.bubble) {
                            $k.bubble.showEvent(e);
                        };
                        break;
                    case 'ContextMenu':
                        var $0V = e.client.contextMenu();
                        if ($0V) {
                            $0V.show(e);
                        } else {
                            if ($k.contextMenu) {
                                $k.contextMenu.show(e);
                            }
                        };
                        break;
                }
            }
        };
        this.eventResizePostBack = function(e, $0p, $13, $s) {
            this.$bK("PostBack", e, $0p, $13, $s);
        };
        this.eventResizeCallBack = function(e, $0p, $13, $s) {
            this.$bK("CallBack", e, $0p, $13, $s);
        };
        this.$bK = function($Z, e, $0p, $13, $s) {
            var $0Y = {};
            $0Y.e = e;
            $0Y.newStart = $0p;
            $0Y.newEnd = $13;
            this.$bL($Z, "EventResize", $0Y, $s);
        };
        this.$bM = function(e, $0p, $13) {
            if (this.eventResizeHandling === 'Disabled') {
                return;
            };
            $13 = $k.$bN($13);
            if ($k.$aR()) {
                var $n = {};
                var $14 = function() {
                    $15.hide();
                    if ($n.preventDefault.value) {
                        return;
                    };
                    $0p = $n.newStart;
                    $13 = $n.newEnd;
                    switch ($k.eventResizeHandling) {
                        case 'PostBack':
                            $k.eventResizePostBack(e, $0p, $13);
                            break;
                        case 'CallBack':
                            $k.eventResizeCallBack(e, $0p, $13);
                            break;
                        case 'Notify':
                            $k.eventResizeNotify(e, $0p, $13);
                            break;
                        case 'Update':
                            $k.$bO($n);
                            break;
                    };
                    if (typeof $k.onEventResized === 'function') {
                        $k.onEventResized($n);
                    }
                };
                $n.e = e;
                $n.async = false;
                $n.loaded = function() {
                    $14();
                };
                $n.newStart = $0p;
                $n.newEnd = $13;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                $n.multiresize = DayPilot.list($16.list);
                var $17 = {};
                $17.event = e;
                $17.start = $0p;
                $17.end = $13;
                $n.multiresize.splice(0, 0, $17);
                if (typeof $k.onEventResize === 'function') {
                    $k.onEventResize($n);
                };
                if (!$n.async) {
                    $14();
                } else {
                    if ($k.blockOnCallBack) {
                        $15.show();
                    }
                }
            } else {
                switch ($k.eventResizeHandling) {
                    case 'PostBack':
                        $k.eventResizePostBack(e, $0p, $13);
                        break;
                    case 'CallBack':
                        $k.eventResizeCallBack(e, $0p, $13);
                        break;
                    case 'JavaScript':
                        $k.onEventResize(e, $0p, $13);
                        break;
                    case 'Notify':
                        $k.eventResizeNotify(e, $0p, $13);
                        break;
                    case 'Update':
                        $k.$bO($n);
                        break;
                }
            }
        };
        this.eventMovePostBack = function(e, $0p, $13, $18, $s, $0x) {
            this.$bP("PostBack", e, $0p, $13, $18, $s, $0x);
        };
        this.eventMoveCallBack = function(e, $0p, $13, $18, $s, $0x) {
            this.$bP("CallBack", e, $0p, $13, $18, $s, $0x);
        };
        this.$bP = function($Z, e, $0p, $13, $18, $s, $0x) {
            var $19 = e && !!e.preventDefault;
            var $0Y = {};
            if ($19) {
                var $n = e;
                $0Y.e = $n.e;
                $0Y.newStart = $n.newStart;
                $0Y.newEnd = $n.newEnd;
                $0Y.newResource = $n.newResource;
                $0Y.position = $n.position;
                $0Y.multimove = [];
                $n.multimove.each(function($02) {
                    var $1a = {};
                    $1a.e = $02.event;
                    $1a.newStart = $02.start;
                    $1a.newEnd = $02.end;
                    $1a.newResource = $02.event.resource();
                    if ($1a.e === $n.e || $1a.e.data.id == $n.e.data.id) {
                        $1a.newResource = $n.newResource;
                    } else if (mm.rowoffset) {
                        var ri = $02.event.part.dayIndex + mm.rowoffset;
                        $1a.newResource = $k.rowlist[ri].id;
                    };
                    $0Y.multimove.push($1a);
                });
            } else {
                $0Y.e = e;
                $0Y.newStart = $0p;
                $0Y.newEnd = $13;
                $0Y.newResource = $18;
                $0Y.position = $0x;
            };
            this.$bL($Z, "EventMove", $0Y, $s);
        };
        this.$bQ = function($Z, $n, $s) {
            var $0Y = {};
            $0Y.start = $n.start;
            $0Y.end = $n.end;
            $0Y.resource = $n.resource;
            $0Y.multirange = [];
            $n.multirange.each(function($02) {
                var $1b = {};
                $1b.start = $02.start;
                $1b.end = $02.end;
                $1b.resource = $02.resource;
                $0Y.multirange.push($1b);
            });
            this.$bL($Z, "TimeRangeSelected", $0Y, $s);
        };
        this.$bL = function($Z, $1c, $0Y, $s) {
            if ($Z === 'PostBack') {
                $k.$bz($1c, $0Y, $s);
            } else if ($Z === 'CallBack') {
                $k.$bA($1c, $0Y, $s, "CallBack");
            } else if ($Z === 'Immediate') {
                $k.$bA($1c, $0Y, $s, "Notify");
            } else if ($Z === 'Queue') {
                $k.queue.add(new DayPilot.Action(this, $1c, $0Y, $s));
            } else if ($Z === 'Notify') {
                if ($0d.notifyType() === 'Notify') {
                    $k.$bA($1c, $0Y, $s, "Notify");
                } else {
                    $k.queue.add(new DayPilot.Action($k, $1c, $0Y, $s));
                }
            } else {
                throw "Invalid event invocation type";
            }
        };
        this.eventMoveNotify = function(e, $0p, $13, $18, $s, $0x) {
            var $19 = e && !!e.preventDefault;
            if ($19) {
                var $n = e;
                $n.old = new DayPilot.Event($n.e.copy(), $k);
                $n.multimove.each(function($02) {
                    $02.old = new DayPilot.Event($02.event.copy(), $k);
                });
                $k.$bO($n);
                $n.e = $n.old;
                delete $n.old;
                $n.multimove.each(function($02) {
                    $02.event = $02.old;
                    delete $02.old;
                });
            } else {
                e = new DayPilot.Event(e.copy(), $k);
                var $1d = $k.events.$bR(e.data);
                e.start($0p);
                e.end($13);
                e.resource($18);
                e.commit();
                $1d = $1d.concat($k.events.$bS(e.data));
                $k.$bT($1d);
                $k.$bU();
                $k.$bV($1d);
            };
            this.$bP("Notify", e, $0p, $13, $18, $s, $0x);
        };
        this.eventResizeNotify = function(e, $0p, $13, $s) {
            var $1e = new DayPilot.Event(e.copy(), this);
            var $1d = $k.events.$bR(e.data);
            e.start($0p);
            e.end($13);
            e.commit();
            $1d = $1d.concat($k.events.$bS(e.data));
            $k.$bT($1d);
            $k.$bU();
            $k.$bV($1d);
            this.$bK("Notify", $1e, $0p, $13, $s);
        };
        this.multiselect = {};
        this.multiselect.list = [];
        this.multiselect.divs = [];
        this.multiselect.previous = [];
        this.multiselect.$aH = function($00) {
            $k.multiselect.list = DayPilot.list($00).map(function($02) {
                return new DayPilot.Event($02, $k);
            });
        };
        this.multiselect.$bW = function() {
            var m = $k.multiselect;
            return DayPilot.JSON.stringify(m.events());
        };
        this.multiselect.events = function() {
            var m = $k.multiselect;
            var $01 = DayPilot.list();
            $01.ignoreToJSON = true;
            for (var i = 0; i < m.list.length; i++) {
                $01.push(m.list[i]);
            };
            return $01;
        };
        this.multiselect.$bX = function() {};
        this.multiselect.$bH = function($04, $1f, $1g) {
            var m = $k.multiselect;
            if (m.isSelected($04.event)) {
                if ($k.allowMultiSelect) {
                    if ($1f || $1g) {
                        m.remove($04.event, true);
                    } else {
                        var $0j = m.list.length;
                        m.clear();
                        if ($0j > 1) {
                            m.add($04.event, true);
                        }
                    }
                } else {
                    m.clear();
                }
            } else {
                if ($k.allowMultiSelect) {
                    if ($1f || $1g) {
                        m.add($04.event, true);
                    } else {
                        m.clear();
                        m.add($04.event, true);
                    }
                } else {
                    m.clear();
                    m.add($04.event, true);
                }
            };
            m.$bY($04);
            m.$bX();
        };
        this.multiselect.$bZ = function(ev) {
            var m = $k.multiselect;
            return m.$c0(ev, m.initList);
        };
        this.multiselect.$c1 = function() {
            var m = $k.multiselect;
            var $00 = [];
            for (var i = 0; i < m.list.length; i++) {
                var event = m.list[i];
                $00.push(event.value());
            };
            alert($00.join("\n"));
        };
        this.multiselect.add = function(ev, $1h) {
            var m = $k.multiselect;
            if (m.indexOf(ev) === -1) {
                m.list.push(ev);
            };
            if ($1h) {
                return;
            };
            m.redraw();
        };
        this.multiselect.remove = function(ev, $1h) {
            var m = $k.multiselect;
            var i = m.indexOf(ev);
            if (i !== -1) {
                m.list.splice(i, 1);
            };
            if ($1h) {
                return;
            };
            m.redraw();
        };
        this.multiselect.clear = function($1h) {
            var m = $k.multiselect;
            m.list = [];
            if ($1h) {
                return;
            };
            m.redraw();
        };
        this.multiselect.redraw = function() {
            var m = $k.multiselect;
            m.divs = [];
            for (var i = 0; i < $k.elements.events.length; i++) {
                var $04 = $k.elements.events[i];
                if (!$04.event) {
                    continue;
                };
                if (!$04.event.isEvent) {
                    continue;
                };
                if (m.isSelected($04.event)) {
                    m.$c2($04);
                } else {
                    m.$c3($04);
                }
            }
        };
        this.multiselect.$c4 = function(ev) {
            var m = $k.multiselect;
            var $04 = null;
            for (var i = 0; i < $k.elements.events.length; i++) {
                if (m.isSelected($k.elements.events[i].event)) {
                    $04 = $k.elements.events[i];
                    break;
                }
            };
            m.$bY($04);
        };
        this.multiselect.$bY = function($04) {
            if (!$04) {
                return;
            };
            var m = $k.multiselect;
            if (m.isSelected($04.event)) {
                m.$c2($04);
            } else {
                m.$c3($04);
            }
        };
        this.multiselect.$c2 = function($04) {
            var m = $k.multiselect;
            var cn = $k.$b4("_selected");
            var $04 = m.$c5($04);
            DayPilot.Util.addClass($04, cn);
            m.divs.push($04);
        };
        this.multiselect.$c5 = function($04) {
            return $04;
        };
        this.multiselect.$c6 = function() {
            var m = $k.multiselect;
            for (var i = 0; i < m.divs.length; i++) {
                var $04 = m.divs[i];
                m.$c3($04, true);
            };
            m.divs = [];
        };
        this.multiselect.$c3 = function($04, $1i) {
            var m = $k.multiselect;
            var cn = $k.$b4("_selected");
            DayPilot.Util.removeClass($04, cn);
            if ($1i) {
                return;
            };
            var i = DayPilot.indexOf(m.divs, $04);
            if (i !== -1) {
                m.divs.splice(i, 1);
            }
        };
        this.multiselect.isSelected = function(ev) {
            if (!ev) {
                return false;
            };
            if (!ev.isEvent) {
                return false;
            };
            return $k.multiselect.$c0(ev, $k.multiselect.list);
        };
        this.multiselect.indexOf = function(ev) {
            var $s = ev.data;
            for (var i = 0; i < $k.multiselect.list.length; i++) {
                var $02 = $k.multiselect.list[i];
                if ($02.data === $s) {
                    return i;
                }
            };
            return -1;
        };
        this.multiselect.$c0 = function(e, $00) {
            if (!$00) {
                return false;
            };
            for (var i = 0; i < $00.length; i++) {
                var ei = $00[i];
                if (e === ei) {
                    return true;
                };
                if (typeof ei.id === 'function') {
                    if (ei.id() !== null && e.id() !== null && ei.id() === e.id()) {
                        return true;
                    };
                    if (ei.id() === null && e.id() === null && ei.recurrentMasterId() === e.recurrentMasterId() && e.start().toStringSortable() === ei.start().toStringSortable()) {
                        return true;
                    }
                } else {
                    if (ei.id !== null && e.id() !== null && ei.id === e.id()) {
                        return true;
                    };
                    if (ei.id === null && e.id() === null && ei.recurrentMasterId === e.recurrentMasterId() && e.start().toStringSortable() === ei.start) {
                        return true;
                    }
                }
            };
            return false;
        };
        this.multiselect.startRectangle = function() {
            $0W.start();
        };
        this.$c7 = function() {
            this.$aG();
            this.$aJ();
        };
        this.$c8 = function() {
            $k.$aw();
            $k.$aB();
            $k.$c9();
            if ($k.progressiveRowRendering) {
                $k.$ca();
            }
        };
        this.$bY = function($n) {
            var $n = $n || {};
            var $1j = !$n.eventsOnly;
            if (!$k.cssOnly) {
                $k.cssOnly = true;
                DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")
            };
            if ($1j) {
                if (!this.$bd()) {
                    $k.timeHeader = null;
                    $k.cellProperties = {};
                };
                $k.$ar();
                $k.$as();
                if (!$n || !$n.dontLoadResources) {
                    $k.$at();
                }
            };
            this.$av();
            $k.$aw();
            if ($1j) {
                $k.$cb();
                $k.$ax();
                $k.$aP($k.selectedRows);
            };
            $k.$ay();
            $k.$aB();
            $k.$c9();
            $k.$aC();
            $1k.hideLinkpoints();
            this.$aF();
            this.$aE();
            this.$ap();
            this.$au();
            this.$aI();
            this.$c7();
            $k.$aD();
            if ($n.immediateEvents || $n.eventsOnly) {
                $k.$aK();
            } else {
                setTimeout(function() {
                    $k.$aK();
                }, 100);
            };
            if (this.visible) {
                this.show();
            } else {
                this.hide();
            };
            this.$aO();
            this.$aQ();
            this.$cc();
            this.$am();
        };
        this.$cc = function() {
            if (typeof $k.onAfterUpdate !== "function") {
                return;
            };
            var $n = {};
            $k.onAfterUpdate($n);
        };
        this.update = function($j) {
            if ($k.$aa) {
                throw "You are trying to update a DayPilot.Scheduler object that has been disposed already. Calling .dispose() destroys the object and makes it unusable.";
            };
            $1l.request($j);
        };
        var $1l = {};
        $1l.timeout = null;
        $1l.options = null;
        $1l.enabled = false;
        $1l.request = function($j) {
            if ($1l.enabled) {
                clearTimeout($1l.timeout);
                $1l.mergeOptions($j);
                $1l.timeout = setTimeout($1l.doit);
            } else {
                $1l.mergeOptions($j);
                $1l.doit();
            }
        };
        $1l.mergeOptions = function($j) {
            if (!$j) {
                return;
            };
            if (!$1l.options) {
                $1l.options = {};
            };
            for (var name in $j) {
                $1l.options[name] = $j[name];
            }
        };
        $1l.doit = function() {
            var $j = $1l.options;
            $1l.options = null;
            if (!$j) {
                $k.$cd && $k.$bY({
                    "immediateEvents": true
                });
                return;
            };
            if ($j.events) {
                $k.events.list = $j.events;
                $k.$cd && $k.$bY({
                    "eventsOnly": true
                });
            } else if ($j.separators) {
                $k.separators = $j.separators;
                $k.$cd && $k.$c7();
            } else if ($j.rowHeaderColumns) {
                $k.rowHeaderColumns = $j.rowHeaderColumns;
                $k.$cd && $k.$c8();
            }
        };
        this.$bV = function($1d, $1m, $1n) {
            $1d = DayPilot.ua($1d);
            for (var i = 0; i < $1d.length; i++) {
                var ri = $1d[i];
                $k.$ce(ri);
            };
            if (this.$cf) {
                this.$ay();
                this.$aB();
                this.$aE();
                this.$aG();
                for (var i = 0; i < $1d.length; i++) {
                    var ri = $1d[i];
                    this.$cg(ri);
                };
                for (var i = 0; i < $1d.length; i++) {
                    var ri = $1d[i];
                    this.$ch(ri);
                };
                this.$aI();
                this.$aJ();
                this.$ci();
            } else {
                var $1o = true;
                if ($1o) {
                    var $1p = function(i) {
                        if (i >= $1d.length) {
                            return;
                        };
                        var ri = $1d[i];
                        if (!$1m) {
                            $k.$cg(ri);
                        };
                        $k.$ch(ri);
                        if (i + 1 < $1d.length) {
                            setTimeout(function() {
                                $1p(i + 1);
                            }, 10);
                        } else {
                            $k.$b0();
                            $1k.load();
                            $k.multiselect.redraw();
                            if ($1n) {
                                $1n();
                            }
                        }
                    };
                    $1p(0);
                } else {
                    for (var i = 0; i < $1d.length; i++) {
                        var ri = $1d[i];
                        if (!$1m) {
                            this.$cg(ri);
                        };
                        this.$ch(ri);
                    }
                };
                DayPilot.list($1d).each(function(y) {
                    $k.$cj(y);
                });
                $k.$aI();
            };
            $k.$b0();
            $1k.load();
            $k.multiselect.redraw();
            if ($1n) {
                $1n();
            };
            this.$ap();
        };
        this.$bN = function($w) {
            if ($k.eventEndSpec === "DateTime") {
                return $w;
            };
            if ($w.getDatePart().ticks === $w.ticks) {
                return $w.addDays(-1);
            };
            return $w.getDatePart();
        };
        this.$ck = function($w) {
            if ($k.eventEndSpec === "DateTime") {
                return $w;
            };
            return $w.getDatePart().addDays(1);
        };
        this.$cl = function($w) {
            if ($k.eventEndSpec === "DateTime") {
                return $w;
            };
            return $w.getDatePart();
        };
        this.$cm = function(e, $0p, $13, $18, external, ev, $0x) {
            $k.$cn = null;
            if ($k.eventMoveHandling === 'Disabled') {
                return;
            };
            $13 = $k.$bN($13);
            var $n = {};
            $n.e = e;
            $n.newStart = $0p;
            $n.newEnd = $13;
            $n.newResource = $18;
            $n.external = external;
            $n.ctrl = false;
            $n.meta = false;
            $n.shift = false;
            if (ev) {
                $n.shift = ev.shiftKey;
                $n.ctrl = ev.ctrlKey;
                $n.meta = ev.metaKey;
            };
            $n.multimove = DayPilot.list(mm.list);
            var $17 = {};
            $17.event = e;
            $17.start = $0p;
            $17.end = $13;
            $n.multimove.splice(0, 0, $17);
            $n.position = $0x;
            $n.preventDefault = function() {
                this.preventDefault.value = true;
            };
            if ($k.$aR()) {
                var $14 = function() {
                    $15.hide();
                    if ($n.preventDefault.value) {
                        $k.$co();
                        return;
                    };
                    $0p = $n.newStart;
                    $13 = $n.newEnd;
                    switch ($k.eventMoveHandling) {
                        case 'PostBack':
                            $k.eventMovePostBack($n);
                            break;
                        case 'CallBack':
                            $k.eventMoveCallBack($n);
                            break;
                        case 'Notify':
                            $k.eventMoveNotify($n);
                            break;
                        case 'Update':
                            $k.$bO($n);
                            break;
                    };
                    $k.$co();
                    if (typeof $k.onEventMoved === 'function') {
                        $k.onEventMoved($n);
                    }
                };
                $n.async = false;
                $n.loaded = function() {
                    $14();
                };
                if (typeof $k.onEventMove === 'function') {
                    $k.onEventMove($n);
                };
                if (!$n.async) {
                    $14();
                } else {
                    if ($k.blockOnCallBack) {
                        $15.show();
                    }
                }
            } else {
                switch ($k.eventMoveHandling) {
                    case 'PostBack':
                        $k.eventMovePostBack($n);
                        break;
                    case 'CallBack':
                        $k.eventMoveCallBack($n);
                        break;
                    case 'JavaScript':
                        $k.onEventMove(e, $0p, $13, $18, external, ev ? ev.ctrlKey : false, ev ? ev.shiftKey : false, $0x);
                        break;
                    case 'Notify':
                        $k.eventMoveNotify($n);
                        break;
                    case 'Update':
                        $k.$bO($n);
                        break;
                };
                $k.$co();
            }
        };
        this.$bO = function($n) {
            var e = $n.e;
            var $0p = $n.newStart;
            var $13 = $n.newEnd;
            var $18 = $n.newResource;
            var external = $n.external;
            e.start($0p);
            e.end($13);
            e.resource($18);
            if (external) {
                e.commit();
                $k.events.add(e);
            } else {
                $k.events.update(e);
            };
            if ($n.multimove && !$n.multimove.isEmpty()) {
                $n.multimove.each(function($02) {
                    if ($02.event === e) {
                        return;
                    };
                    $02.event.start($02.start);
                    $02.event.end($02.end);
                    if (mm.rowoffset) {
                        var ri = $02.event.part.dayIndex + mm.rowoffset;
                        var $18 = $k.rowlist[ri].id;
                        $02.event.resource($18);
                    };
                    $02.event.commit();
                    $k.events.update($02.event);
                });
            };
            if ($n.multiresize && !$n.multiresize.isEmpty()) {
                $n.multiresize.each(function($02) {
                    if ($02.event === e) {
                        return;
                    };
                    $02.event.start($02.start);
                    $02.event.end($02.end);
                    $02.event.commit();
                    $k.events.update($02.event);
                });
            };
            $k.$ak();
        };
        this.$cp = function($n, $p) {
            var $o = $k.$cq($p);
            var $0Y = {};
            $0Y.args = $n;
            $0Y.guid = $o;
            $k.$bA("Bubble", $0Y);
        };
        this.$cq = function($p) {
            var $o = DayPilot.guid();
            if (!this.bubbles) {
                this.bubbles = [];
            };
            this.bubbles[$o] = $p;
            return $o;
        };
        this.eventMenuClickPostBack = function(e, $1q, $s) {
            var $0Y = {};
            $0Y.e = e;
            $0Y.command = $1q;
            this.$bz('EventMenuClick', $0Y, $s);
        };
        this.eventMenuClickCallBack = function(e, $1q, $s) {
            var $0Y = {};
            $0Y.e = e;
            $0Y.command = $1q;
            this.$bA('EventMenuClick', $0Y, $s);
        };
        this.$cr = function($1q, e, $1r) {
            switch ($1r) {
                case 'PostBack':
                    $k.eventMenuClickPostBack(e, $1q);
                    break;
                case 'CallBack':
                    $k.eventMenuClickCallBack(e, $1q);
                    break;
            }
        };
        this.timeRangeSelectedPostBack = function($M, end, $1s, $s) {
            var $1t = {};
            $1t.start = $M;
            $1t.end = end;
            $1t.resource = $1s;
            this.$bz('TimeRangeSelected', $1t, $s);
        };
        this.timeRangeSelectedCallBack = function($M, end, $1s, $s) {
            var $1t = {};
            $1t.start = $M;
            $1t.end = end;
            $1t.resource = $1s;
            this.$bA('TimeRangeSelected', $1t, $s);
        };
        this.$cs = function($1t) {
            if (!$1t) {
                return;
            };
            if ($1t.disabled) {
                $k.clearSelection();
                return;
            };
            var $1u = $k.$ct($1t);
            if (!$1u) {
                return;
            };
            $k.$cu($1u.start, $1u.end, $1u.resource);
        };
        this.$cu = function($M, end, $1s) {
            if ($k.timeRangeSelectedHandling === 'Disabled') {
                return;
            };
            var $1v = end;
            end = $k.$bN($1v);
            var $n = {};
            $n.start = $M;
            $n.end = end;
            $n.resource = $1s;
            $n.preventDefault = function() {
                this.preventDefault.value = true;
            };
            $n.multirange = DayPilot.list(mr.list).map(function($02) {
                return $k.$ct($02);
            });
            if ($n.multirange.isEmpty()) {
                $n.multirange.push({
                    "start": $n.start,
                    "end": $n.end,
                    "resource": $n.resource
                });
            };
            if ($k.$aR()) {
                if (typeof $k.onTimeRangeSelect === 'function') {
                    $k.onTimeRangeSelect($n);
                    if ($n.preventDefault.value) {
                        return;
                    };
                    $M = $n.start;
                    end = $n.end;
                };
                $k.$cv(DayPilotScheduler.rangeHold, $M, end, $n.multirange);
                $k.$cw(DayPilotScheduler.rangeHold);
                switch ($k.timeRangeSelectedHandling) {
                    case 'PostBack':
                        $k.$bQ("PostBack", $n);
                        break;
                    case 'CallBack':
                        $k.$bQ("CallBack", $n);
                        break;
                };
                if (typeof $k.onTimeRangeSelected === 'function') {
                    $k.onTimeRangeSelected($n);
                }
            } else {
                switch ($k.timeRangeSelectedHandling) {
                    case 'PostBack':
                        $k.$bQ("PostBack", $n);
                        break;
                    case 'CallBack':
                        $k.$bQ("CallBack", $n);
                        break;
                    case 'JavaScript':
                        $k.onTimeRangeSelected($M, end, $1s, $n.multirange);
                        break;
                    case 'Hold':
                        break;
                }
            }
        };
        this.$cv = function($1t, $M, end, $1w) {
            if (!$1t || ($1w && $1w.length > 1)) {
                return;
            };
            var $1v = $k.$ck(end);
            var $0J, $R;
            var $1x = 0;
            if ($k.viewType === "Days") {
                var $z = $k.$aS($M);
                $1x = $z.start.getTime() - $k.$bk().getTime();
            };
            if ($M.getTime() < $k.itline[0].start.getTime()) {
                $1t.start.x = 0;
            } else {
                $0J = $k.$bv($M.addTime(-$1x));
                $R = $0J.current || $0J.previous;
                $1t.start.x = DayPilot.indexOf($k.itline, $R);
            };
            $0J = $k.$bv($1v.addSeconds(-1).addTime(-$1x));
            if ($0J.past) {
                $1t.end.x = $k.itline.length - 1;
            } else {
                $R = $0J.current || $0J.next;
                $1t.end.x = DayPilot.indexOf($k.itline, $R);
            }
        };
        this.$aS = function($M) {
            var $0m = $M.getDatePart();
            return DayPilot.list($k.rowlist).find(function($02) {
                return $02.start.getDatePart() === $0m;
            });
        };
        this.timeRangeDoubleClickPostBack = function($M, end, $1s, $s) {
            var $1t = {};
            $1t.start = $M;
            $1t.end = end;
            $1t.resource = $1s;
            this.$bz('TimeRangeDoubleClick', $1t, $s);
        };
        this.timeRangeDoubleClickCallBack = function($M, end, $1s, $s) {
            var $1t = {};
            $1t.start = $M;
            $1t.end = end;
            $1t.resource = $1s;
            this.$bA('TimeRangeDoubleClick', $1t, $s);
        };
        this.$cx = function($M, end, $1s) {
            end = $k.$bN(end);
            if ($k.$aR()) {
                var $n = {};
                $n.start = $M;
                $n.end = end;
                $n.resource = $1s;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $k.onTimeRangeDoubleClick === 'function') {
                    $k.onTimeRangeDoubleClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($k.timeRangeDoubleClickHandling) {
                    case 'PostBack':
                        $k.timeRangeDoubleClickPostBack($M, end, $1s);
                        break;
                    case 'CallBack':
                        $k.timeRangeDoubleClickCallBack($M, end, $1s);
                        break;
                };
                if (typeof $k.onTimeRangeDoubleClicked === 'function') {
                    $k.onTimeRangeDoubleClicked($n);
                }
            } else {
                switch ($k.timeRangeDoubleClickHandling) {
                    case 'PostBack':
                        $k.timeRangeDoubleClickPostBack($M, end, $1s);
                        break;
                    case 'CallBack':
                        $k.timeRangeDoubleClickCallBack($M, end, $1s);
                        break;
                    case 'JavaScript':
                        $k.onTimeRangeDoubleClick($M, end, $1s);
                        break;
                }
            }
        };
        this.timeRangeMenuClickPostBack = function(e, $1q, $s) {
            var $0Y = {};
            $0Y.selection = e;
            $0Y.command = $1q;
            this.$bz("TimeRangeMenuClick", $0Y, $s);
        };
        this.timeRangeMenuClickCallBack = function(e, $1q, $s) {
            var $0Y = {};
            $0Y.selection = e;
            $0Y.command = $1q;
            this.$bA("TimeRangeMenuClick", $0Y, $s);
        };
        this.$cy = function($1q, e, $1r) {
            switch ($1r) {
                case 'PostBack':
                    $k.timeRangeMenuClickPostBack(e, $1q);
                    break;
                case 'CallBack':
                    $k.timeRangeMenuClickCallBack(e, $1q);
                    break;
            }
        };
        this.linkMenuClickPostBack = function(e, $1q, $s) {
            var $0Y = {};
            $0Y.link = e;
            $0Y.command = $1q;
            this.$bz("LinkMenuClick", $0Y, $s);
        };
        this.linkMenuClickCallBack = function(e, $1q, $s) {
            var $0Y = {};
            $0Y.link = e;
            $0Y.command = $1q;
            this.$bA("LinkMenuClick", $0Y, $s);
        };
        this.$cz = function($1q, e, $1r) {
            switch ($1r) {
                case 'PostBack':
                    $k.linkMenuClickPostBack(e, $1q);
                    break;
                case 'CallBack':
                    $k.linkMenuClickCallBack(e, $1q);
                    break;
            }
        };
        this.rowMenuClickPostBack = function(e, $1q, $s) {
            var $0Y = {};
            $0Y.resource = e;
            $0Y.command = $1q;
            this.$bz("RowMenuClick", $0Y, $s);
        };
        this.resourceHeaderMenuClickPostBack = this.rowMenuClickPostBack;
        this.rowMenuClickCallBack = function(e, $1q, $s) {
            var $0Y = {};
            $0Y.resource = e;
            $0Y.command = $1q;
            this.$bA("RowMenuClick", $0Y, $s);
        };
        this.resourceHeaderMenuClickCallBack = this.rowMenuClickCallBack;
        this.$cA = function($1q, e, $1r) {
            switch ($1r) {
                case 'PostBack':
                    $k.rowMenuClickPostBack(e, $1q);
                    break;
                case 'CallBack':
                    $k.rowMenuClickCallBack(e, $1q);
                    break;
            }
        };
        this.$cB = function($z, $1y) {
            var r = $1z.$cC($z);
            var c = r.cells[0];
            var $1A = c.textDiv;
            $1A.innerHTML = $1y;
            $z.Text = $1y;
            $z.html = $1y;
        };
        this.$cD = function($z, $1y) {
            if (!$1y) {
                return;
            };
            var $n = {};
            $n.text = $1y;
            $n.preventDefault = function() {
                this.preventDefault.value = true;
            };
            if (typeof $k.onRowCreate === "function") {
                $k.onRowCreate($n);
                if ($n.preventDefault.value) {
                    return;
                }
            };
            switch ($k.rowCreateHandling) {
                case "CallBack":
                    $k.rowCreateCallBack($n.text);
                    break;
                case "PostBack":
                    $k.rowCreatePostBack($n.text);
                    break;
            };
            if (typeof $k.onRowCreated === "function") {
                $k.onRowCreated($n);
            }
        };
        this.$cE = function($z, $1y) {
            if ($z.isNewRow) {
                $k.$cD($z, $1y);
                return;
            };
            var $1B = DayPilot.indexOf($k.rowlist, $z);
            var e = $k.$cF($z, $1B);
            if ($k.$aR()) {
                var $n = {};
                $n.resource = e;
                $n.newText = $1y;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $k.onRowEdit === 'function') {
                    $k.onRowEdit($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($k.rowEditHandling) {
                    case 'PostBack':
                        $k.rowEditPostBack(e, $1y);
                        break;
                    case 'CallBack':
                        $k.rowEditCallBack(e, $1y);
                        break;
                    case 'Update':
                        $k.$cB($z, $1y);
                        break;
                };
                if (typeof $k.onRowEdited === 'function') {
                    $k.onRowEdited($n);
                }
            } else {
                switch ($k.rowEditHandling) {
                    case 'PostBack':
                        $k.rowEditPostBack(e, $1y);
                        break;
                    case 'CallBack':
                        $k.rowEditCallBack(e, $1y);
                        break;
                    case 'JavaScript':
                        $k.onrowEdit(e, $1y);
                        break;
                }
            }
        };
        this.rowCreatePostBack = function($1y, $s) {
            var $0Y = {};
            $0Y.text = $1y;
            this.$bz("RowCreate", $0Y, $s);
        };
        this.rowCreateCallBack = function($1y, $s) {
            var $0Y = {};
            $0Y.text = $1y;
            this.$bA("RowCreate", $0Y, $s);
        };
        this.rowEditPostBack = function(e, $1y, $s) {
            var $0Y = {};
            $0Y.resource = e;
            $0Y.newText = $1y;
            this.$bz("RowEdit", $0Y, $s);
        };
        this.rowEditCallBack = function(e, $1y, $s) {
            var $0Y = {};
            $0Y.resource = e;
            $0Y.newText = $1y;
            this.$bA("RowEdit", $0Y, $s);
        };
        this.rowMovePostBack = function($1C, $1D, $y, $s) {
            var $0Y = {};
            $0Y.source = $1C;
            $0Y.target = $1D;
            $0Y.position = $y;
            this.$bz("RowMove", $0Y, $s);
        };
        this.rowMoveCallBack = function($1C, $1D, $y, $s) {
            var $0Y = {};
            $0Y.source = $1C;
            $0Y.target = $1D;
            $0Y.position = $y;
            this.$bA("RowMove", $0Y, $s);
        };
        this.rowMoveNotify = function($1C, $1D, $y, $s) {
            var $0Y = {};
            $0Y.source = $1C;
            $0Y.target = $1D;
            $0Y.position = $y;
            this.$bA("RowMove", $0Y, $s, "Notify");
        };
        this.rowClickPostBack = function(e, $s) {
            var $0Y = {};
            $0Y.resource = e;
            this.$bz("RowClick", $0Y, $s);
        };
        this.resourceHeaderClickPostBack = this.rowClickPostBack;
        this.rowClickCallBack = function(e, $s) {
            var $0Y = {};
            $0Y.resource = e;
            this.$bA("RowClick", $0Y, $s);
        };
        this.resourceHeaderClickCallBack = this.rowClickCallBack;
        this.$cG = function(e, $1f, $1E, $1g) {
            if ($k.rowDoubleClickHandling === "Disabled") {
                $k.$cH(e, $1f, $1E, $1g);
                return;
            };
            if (!$k.timeouts.resClick) {
                $k.timeouts.resClick = [];
            };
            var $1F = function(e, $1f, $1E, $1g) {
                return function() {
                    $k.$cH(e, $1f, $1E, $1g);
                };
            };
            $k.timeouts.resClick.push(window.setTimeout($1F(e, $1f, $1E, $1g), $k.doubleClickTimeout));
        };
        this.$cH = function(e, $1f, $1E, $1g) {
            var $1G = $k.resourceHeaderClickHandling || $k.rowClickHandling;
            if ($k.$aR()) {
                var $n = {};
                $n.resource = e;
                $n.row = e;
                $n.ctrl = $1f;
                $n.shift = $1E;
                $n.meta = $1g;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $k.onRowClick === 'function') {
                    $k.onRowClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                if (typeof $k.onResourceHeaderClick === 'function') {
                    $k.onResourceHeaderClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($1G) {
                    case 'PostBack':
                        $k.rowClickPostBack(e);
                        break;
                    case 'CallBack':
                        $k.rowClickCallBack(e);
                        break;
                    case 'Select':
                        $k.$cI(e.$.row, $1f, $1E, $1g);
                        break;
                    case 'Edit':
                        $k.$cJ.edit(e.$.row);
                        break;
                };
                if (typeof $k.onRowClicked === 'function') {
                    $k.onRowClicked($n);
                };
                if (typeof $k.onResourceHeaderClicked === 'function') {
                    $k.onResourceHeaderClicked($n);
                }
            } else {
                switch ($1G) {
                    case 'PostBack':
                        $k.rowClickPostBack(e);
                        break;
                    case 'CallBack':
                        $k.rowClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $k.onRowClick(e);
                        break;
                    case 'Select':
                        $k.$cI(e.$.row, $1f, $1E);
                        break;
                    case 'Edit':
                        $k.$cJ.edit(e.$.row);
                        break;
                }
            }
        };
        this.timeHeaderClickPostBack = function(e, $s) {
            var $0Y = {};
            $0Y.header = e;
            this.$bz("TimeHeaderClick", $0Y, $s);
        };
        this.timeHeaderClickCallBack = function(e, $s) {
            var $0Y = {};
            $0Y.header = e;
            this.$bA("TimeHeaderClick", $0Y, $s);
        };
        this.$cK = function(e) {
            if ($k.$aR()) {
                var $n = {};
                $n.header = e;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $k.onTimeHeaderClick === 'function') {
                    $k.onTimeHeaderClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch (this.timeHeaderClickHandling) {
                    case 'PostBack':
                        $k.timeHeaderClickPostBack(e);
                        break;
                    case 'CallBack':
                        $k.timeHeaderClickCallBack(e);
                        break;
                };
                if (typeof $k.onTimeHeaderClicked === 'function') {
                    $k.onTimeHeaderClicked($n);
                }
            } else {
                switch (this.timeHeaderClickHandling) {
                    case 'PostBack':
                        $k.timeHeaderClickPostBack(e);
                        break;
                    case 'CallBack':
                        $k.timeHeaderClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $k.onTimeHeaderClick(e);
                        break;
                }
            }
        };
        this.resourceCollapsePostBack = function(e, $s) {
            var $0Y = {};
            $0Y.resource = e;
            this.$bz("ResourceCollapse", $0Y, $s);
        };
        this.resourceCollapseCallBack = function(e, $s) {
            var $0Y = {};
            $0Y.resource = e;
            this.$bA("ResourceCollapse", $0Y, $s);
        };
        this.$cL = function(e) {
            if ($k.$aR()) {
                var $n = {};
                $n.resource = e;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $k.onResourceCollapse === 'function') {
                    $k.onResourceCollapse($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch (this.resourceCollapseHandling) {
                    case 'PostBack':
                        $k.resourceCollapsePostBack(e);
                        break;
                    case 'CallBack':
                        $k.resourceCollapseCallBack(e);
                        break;
                }
            } else {
                switch (this.resourceCollapseHandling) {
                    case 'PostBack':
                        $k.resourceCollapsePostBack(e);
                        break;
                    case 'CallBack':
                        $k.resourceCollapseCallBack(e);
                        break;
                    case 'JavaScript':
                        $k.onResourceCollapse(e);
                        break;
                }
            }
        };
        this.resourceExpandPostBack = function(e, $s) {
            var $0Y = {};
            $0Y.resource = e;
            this.$bz("ResourceExpand", $0Y, $s);
        };
        this.resourceExpandCallBack = function(e, $s) {
            var $0Y = {};
            $0Y.resource = e;
            this.$bA("ResourceExpand", $0Y, $s);
        };
        this.$cM = function(e) {
            if ($k.$aR()) {
                var $n = {};
                $n.resource = e;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $k.onResourceExpand === 'function') {
                    $k.onResourceExpand($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch (this.resourceExpandHandling) {
                    case 'PostBack':
                        $k.resourceExpandPostBack(e);
                        break;
                    case 'CallBack':
                        $k.resourceExpandCallBack(e);
                        break;
                }
            } else {
                switch (this.resourceExpandHandling) {
                    case 'PostBack':
                        $k.resourceExpandPostBack(e);
                        break;
                    case 'CallBack':
                        $k.resourceExpandCallBack(e);
                        break;
                    case 'JavaScript':
                        $k.onResourceExpand(e);
                        break;
                }
            }
        };
        this.eventEditPostBack = function(e, $1y, $s) {
            var $0Y = {};
            $0Y.e = e;
            $0Y.newText = $1y;
            this.$bz("EventEdit", $0Y, $s);
        };
        this.eventEditCallBack = function(e, $1y, $s) {
            var $0Y = {};
            $0Y.e = e;
            $0Y.newText = $1y;
            this.$bA("EventEdit", $0Y, $s);
        };
        this.$cN = function(e, $1y, $1H) {
            if ($k.$aR()) {
                var $n = {};
                $n.e = e;
                $n.newText = $1y;
                $n.canceled = $1H;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $k.onEventEdit === 'function') {
                    $k.onEventEdit($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                if (!$1H) {
                    switch ($k.eventEditHandling) {
                        case 'PostBack':
                            $k.eventEditPostBack(e, $1y);
                            break;
                        case 'CallBack':
                            $k.eventEditCallBack(e, $1y);
                            break;
                        case 'Update':
                            e.text($1y);
                            $k.events.update(e);
                            break;
                    }
                };
                if (typeof $k.onEventEdited === 'function') {
                    $k.onEventEdited($n);
                }
            } else {
                switch ($k.eventEditHandling) {
                    case 'PostBack':
                        $k.eventEditPostBack(e, $1y);
                        break;
                    case 'CallBack':
                        $k.eventEditCallBack(e, $1y);
                        break;
                    case 'JavaScript':
                        $k.onEventEdit(e, $1y);
                        break;
                }
            }
        };
        this.commandCallBack = function($1q, $s) {
            this.$cO("CallBack", $1q, $s);
        };
        this.commandPostBack = function($1q, $s) {
            this.$cO("PostBack", $1q, $s);
        };
        this.$cO = function($Z, $1q, $s) {
            var $0Y = {};
            $0Y.command = $1q;
            this.$bL($Z, "Command", $0Y, $s);
        };
        this.$bz = function($1c, $1I, $s) {
            var $1J = {};
            $1J.action = $1c;
            $1J.type = "PostBack";
            $1J.parameters = $1I;
            $1J.data = $s;
            $1J.header = this.$cP();
            var $1K = "JSON" + DayPilot.JSON.stringify($1J);
            __doPostBack($k.uniqueID, $1K);
        };
        this.$bA = function($1c, $1I, $s, $Z) {
            if (!$k.$bd()) {
                $k.debug.message("Callback invoked without the server-side backend specified. Callback canceled.", "warning");
                return;
            };
            if (typeof $Z === 'undefined') {
                $Z = "CallBack";
            };
            this.$cQ();
            $k.$cR();
            var $1J = {};
            $1J.action = $1c;
            $1J.type = $Z;
            $1J.parameters = $1I;
            $1J.data = $s;
            $1J.header = this.$cP();
            var $1L = DayPilot.JSON.stringify($1J);
            var $1K;
            if (typeof Iuppiter !== 'undefined' && Iuppiter.compress) {
                $1K = "LZJB" + Iuppiter.Base64.encode(Iuppiter.compress($1L));
            } else {
                $1K = "JSON" + $1L;
            };
            this.$cS($1J);
            var $m = null;
            if (this.backendUrl) {
                DayPilot.request(this.backendUrl, this.$cT, $1K, this.$cU);
            } else if (typeof WebForm_DoCallback === 'function') {
                WebForm_DoCallback(this.uniqueID, $1K, this.$aj, $m, this.callbackError, true);
            }
        };
        this.$cS = function($1J) {
            var $n = {};
            if (typeof $k.onCallBackStart === 'function') {
                $k.onCallBackStart($n);
            }
        };
        this.$ao = function() {
            var $n = {};
            if (typeof $k.onCallBackEnd === 'function') {
                setTimeout(function() {
                    $k.onCallBackEnd($n);
                }, 0);
            }
        };
        this.$bd = function() {
            if (this.backendUrl) {
                return true;
            };
            if (this.$cV()) {
                return true;
            };
            return false;
        };
        this.$cV = function() {
            if (typeof WebForm_DoCallback === 'function' && this.uniqueID) {
                return true;
            };
            return false;
        };
        this.$cU = function($1M) {
            if (typeof $k.onAjaxError === 'function') {
                var $n = {};
                $n.request = $1M;
                $k.onAjaxError($n);
            } else if (typeof $k.ajaxError === 'function') {
                $k.ajaxError($1M);
            }
        };
        this.$cT = function($1N) {
            $k.$aj($1N.responseText);
        };
        this.$cP = function() {
            var h = {};
            h.v = this.v;
            h.control = "dps";
            h.id = this.id;
            h.startDate = $k.startDate;
            h.days = $k.days;
            h.cellDuration = $k.cellDuration;
            h.cellGroupBy = $k.cellGroupBy;
            h.cellWidth = $k.cellWidth;
            h.cellWidthSpec = $k.cellWidthSpec;
            h.viewType = $k.viewType;
            h.hourNameBackColor = $k.hourNameBackColor;
            h.showNonBusiness = $k.showNonBusiness;
            h.businessBeginsHour = $k.businessBeginsHour;
            h.businessEndsHour = $k.businessEndsHour;
            h.weekStarts = $k.weekStarts;
            h.treeEnabled = $k.treeEnabled;
            h.locale = $k.locale;
            h.timeZone = $k.timeZone;
            h.tagFields = $k.tagFields;
            h.timeHeaders = $k.timeHeaders;
            h.cssClassPrefix = $k.cssClassPrefix;
            h.durationBarMode = $k.durationBarMode;
            h.showBaseTimeHeader = true;
            h.rowHeaderColumns = $k.rowHeaderColumns;
            h.rowMarginBottom = $k.rowMarginBottom;
            h.rowMarginTop = $k.rowMarginTop;
            h.rowMinHeight = $k.rowMinHeight;
            h.scale = $k.scale;
            h.clientState = $k.clientState;
            if (this.nav.scroll) {
                h.scrollX = this.nav.scroll.scrollLeft;
                h.scrollY = this.nav.scroll.scrollTop;
            };
            h.selected = $k.multiselect.events();
            h.selectedRows = $1z.$cW();
            h.hashes = $k.hashes;
            var $L = $k.$cX(h.scrollX, h.scrollY);
            var $1t = $k.$cY($L);
            var $1O = $k.$cZ($L);
            h.rangeStart = $1t.start;
            h.rangeEnd = $1t.end;
            h.resources = $1O;
            h.dynamicLoading = $k.dynamicLoading;
            h.separators = this.separators;
            if (this.syncResourceTree && this.viewType != "Days") {
                h.tree = this.$d0();
            };
            if (this.syncLinks) {
                h.links = this.$d1();
            };
            if (this.scale === "Manual") {
                h.timeline = this.$d2();
            };
            if (typeof $k.onCallBackHeader === "function") {
                var $n = {};
                $n.header = h;
                $k.onCallBackHeader($n);
            };
            return h;
        };
        this.$d2 = function() {
            var $00 = [];
            DayPilot.list($k.timeline).each(function($02) {
                var $1L = {};
                $1L.start = $02.start;
                $1L.end = $02.end;
                $1L.width = $02.width;
                $00.push($1L);
            });
            return $00;
        };
        this.$d1 = function() {
            var $00 = [];
            var $1P = function(link) {
                var $l = {};
                if (link.tags) {
                    for (var name in link.tags) {
                        $l[name] = "" + link.tags[name];
                    }
                };
                return $l;
            };
            if (!DayPilot.isArray($k.links.list)) {
                return $00;
            };
            for (var i = 0; i < $k.links.list.length; i++) {
                var link = $k.links.list[i];
                var $1L = {};
                $1L.id = link.id;
                $1L.from = link.from;
                $1L.to = link.to;
                $1L.type = link.type;
                $1L.tags = $1P(link);
                $00.push($1L);
            };
            return $00;
        };
        this.getViewPort = function() {
            var scrollX = this.nav.scroll.scrollLeft - $N.shiftX;
            var scrollY = this.nav.scroll.scrollTop;
            var $S = {};
            if ($k.viewType !== "Days") {
                var $L = $k.$cX(scrollX, scrollY);
                var $1t = $k.$cY($L);
                var $1O = $k.$cZ($L);
                $S.start = $1t.start;
                $S.end = $1t.end;
                $S.resources = $1O;
            } else {
                var $L = $k.$cX(scrollX, scrollY);
                var $1t = $k.$d3($L);
                $S.start = $1t.start;
                $S.end = $1t.end;
                $S.resources = [];
            };
            return $S;
        };
        this.$cX = function(scrollX, scrollY) {
            var $L = {};
            $L.start = {};
            $L.end = {};
            $L.start.x = Math.floor(scrollX / $k.cellWidth);
            $L.end.x = Math.floor((scrollX + $k.nav.scroll.clientWidth) / $k.cellWidth);
            $L.start.y = $k.$d4(scrollY).i;
            $L.end.y = $k.$d4(scrollY + $k.nav.scroll.clientHeight).i;
            var $1Q = this.itline.length;
            if ($L.end.x >= $1Q) {
                $L.end.x = $1Q - 1;
            };
            return $L;
        };
        this.$cY = function($L) {
            var $l = {};
            if (this.itline.length <= 0) {
                $l.start = this.startDate;
                $l.end = this.startDate;
                return $l;
            };
            if (!this.itline[$L.start.x]) {
                throw 'Internal error: area.start.x is null.';
            };
            $l.start = this.itline[$L.start.x].start;
            $l.end = this.itline[$L.end.x].end;
            return $l;
        };
        this.$cZ = function($L) {
            if (!$L) {
                var $L = this.$cX(this.nav.scroll.scrollLeft, this.nav.scroll.scrollTop);
            };
            var $1O = [];
            $1O.ignoreToJSON = true;
            for (var i = $L.start.y; i <= $L.end.y; i++) {
                var r = $k.rowlist[i];
                if (r && !r.hidden) {
                    $1O.push(r.id);
                }
            };
            return $1O;
        };
        this.$d3 = function($L) {
            if (!$L) {
                var $L = this.$cX(this.nav.scroll.scrollLeft, this.nav.scroll.scrollTop);
            };
            var $1O = {};
            if ($k.rowlist.length === 0) {
                return $1O;
            };
            var $1R = $k.itline[$k.itline.length - 1].end.getTime() - $k.itline[0].start.getTime();
            $1O.start = $k.rowlist[$L.start.y] && $k.rowlist[$L.start.y].start;
            $1O.end = $k.rowlist[$L.end.y] && $k.rowlist[$L.end.y].start.addTime($1R);
            return $1O;
        };
        this.$d0 = function() {
            var $1S = [];
            $1S.ignoreToJSON = true;
            for (var i = 0; i < this.rowlist.length; i++) {
                var $z = this.rowlist[i];
                if ($z.level > 0) {
                    continue;
                };
                if ($z.isNewRow) {
                    continue;
                };
                var $1T = this.$d5(i);
                $1S.push($1T);
            };
            return $1S;
        };
        this.$d6 = function($1U) {
            var $1V = [];
            $1V.ignoreToJSON = true;
            for (var i = 0; i < $1U.length; i++) {
                var $1B = $1U[i];
                var $z = $k.rowlist[$1B];
                if ($z.isNewRow) {
                    continue;
                };
                $1V.push($k.$d5($1B));
            };
            return $1V;
        };
        this.$d5 = function(i) {
            var $z = this.rowlist[i];
            if (typeof $k.onGetNodeState === "function") {
                var $n = {};
                $n.row = $z;
                $n.preventDefault = function() {
                    $n.preventDefault.value = true;
                };
                $n.result = {};
                $k.onGetNodeState($n);
                if ($n.preventDefault.value) {
                    return $n.result;
                }
            };
            var $1T = {};
            $1T.Value = $z.id;
            $1T.BackColor = $z.backColor;
            $1T.Name = $z.name;
            $1T.InnerHTML = $z.html;
            $1T.ToolTip = $z.toolTip;
            $1T.Expanded = $z.expanded;
            $1T.Children = this.$d6($z.children);
            $1T.Loaded = $z.loaded;
            $1T.IsParent = $z.isParent;
            $1T.Columns = this.$d7($z);
            if ($z.start.getTime() !== $k.$bk().getTime()) {
                $1T.Start = $z.start;
            };
            if ($z.minHeight !== $k.rowMinHeight) {
                $1T.MinHeight = $z.minHeight;
            };
            if ($z.marginBottom !== $k.rowMarginBottom) {
                $1T.MarginBottom = $z.marginBottom;
            };
            if ($z.marginTop !== $k.rowMarginTop) {
                $1T.MarginTop = $z.marginTop;
            };
            if ($z.eventHeight !== $k.eventHeight) {
                $1T.EventHeight = $z.eventHeight;
            };
            return $1T;
        };
        this.$d7 = function($z) {
            if (!$z.columns || $z.columns.length === 0) {
                return null;
            };
            var $1W = [];
            $1W.ignoreToJSON = true;
            for (var i = 0; i < $z.columns.length; i++) {
                var c = {};
                c.InnerHTML = $z.columns[i].html;
                $1W.push(c);
            };
            return $1W;
        };
        this.$b4 = function($1X) {
            var $1Y = this.theme || this.cssClassPrefix;
            if ($1Y) {
                return $1Y + $1X;
            } else {
                return "";
            }
        };
        this.$d8 = function() {
            this.nav.top.dispose = this.dispose;
        };
        this.dispose = function() {
            var c = $k;
            if (c.$aa) {
                return;
            };
            c.$aa = true;
            c.$cQ();
            clearInterval(c.$d9);
            c.$aF();
            c.divBreaks = null;
            c.divCells = null;
            c.divCorner = null;
            c.divCrosshair = null;
            c.divEvents = null;
            if (c.divHeader) {
                c.divHeader.rows = null;
            };
            c.divHeader = null;
            c.divLines = null;
            c.divNorth = null;
            c.divRange = null;
            c.divResScroll = null;
            c.divSeparators = null;
            c.divSeparatorsAbove = null;
            c.divStretch = null;
            c.divTimeScroll = null;
            c.$bb = null;
            c.$aq = null;
            c.$aT.calendar = null;
            c.$aT = null;
            c.nav.loading = null;
            c.nav.top.onmousemove = null;
            c.nav.top.dispose = null;
            c.nav.top.ontouchstart = null;
            c.nav.top.ontouchmove = null;
            c.nav.top.ontouchend = null;
            c.nav.top.removeAttribute('style');
            c.nav.top.removeAttribute('class');
            c.nav.top.innerHTML = "";
            c.nav.top.dp = null;
            c.nav.top = null;
            c.nav.scroll.onscroll = null;
            c.nav.scroll.root = null;
            c.nav.scroll = null;
            DayPilot.ue(window, 'resize', c.$da);
            DayPilotScheduler.unregister(c);
        };
        this.$db = function($1Z, $Z) {
            var $20 = $k.$aT;
            var $21 = $k.$dc($1Z);
            var event = $1Z.event;
            var $T = event.part.height || $k.$dd.eventHeight();
            var top = (event.part && event.part.top) ? (event.part.top + $k.rowlist[event.part.dayIndex].top) : $21.top;
            var $22 = document.createElement('div');
            $22.setAttribute('unselectable', 'on');
            $22.style.position = 'absolute';
            $22.style.width = ($21.width) + 'px';
            $22.style.height = $T + 'px';
            $22.style.left = $21.left + 'px';
            $22.style.top = top + 'px';
            $22.style.zIndex = 101;
            $22.style.overflow = 'hidden';
            var $07 = document.createElement("div");
            $22.appendChild($07);
            $22.className = this.$b4("_shadow");
            $07.className = this.$b4("_shadow_inner");
            $20.appendChild($22);
            $22.calendar = $k;
            return $22;
        };
        this.$de = function($1Z, $Z) {
            var $20 = $k.$aT;
            var $21 = $k.$dc($1Z);
            var event = $1Z.event;
            var ev = event;
            if ($k.$df($21.rowIndex)) {
                return;
            };
            var $T = event.part.height || $k.$dd.eventHeight();
            var top = (event.part && event.part.top && $k.rowlist[event.part.dayIndex]) ? (event.part.top + $k.rowlist[event.part.dayIndex].top) : $21.top;
            var $P = $21.left;
            var $23 = (ev.cache && typeof ev.cache.moveVDisabled !== 'undefined') ? !ev.cache.moveVDisabled : !ev.data.moveVDisabled;
            var $24 = (ev.cache && typeof ev.cache.moveHDisabled !== 'undefined') ? !ev.cache.moveHDisabled : !ev.data.moveHDisabled;
            if (!$23 && DayPilotScheduler.moving) {
                top = $k.rowlist[ev.part.dayIndex].top;
            };
            if (!$24 && DayPilotScheduler.moving) {
                $P = event.part.left;
            };
            var $22 = document.createElement('div');
            $22.setAttribute('unselectable', 'on');
            $22.style.position = 'absolute';
            $22.style.width = ($21.width) + 'px';
            $22.style.height = $T + 'px';
            $22.style.left = $P + 'px';
            $22.style.top = top + 'px';
            $22.style.zIndex = 101;
            $22.style.overflow = 'hidden';
            var $07 = document.createElement("div");
            $22.appendChild($07);
            $22.className = this.$b4("_shadow");
            $07.className = this.$b4("_shadow_inner");
            $20.appendChild($22);
            $22.calendar = $k;
            return $22;
        };
        this.$d4 = function(y) {
            var $l = {};
            var element;
            var top = 0;
            var $25 = 0;
            var $26 = this.rowlist.length;
            for (var i = 0; i < $26; i++) {
                var $z = this.rowlist[i];
                if ($z.hidden) {
                    continue;
                };
                $25 += $z.height;
                if (y < $25 || i === $26 - 1) {
                    top = $25 - $z.height;
                    element = $z;
                    break;
                }
            };
            $l.top = top;
            $l.bottom = $25;
            $l.i = i;
            $l.element = element;
            return $l;
        };
        this.links = {};
        var $1k = {};
        this.$dg = $1k;
        $1k.clear = function() {
            $k.divLinksAbove.innerHTML = '';
            $k.divLinksBelow.innerHTML = '';
            $k.elements.links = [];
        };
        $1k.showLinkpoints = function() {
            var $01 = $S.events();
            $01.each(function($04) {
                $1k.showLinkpoint($04);
            });
        };
        $1k.showLinkpoint = function($04) {
            var $C = $k.linkPointSize;
            var $27 = $C / 2;
            var $P = $04.event.part.left;
            var top = $k.rowlist[$04.event.part.dayIndex].top + $04.event.part.top;
            var $T = $04.event.part.height;
            var $Q = $04.event.part.right;
            var $M = DayPilot.Util.div($k.divLinkpoints, $P - $27, top - $27 + $T / 2, $C, $C);
            $M.className = $k.$b4("_linkpoint");
            $M.style.boxSizing = "border-box";
            $M.coords = {
                x: $P,
                y: top + $T / 2
            };
            $M.type = "Start";
            $M.event = $04.event;
            $1k.activateLinkpoint($M);
            $k.elements.linkpoints.push($M);
            var end = DayPilot.Util.div($k.divLinkpoints, $Q - $27, top - $27 + $T / 2, $C, $C);
            end.className = $k.$b4("_linkpoint");
            end.style.boxSizing = "border-box";
            end.coords = {
                x: $Q,
                y: top + $T / 2
            };
            end.type = "Finish";
            end.event = $04.event;
            $1k.activateLinkpoint(end);
            $k.elements.linkpoints.push(end);
        };
        $1k.activateLinkpoint = function($04) {
            $04.onmousedown = function(ev) {
                var ev = ev || window.event;
                $28.source = $04;
                $28.calendar = $k;
                $1k.showLinkpoints();
                ev.preventDefault && ev.preventDefault();
                ev.stopPropagation && ev.stopPropagation();
                return false;
            };
            $04.onmousemove = function(ev) {
                DayPilot.Util.addClass($04, $k.$b4("_linkpoint_hover"));
                $1k.clearHideTimeout();
            };
            $04.onmouseout = function(ev) {
                if (!$28.source || $28.source.event !== $04.event) {
                    DayPilot.Util.removeClass($04, $k.$b4("_linkpoint_hover"));
                }
            };
            $04.onmouseup = function(ev) {
                if ($28.source) {
                    var $Z = $28.source.type + "To" + $04.type;
                    var $0L = $28.source.event.id();
                    var to = $04.event.id();
                    var $n = {};
                    $n.from = $0L;
                    $n.to = to;
                    $n.type = $Z;
                    $n.id = null;
                    $n.preventDefault = function() {
                        this.preventDefault.value = true;
                    };
                    if (typeof $k.onLinkCreate === "function") {
                        $k.onLinkCreate($n);
                        if ($n.preventDefault.value) {
                            return;
                        }
                    };
                    var $29 = function() {
                        $k.links.list.push({
                            "from": $0L,
                            "to": to,
                            "type": $Z,
                            "id": $n.id
                        });
                        $1k.load();
                    };
                    switch ($k.linkCreateHandling) {
                        case "Update":
                            $29();
                            break;
                        case "CallBack":
                            $k.$dh($n);
                            break;
                        case "PostBack":
                            $k.$di($n);
                            break;
                        case "Notify":
                            $29();
                            $k.$dj($n);
                            break;
                    };
                    if (typeof $k.onLinkCreated === "function") {
                        $k.onLinkCreated($n);
                    }
                }
            };
        };
        $1k.hideLinkpoints = function() {
            $k.divLinkpoints.innerHTML = '';
            $k.elements.linkpoints = [];
        };
        $1k.hideTimeout = null;
        $1k.hideLinkpointsWithDelay = function() {
            $1k.hideTimeout = setTimeout(function() {
                $1k.hideLinkpoints();
            }, 100);
        };
        $1k.clearHideTimeout = function() {
            if ($1k.hideTimeout) {
                clearTimeout($1k.hideTimeout);
                $1k.hideTimeout = null;
            }
        };
        $1k.load = function() {
            $1k.clear();
            if (!DayPilot.isArray($k.links.list)) {
                return;
            };
            for (var i = 0; i < $k.links.list.length; i++) {
                var link = $k.links.list[i];
                $1k.drawLinkId(link.from, link.to, link);
            }
        };
        $1k.drawLinkId = function($0L, to, $2a) {
            var $M = $k.events.find($0L);
            var end = $k.events.find(to);
            $1k.drawLink($M, end, $2a);
        };
        $1k.drawLink = function($0L, to, $2a) {
            var $2b = $k.$dk($0L);
            var $2c = $k.$dk(to);
            if (!$2b) {
                return;
            };
            if (!$2c) {
                return;
            };
            var $Z = $2a.type || "FinishToStart";
            var $M, end;
            var $2d = $k.rowlist[$2b.event.part.dayIndex].top;
            var $2e = $k.rowlist[$2c.event.part.dayIndex].top;
            switch ($Z) {
                case "FinishToStart":
                    $M = {
                        x: $2b.event.part.right,
                        y: $2d + $2b.event.part.top
                    };
                    end = {
                        x: $2c.event.part.left,
                        y: $2e + $2c.event.part.top
                    };
                    if ($M.y > end.y) {
                        if ($M.x < end.x) {
                            end.y += $2c.event.part.height;
                            end.bottom = true;
                        } else {}
                    };
                    break;
                case "StartToFinish":
                    $M = {
                        x: $2b.event.part.left,
                        y: $2d + $2b.event.part.top
                    };
                    end = {
                        x: $2c.event.part.right,
                        y: $2e + $2c.event.part.top
                    };
                    break;
                case "StartToStart":
                    $M = {
                        x: $2b.event.part.left,
                        y: $2d + $2b.event.part.top
                    };
                    end = {
                        x: $2c.event.part.left,
                        y: $2e + $2c.event.part.top
                    };
                    break;
                case "FinishToFinish":
                    $M = {
                        x: $2b.event.part.right,
                        y: $2d + $2b.event.part.top
                    };
                    end = {
                        x: $2c.event.part.right,
                        y: $2e + $2c.event.part.top
                    };
                    break;
            };
            $1k.drawLinkXy($M, end, $2a);
        };
        $1k.clearShadow = function() {
            $k.divLinkShadow.innerHTML = '';
            $k.elements.linkshadow = [];
        };
        $1k.drawShadow = function($0L, to) {
            $1k.clearShadow();
            if (DayPilot.browser.ielt9) {
                $1k.drawShadowOldStyle($0L, to);
            } else {
                var parent = $k.divLinkShadow;
                var $0x = DayPilot.line($0L.x, $0L.y, to.x, to.y, true);
                parent.appendChild($0x);
                $k.elements.linkshadow.push($0x);
            }
        };
        $1k.drawShadowOldStyle = function($0L, to) {
            var nx = Math.min($0L.x, to.x);
            var $C = 2;
            var parent = $k.divLinkShadow;
            var $2f = "black";
            var h1 = DayPilot.Util.div(parent, nx, $0L.y, $0L.x - nx, $C);
            h1.style.backgroundColor = $2f;
            $k.elements.linkshadow.push(h1);
            var v1 = DayPilot.Util.div(parent, nx, $0L.y, $C, to.y - $0L.y);
            v1.style.backgroundColor = $2f;
            $k.elements.linkshadow.push(v1);
            var h3 = DayPilot.Util.div(parent, nx, to.y, to.x - nx, $C);
            h3.style.backgroundColor = $2f;
            $k.elements.linkshadow.push(h3);
            var a = DayPilot.Util.div(parent, to.x - 6, to.y - 5, 0, 0);
            a.style.borderColor = "transparent transparent transparent " + $2f;
            a.style.borderStyle = "solid";
            a.style.borderWidth = "6px";
            $k.elements.linkshadow.push(a);
        };
        $1k.drawLinkXy = function($0L, to, $2a) {
            var $2g = $k.eventHeight / 2;
            var $C = $2a.width || 1;
            var $Z = $2a.type || "FinishToStart";
            var $2f = $2a.color;
            var style = $2a.style;
            var $2h = $2a.layer || "Above";
            var $2i = $2h === "Above";
            var $2j = $2i ? $k.divLinksAbove : $k.divLinksBelow;
            var $T = $k.eventHeight;
            var $Y = $k.linkBottomMargin;
            var $2k = function($04, $2l) {
                if ($2f) {
                    $04.style["border" + $2l + "Color"] = $2f;
                };
                if (style) {
                    $04.style["border" + $2l + "Style"] = style;
                }
            };
            var $2m = [];
            var $2n = function($04, $2o) {
                $k.elements.links.push($04);
                $2p($04);
                $2q($04);
                $04.divs = $2m;
                if (!$2o) {
                    $2m.push($04);
                }
            };
            var $2q = function($04) {
                $04.oncontextmenu = function(ev) {
                    ev = ev || window.event;
                    if ($k.contextMenuLink) {
                        var link = new DayPilot.Link($2a, $k);
                        $k.contextMenuLink.show(link);
                    };
                    ev.cancelBubble = true;
                    ev.preventDefault ? ev.preventDefault() : null;
                }
            };
            var $2p = function($04) {
                $04.onmouseenter = function() {
                    DayPilot.Util.addClass($04.divs, $k.$b4("_link_hover"));
                };
                $04.onmouseleave = function() {
                    DayPilot.Util.removeClass($04.divs, $k.$b4("_link_hover"));
                };
            };
            if ($Z === "FinishToStart") {
                if ($0L.y > to.y || ($0L.y == to.y && to.bottom)) {
                    if ($0L.x < to.x) {
                        var $2r = $0L.x;
                        var $2s = $0L.y + $T - $Y;
                        var $2t = to.x + $2g;
                        var $2u = to.y;
                        var h1 = DayPilot.Util.div($2j, $2r, $2s, $2t - $0L.x, $C);
                        h1.style.boxSizing = "border-box";
                        h1.style.borderBottomWidth = $C + "px";
                        h1.className = $k.$b4("_link_horizontal");
                        DayPilot.Util.addClass(h1, $2a.cssClass);
                        $2k(h1, "Bottom");
                        $2n(h1);
                        var v1 = DayPilot.Util.div($2j, $2t, $2s, $C, $2u - $2s);
                        v1.style.boxSizing = "border-box";
                        v1.style.borderRightWidth = $C + "px";
                        v1.className = $k.$b4("_link_vertical");
                        DayPilot.Util.addClass(v1, $2a.cssClass);
                        $2k(v1, "Right");
                        $2n(v1);
                        var a;
                        if ($2f) {
                            a = DayPilot.Util.div($2j, $2t - 5 + Math.floor($C / 2), $2u - 5, 0, 0);
                            if ($0L.y < to.y) {
                                a.style.borderColor = $2f + " transparent transparent transparent";
                            } else {
                                a.style.borderColor = "transparent transparent " + $2f + " transparent";
                            };
                            a.style.borderStyle = "solid";
                            a.style.borderWidth = "5px";
                        } else {
                            a = DayPilot.Util.div($2j, $2t - 6 + Math.floor($C / 2), $2u - 6, 6, 6);
                            if ($0L.y < to.y) {
                                a.className = $k.$b4("_link_arrow_down");
                            } else {
                                a.className = $k.$b4("_link_arrow_up");
                            };
                            DayPilot.Util.addClass(a, $2a.cssClass);
                        };
                        $2n(a, true);
                    } else {
                        var $2v = 5;
                        var $2w = to.y + $T + $2v;
                        var h1 = DayPilot.Util.div($2j, $0L.x, $0L.y + $T - $Y, $2g + $C, $C);
                        h1.style.boxSizing = "border-box";
                        h1.style.borderBottomWidth = $C + "px";
                        h1.className = $k.$b4("_link_horizontal");
                        DayPilot.Util.addClass(h1, $2a.cssClass);
                        $2k(h1, "Bottom");
                        $2n(h1);
                        var v1 = DayPilot.Util.div($2j, $0L.x + $2g, $0L.y + $T - $Y, $C, $2w - ($0L.y + $T - $Y));
                        v1.style.boxSizing = "border-box";
                        v1.style.borderRightWidth = $C + "px";
                        v1.className = $k.$b4("_link_vertical");
                        DayPilot.Util.addClass(v1, $2a.cssClass);
                        $2k(v1, "Right");
                        $2n(v1);
                        var h2 = DayPilot.Util.div($2j, to.x - $2g, $2w, $0L.x + 2 * $2g + $C - to.x, $C);
                        h2.style.boxSizing = "border-box";
                        h2.style.borderBottomWidth = $C + "px";
                        h2.className = $k.$b4("_link_horizontal");
                        DayPilot.Util.addClass(h2, $2a.cssClass);
                        $2k(h2, "Bottom");
                        $2n(h2);
                        var v2 = DayPilot.Util.div($2j, to.x - $2g, $2w, $C, to.y - $2w + $T - $Y);
                        v2.style.boxSizing = "border-box";
                        v2.style.borderRightWidth = $C + "px";
                        v2.className = $k.$b4("_link_vertical");
                        DayPilot.Util.addClass(v2, $2a.cssClass);
                        $2k(v2, "Right");
                        $2n(v2);
                        var h3 = DayPilot.Util.div($2j, to.x - $2g, to.y + $T - $Y, $2g, $C);
                        h3.style.boxSizing = "border-box";
                        h3.style.borderBottomWidth = $C + "px";
                        h3.className = $k.$b4("_link_horizontal");
                        DayPilot.Util.addClass(h3, $2a.cssClass);
                        $2k(h3, "Bottom");
                        $2n(h3);
                        var a;
                        if ($2f) {
                            a = DayPilot.Util.div($2j, to.x - 6, to.y + $T - $Y - 5, 0, 0);
                            a.style.borderWidth = "6px";
                            a.style.borderColor = "transparent transparent transparent " + $2f;
                            a.style.borderStyle = "solid";
                        } else {
                            a = DayPilot.Util.div($2j, to.x - 6, to.y + $T - $Y - 5, 6, 6);
                            a.className = $k.$b4("_link_arrow_right");
                            DayPilot.Util.addClass(a, $2a.cssClass);
                        };
                        $2n(a, true);
                    }
                } else if ($0L.y === to.y) {
                    if ($0L.x < to.x) {
                        var $2r = $0L.x;
                        var $2s = $0L.y + $T - $Y;
                        var $2t = to.x;
                        var h1 = DayPilot.Util.div($2j, $2r, $2s, $2t - $0L.x, $C);
                        h1.style.boxSizing = "border-box";
                        h1.style.borderBottomWidth = $C + "px";
                        h1.className = $k.$b4("_link_horizontal");
                        DayPilot.Util.addClass(h1, $2a.cssClass);
                        $2k(h1, "Bottom");
                        $2n(h1);
                        var a;
                        if ($2f) {
                            a = DayPilot.Util.div($2j, to.x - 6, to.y + $T - $Y - 5, 0, 0);
                            a.style.borderWidth = "6px";
                            a.style.borderColor = "transparent transparent transparent " + $2f;
                            a.style.borderStyle = "solid";
                        } else {
                            a = DayPilot.Util.div($2j, to.x - 6, to.y + $T - $Y - 5, 6, 6);
                            a.className = $k.$b4("_link_arrow_right");
                            DayPilot.Util.addClass(a, $2a.cssClass);
                        };
                        $2n(a, true);
                    } else {
                        var $2v = 5;
                        var $2w = to.y + $T + $2v;
                        var h1 = DayPilot.Util.div($2j, $0L.x, $0L.y + $T - $Y, $2g + $C, $C);
                        h1.style.boxSizing = "border-box";
                        h1.style.borderBottomWidth = $C + "px";
                        h1.className = $k.$b4("_link_horizontal");
                        DayPilot.Util.addClass(h1, $2a.cssClass);
                        $2k(h1, "Bottom");
                        $2n(h1);
                        var v1 = DayPilot.Util.div($2j, $0L.x + $2g, $0L.y + $T - $Y, $C, $2w - ($0L.y + $T - $Y));
                        v1.style.boxSizing = "border-box";
                        v1.style.borderRightWidth = $C + "px";
                        v1.className = $k.$b4("_link_vertical");
                        DayPilot.Util.addClass(v1, $2a.cssClass);
                        $2k(v1, "Right");
                        $2n(v1);
                        var h2 = DayPilot.Util.div($2j, to.x - $2g, $2w, $0L.x + 2 * $2g + $C - to.x, $C);
                        h2.style.boxSizing = "border-box";
                        h2.style.borderBottomWidth = $C + "px";
                        h2.className = $k.$b4("_link_horizontal");
                        DayPilot.Util.addClass(h2, $2a.cssClass);
                        $2k(h2, "Bottom");
                        $2n(h2);
                        var v2 = DayPilot.Util.div($2j, to.x - $2g, $2w, $C, to.y - $2w + $T - $Y);
                        v2.style.boxSizing = "border-box";
                        v2.style.borderRightWidth = $C + "px";
                        v2.className = $k.$b4("_link_vertical");
                        DayPilot.Util.addClass(v2, $2a.cssClass);
                        $2k(v2, "Right");
                        $2n(v2);
                        var h3 = DayPilot.Util.div($2j, to.x - $2g, to.y + $T - $Y, $2g, $C);
                        h3.style.boxSizing = "border-box";
                        h3.style.borderBottomWidth = $C + "px";
                        h3.className = $k.$b4("_link_horizontal");
                        DayPilot.Util.addClass(h3, $2a.cssClass);
                        $2k(h3, "Bottom");
                        $2n(h3);
                        var a;
                        if ($2f) {
                            a = DayPilot.Util.div($2j, to.x - 6, to.y + $T - $Y - 5, 0, 0);
                            a.style.borderWidth = "6px";
                            a.style.borderColor = "transparent transparent transparent " + $2f;
                            a.style.borderStyle = "solid";
                        } else {
                            a = DayPilot.Util.div($2j, to.x - 6, to.y + $T - $Y - 5, 6, 6);
                            a.className = $k.$b4("_link_arrow_right");
                            DayPilot.Util.addClass(a, $2a.cssClass);
                        };
                        $2n(a, true);
                    }
                } else {
                    if ($0L.x > to.x) {
                        var $2i = 5;
                        var $2w = to.y - $2i;
                        var h1 = DayPilot.Util.div($2j, $0L.x, $0L.y + $T - $Y, $2g + $C, $C);
                        h1.style.boxSizing = "border-box";
                        h1.style.borderBottomWidth = $C + "px";
                        h1.className = $k.$b4("_link_horizontal");
                        DayPilot.Util.addClass(h1, $2a.cssClass);
                        $2k(h1, "Bottom");
                        $2n(h1);
                        var v1 = DayPilot.Util.div($2j, $0L.x + $2g, $0L.y + $T - $Y, $C, $2w - ($0L.y + $T - $Y));
                        v1.style.boxSizing = "border-box";
                        v1.style.borderRightWidth = $C + "px";
                        v1.className = $k.$b4("_link_vertical");
                        DayPilot.Util.addClass(v1, $2a.cssClass);
                        $2k(v1, "Right");
                        $2n(v1);
                        var h2 = DayPilot.Util.div($2j, to.x - $2g, $2w, $0L.x + 2 * $2g + $C - to.x, $C);
                        h2.style.boxSizing = "border-box";
                        h2.style.borderBottomWidth = $C + "px";
                        h2.className = $k.$b4("_link_horizontal");
                        DayPilot.Util.addClass(h2, $2a.cssClass);
                        $2k(h2, "Bottom");
                        $2n(h2);
                        var v2 = DayPilot.Util.div($2j, to.x - $2g, $2w, $C, to.y - $2w + $T - $Y);
                        v2.style.boxSizing = "border-box";
                        v2.style.borderRightWidth = $C + "px";
                        v2.className = $k.$b4("_link_vertical");
                        DayPilot.Util.addClass(v2, $2a.cssClass);
                        $2k(v2, "Right");
                        $2n(v2);
                        var h3 = DayPilot.Util.div($2j, to.x - $2g, to.y + $T - $Y, $2g, $C);
                        h3.style.boxSizing = "border-box";
                        h3.style.borderBottomWidth = $C + "px";
                        h3.className = $k.$b4("_link_horizontal");
                        DayPilot.Util.addClass(h3, $2a.cssClass);
                        $2k(h3, "Bottom");
                        $2n(h3);
                        var a;
                        if ($2f) {
                            a = DayPilot.Util.div($2j, to.x - 6, to.y + $T - $Y - 5, 0, 0);
                            a.style.borderWidth = "6px";
                            a.style.borderColor = "transparent transparent transparent " + $2f;
                            a.style.borderStyle = "solid";
                        } else {
                            a = DayPilot.Util.div($2j, to.x - 6, to.y + $T - $Y - 5, 6, 6);
                            a.className = $k.$b4("_link_arrow_right");
                            DayPilot.Util.addClass(a, $2a.cssClass);
                        };
                        $2n(a, true);
                    } else {
                        var $2r = $0L.x;
                        var $2s = $0L.y + $T - $Y;
                        var $2t = to.x + $2g;
                        var $2u = to.y;
                        var h1 = DayPilot.Util.div($2j, $2r, $2s, $2t - $0L.x, $C);
                        h1.style.boxSizing = "border-box";
                        h1.style.borderBottomWidth = $C + "px";
                        h1.className = $k.$b4("_link_horizontal");
                        DayPilot.Util.addClass(h1, $2a.cssClass);
                        $2k(h1, "Bottom");
                        $2n(h1);
                        var v1 = DayPilot.Util.div($2j, $2t, $2s, $C, $2u - $2s);
                        v1.style.boxSizing = "border-box";
                        v1.style.borderRightWidth = $C + "px";
                        v1.className = $k.$b4("_link_vertical");
                        DayPilot.Util.addClass(v1, $2a.cssClass);
                        $2k(v1, "Right");
                        $2n(v1);
                        var a;
                        if ($2f) {
                            a = DayPilot.Util.div($2j, $2t - 5 + Math.floor($C / 2), $2u - 5, 0, 0);
                            if ($0L.y < to.y) {
                                a.style.borderColor = $2f + " transparent transparent transparent";
                            } else {
                                a.style.borderColor = "transparent transparent " + $2f + "transparent";
                            };
                            a.style.borderStyle = "solid";
                            a.style.borderWidth = "5px";
                        } else {
                            a = DayPilot.Util.div($2j, $2t - 6 + Math.floor($C / 2), $2u - 6, 6, 6);
                            if ($0L.y < to.y) {
                                a.className = $k.$b4("_link_arrow_down");
                            } else {
                                a.className = $k.$b4("_link_arrow_up");
                            };
                            DayPilot.Util.addClass(a, $2a.cssClass);
                        };
                        $2n(a, true);
                    }
                }
            } else if ($Z === "StartToFinish") {
                var $2i = 5;
                var $2w = to.y - $2i;
                var h1 = DayPilot.Util.div($2j, to.x, to.y + $T - $Y, $2g + $C, $C);
                h1.style.boxSizing = "border-box";
                h1.style.borderBottomWidth = $C + "px";
                h1.className = $k.$b4("_link_horizontal");
                DayPilot.Util.addClass(h1, $2a.cssClass);
                $2k(h1, "Bottom");
                $2n(h1);
                var v1 = DayPilot.Util.div($2j, to.x + $2g, to.y + $T - $Y, $C, $2w - (to.y + $T - $Y) + 0);
                v1.style.boxSizing = "border-box";
                v1.style.borderRightWidth = $C + "px";
                v1.className = $k.$b4("_link_vertical");
                DayPilot.Util.addClass(v1, $2a.cssClass);
                $2k(v1, "Right");
                $2n(v1);
                var h2 = DayPilot.Util.div($2j, $0L.x - $2g, $2w, to.x + 2 * $2g + $C - $0L.x, $C);
                h2.style.boxSizing = "border-box";
                h2.style.borderBottomWidth = $C + "px";
                h2.className = $k.$b4("_link_horizontal");
                DayPilot.Util.addClass(h2, $2a.cssClass);
                $2k(h2, "Bottom");
                $2n(h2);
                var v2 = DayPilot.Util.div($2j, $0L.x - $2g, $2w, $C, $0L.y + $T - $Y - $2w + 0);
                v2.style.boxSizing = "border-box";
                v2.style.borderRightWidth = $C + "px";
                v2.className = $k.$b4("_link_vertical");
                DayPilot.Util.addClass(v2, $2a.cssClass);
                $2k(v2, "Right");
                $2n(v2);
                var h3 = DayPilot.Util.div($2j, $0L.x - $2g, $0L.y + $T - $Y, $2g, $C);
                h3.style.boxSizing = "border-box";
                h3.style.borderBottomWidth = $C + "px";
                h3.className = $k.$b4("_link_horizontal");
                DayPilot.Util.addClass(h3, $2a.cssClass);
                $2k(h3, "Bottom");
                $2n(h3);
                var a;
                if ($2f) {
                    a = DayPilot.Util.div($2j, to.x - 6, to.y + $T - $Y - 5, 0, 0);
                    a.style.borderColor = "transparent " + $2f + " transparent transparent";
                    a.style.borderStyle = "solid";
                    a.style.borderWidth = "6px";
                } else {
                    a = DayPilot.Util.div($2j, to.x - 6, to.y + $T - $Y - 5, 6, 6);
                    a.className = $k.$b4("_link_arrow_left");
                    DayPilot.Util.addClass(a, $2a.cssClass);
                };
                $2n(a, true);
            } else if ($Z === "StartToStart") {
                var nx = Math.min($0L.x, to.x) - $2g;
                var h1 = DayPilot.Util.div($2j, nx, $0L.y + $T - $Y, $0L.x - nx, $C);
                h1.style.boxSizing = "border-box";
                h1.style.borderBottomWidth = $C + "px";
                h1.className = $k.$b4("_link_horizontal");
                DayPilot.Util.addClass(h1, $2a.cssClass);
                $2k(h1, "Bottom");
                $2n(h1);
                var v1 = DayPilot.Util.div($2j, nx, $0L.y + $T - $Y, $C, to.y - $0L.y);
                v1.style.boxSizing = "border-box";
                v1.style.borderRightWidth = $C + "px";
                v1.className = $k.$b4("_link_vertical");
                DayPilot.Util.addClass(v1, $2a.cssClass);
                $2k(v1, "Right");
                $2n(v1);
                var h3 = DayPilot.Util.div($2j, nx, to.y + $T - $Y, to.x - nx, $C);
                h3.style.boxSizing = "border-box";
                h3.style.borderBottomWidth = $C + "px";
                h3.className = $k.$b4("_link_horizontal");
                DayPilot.Util.addClass(h3, $2a.cssClass);
                $2k(h3, "Bottom");
                $2n(h3);
                var a;
                if ($2f) {
                    a = DayPilot.Util.div($2j, to.x - 6, to.y + $T - $Y - 5, 0, 0);
                    a.style.borderColor = "transparent transparent transparent " + $2f;
                    a.style.borderStyle = "solid";
                    a.style.borderWidth = "6px";
                } else {
                    a = DayPilot.Util.div($2j, to.x - 6, to.y + $T - $Y - 5, 6, 6);
                    a.className = $k.$b4("_link_arrow_right");
                    DayPilot.Util.addClass(a, $2a.cssClass);
                };
                $2n(a, true);
            } else if ($Z === "FinishToFinish") {
                var fx = Math.max(to.x, $0L.x) + $2g;
                var h1 = DayPilot.Util.div($2j, $0L.x, $0L.y + $T - $Y, fx - $0L.x, $C);
                h1.style.boxSizing = "border-box";
                h1.style.borderBottomWidth = $C + "px";
                h1.className = $k.$b4("_link_horizontal");
                DayPilot.Util.addClass(h1, $2a.cssClass);
                $2k(h1, "Bottom");
                $2n(h1);
                var v1 = DayPilot.Util.div($2j, fx, $0L.y + $T - $Y, $C, to.y - $0L.y);
                v1.style.boxSizing = "border-box";
                v1.style.borderRightWidth = $C + "px";
                v1.className = $k.$b4("_link_vertical");
                DayPilot.Util.addClass(v1, $2a.cssClass);
                $2k(v1, "Right");
                $2n(v1);
                var h3 = DayPilot.Util.div($2j, to.x, to.y + $T - $Y, fx - to.x, $C);
                h3.style.boxSizing = "border-box";
                h3.style.borderBottomWidth = $C + "px";
                h3.className = $k.$b4("_link_horizontal");
                DayPilot.Util.addClass(h3, $2a.cssClass);
                $2k(h3, "Bottom");
                $2n(h3);
                var a;
                if ($2f) {
                    a = DayPilot.Util.div($2j, to.x - 6, to.y + $T - $Y - 5, 0, 0);
                    a.style.borderColor = "transparent " + $2f + " transparent transparent";
                    a.style.borderStyle = "solid";
                    a.style.borderWidth = "6px";
                } else {
                    a = DayPilot.Util.div($2j, to.x - 6, to.y + $T - $Y - 5, 6, 6);
                    a.className = $k.$b4("_link_arrow_left");
                    DayPilot.Util.addClass(a, $2a.cssClass);
                };
                $2n(a, true);
            }
        };
        this.$dh = function($n, $s) {
            var $0Y = {};
            $0Y.from = $n.from;
            $0Y.to = $n.to;
            $0Y.type = $n.type;
            $k.$bA("LinkCreate", $0Y, $s);
        };
        this.$dj = function($n, $s) {
            var $0Y = {};
            $0Y.from = $n.from;
            $0Y.to = $n.to;
            $0Y.type = $n.type;
            $k.$bA("LinkCreate", $0Y, $s, "Notify");
        };
        this.$di = function($n, $s) {
            var $0Y = {};
            $0Y.from = $n.from;
            $0Y.to = $n.to;
            $0Y.type = $n.type;
            $k.$bz("LinkCreate", $0Y, $s);
        };
        this.$dl = function(i) {
            var top = 0;
            var $Y = 0;
            var $1B = 0;
            if (i > this.rowlist.length - 1) {
                throw "Row index too high (DayPilotScheduler._getRowByIndex)";
            };
            for (var j = 0; j <= i; j++) {
                var $z = this.rowlist[j];
                if ($z.hidden) {
                    continue;
                };
                $Y += $z.height;
                $1B++;
            };
            top = $Y - $z.height;
            var $l = {};
            $l.top = top;
            $l.height = $z.height;
            $l.bottom = $Y;
            $l.i = $1B - 1;
            $l.data = $z;
            return $l;
        };
        this.$dm = function() {
            if (this.backendUrl) {
                return (typeof $k.events.list === 'undefined') || (!$k.events.list);
            } else {
                return false;
            }
        };
        this.events.find = function(id) {
            if (!$k.events.list || typeof $k.events.list.length === 'undefined') {
                return null;
            };
            var $2x = $k.events.list.length;
            for (var i = 0; i < $2x; i++) {
                if ($k.events.list[i].id === id) {
                    return new DayPilot.Event($k.events.list[i], $k);
                }
            };
            return null;
        };
        this.events.all = function() {
            var $00 = [];
            for (var i = 0; i < $k.events.list.length; i++) {
                var e = new DayPilot.Event($k.events.list[i], $k);
                $00.push(e);
            };
            return DayPilot.list($00);
        };
        this.events.filter = function($n) {
            $k.events.$dn = $n;
            $k.$bY({
                "eventsOnly": true
            });
        };
        this.events.edit = function(e) {
            var $04 = $k.$dk(e);
            if (!$04 && !DayPilot.list($k.events.$do.rows).isEmpty()) {
                setTimeout(function() {
                    $k.$bD($k.$dk(e));
                });
                return;
            };
            $k.$bD($04);
        };
        this.events.load = function($2y, $2z, $2A) {
            var $2B = function($n) {
                var $2C = {};
                $2C.exception = $n.exception;
                $2C.request = $n.request;
                if (typeof $2A === 'function') {
                    $2A($2C);
                }
            };
            var $2D = function($n) {
                var r = $n.request;
                var $s;
                try {
                    $s = DayPilot.Util.parseJSON(r.responseText);
                } catch (e) {
                    var $2E = {};
                    $2E.exception = e;
                    $2B($2E);
                    return;
                };
                if (DayPilot.isArray($s)) {
                    var $2F = {};
                    $2F.preventDefault = function() {
                        this.preventDefault.value = true;
                    };
                    $2F.data = $s;
                    if (typeof $2z === "function") {
                        $2z($2F);
                    };
                    if ($2F.preventDefault.value) {
                        return;
                    };
                    $k.events.list = $s;
                    if ($k.$cd) {
                        $k.update();
                    }
                }
            };
            DayPilot.ajax({
                "method": "POST",
                "data": {
                    "start": $k.visibleStart().toString(),
                    "end": $k.visibleEnd().toString()
                },
                "url": $2y,
                "success": $2D,
                "error": $2B
            });
        };
        this.events.findRecurrent = function($2G, $0K) {
            if (!$k.events.list || typeof $k.events.list.length === 'undefined') {
                return null;
            };
            var $2x = $k.events.list.length;
            for (var i = 0; i < $2x; i++) {
                if ($k.events.list[i].recurrentMasterId === $2G && $k.events.list[i].start.getTime() === $0K.getTime()) {
                    return new DayPilot.Event($k.events.list[i], $k);
                }
            };
            return null;
        };
        this.events.$bR = function($s) {
            var $1d = [];
            for (var i = 0; i < $k.rowlist.length; i++) {
                var $z = $k.rowlist[i];
                if ($z.isNewRow) {
                    continue;
                };
                $k.$bl(i);
                for (var r = 0; r < $z.events.length; r++) {
                    if ($z.events[r].data === $s) {
                        $1d.push(i);
                        $z.events.splice(r, 1);
                        break;
                    }
                }
            };
            return $1d;
        };
        this.events.$bS = function($s) {
            var $1d = [];
            var $2H = $k.$dp() || $k.viewType === "Days";
            var $1B = DayPilot.indexOf($k.events.list, $s);
            $k.$dq($1B);
            for (var i = 0; i < $k.rowlist.length; i++) {
                var $z = $k.rowlist[i];
                if ($z.isNewRow) {
                    continue;
                };
                $k.$bl(i);
                var ep = $k.$dr($s, $z);
                if (ep) {
                    if (typeof $k.onBeforeEventRender === 'function') {
                        ep.cache = $k.$ai.events[$1B];
                    };
                    $1d.push(i);
                    if (!$2H) {
                        break;
                    }
                }
            };
            return $1d;
        };
        this.events.update = function(e, $s) {
            var $0Y = {};
            $0Y.oldEvent = new DayPilot.Event(e.copy(), $k);
            $0Y.newEvent = new DayPilot.Event(e.temp(), $k);
            var $1c = new DayPilot.Action($k, "EventUpdate", $0Y, $s);
            var $2I = DayPilot.list($k.events.list).find(function($02) {
                var $s = $02 instanceof DayPilot.Event ? $02.data : $02;
                return $s === e.data;
            });
            if (!$2I) {
                return;
            };
            if ($k.$ds.scope) {
                $k.$ds.notify(function() {
                    e.commit();
                });
            } else {
                var $1d = $k.events.$bR(e.data);
                e.commit();
                $1d = $1d.concat($k.events.$bS(e.data));
                $k.events.$dt($1d);
            };
            return $1c;
        };
        this.events.remove = function(e, $s) {
            var $0Y = {};
            $0Y.e = new DayPilot.Event(e.data, $k);
            var $1c = new DayPilot.Action($k, "EventRemove", $0Y, $s);
            var $1B = DayPilot.indexOf($k.events.list, e.data);
            $k.events.list.splice($1B, 1);
            if ($k.$ds.scope) {
                $k.$ds.notify();
            } else {
                var $1d = $k.events.$bR(e.data);
                $k.events.$dt($1d);
            };
            return $1c;
        };
        this.events.add = function(e, $s) {
            e.calendar = $k;
            if (!$k.events.list) {
                $k.events.list = [];
            };
            $k.events.list.push(e.data);
            var $1c = new DayPilot.Action($k, "EventAdd", $0Y, $s);
            if (!$k.$cd) {
                return $1c;
            };
            if ($k.$ds.scope) {
                $k.$ds.notify();
            } else {
                var $0Y = {};
                $0Y.e = e;
                var $1d = $k.events.$bS(e.data);
                $k.events.$dt($1d);
            };
            return $1c;
        };
        this.events.$do = {
            "rows": []
        };
        this.events.$du = null;
        this.events.$dt = function($1d) {
            clearTimeout($k.events.$du);
            var $29 = $k.events.$do.rows;
            DayPilot.list($1d).each(function($z) {
                $29.push($z);
            });
            $k.events.$do.rows = DayPilot.ua($29);
            var $14 = function() {
                var $1d = $k.events.$do.rows;
                $k.events.$do.rows = [];
                $k.$bT($1d);
                $k.$bU();
                if ($k.$cd) {
                    if ($k.viewType === "Gantt") {
                        $k.update();
                    } else {
                        $k.$bV($1d);
                        $k.$aD();
                    }
                }
            };
            $k.events.$du = setTimeout($14);
        };
        this.queue = {};
        this.queue.list = [];
        this.queue.list.ignoreToJSON = true;
        this.queue.add = function($1c) {
            if (!$1c) {
                return;
            };
            if ($1c.isAction) {
                $k.queue.list.push($1c);
            } else {
                throw "DayPilot.Action object required for queue.add()";
            }
        };
        this.queue.notify = function($s) {
            var $0Y = {};
            $0Y.actions = $k.queue.list;
            $k.$bA('Notify', $0Y, $s, "Notify");
            $k.queue.list = [];
        };
        this.queue.clear = function() {
            $k.queue.list = [];
        };
        this.queue.pop = function() {
            return $k.queue.list.pop();
        };
        this.cells.find = function($M, $1s) {
            var $A = $k.getPixels(new DayPilot.Date($M));
            if (!$A) {
                return $2J();
            };
            var x = $A.i;
            var $z = $k.$aV($1s);
            if (!$z) {
                return $2J();
            };
            var y = $z.index;
            return this.findXy(x, y);
        };
        this.cells.findByPixels = function(x, y) {
            var $0J = $k.$bt(x);
            if (!$0J) {
                return $2J();
            };
            var x = $0J.x;
            var $z = $k.$d4(y);
            if (!$z) {
                return $2J();
            };
            var y = $z.i;
            return this.findXy(x, y);
        };
        this.cells.all = function() {
            var $00 = [];
            var $1Q = $k.itline.length;
            var $2K = $k.rowlist.length;
            for (var x = 0; x < $1Q; x++) {
                for (var y = 0; y < $2K; y++) {
                    var $R = $k.cells.findXy(x, y);
                    $00.push($R[0]);
                }
            };
            return $2J($00);
        };
        this.cells.$dv = function(x, y) {
            var $0J = $k.$bC(x);
            var $z = $k.rowlist[y];
            var $1x = $z.start.getTime() - $k.$bk().getTime();
            var $M = $0J.start.addTime($1x);
            var end = $0J.end.addTime($1x);
            var $R = {};
            $R.x = x;
            $R.y = y;
            $R.i = x + "_" + y;
            $R.resource = $z.id;
            $R.start = $0J.start;
            $R.end = $0J.end;
            $R.calendar = $k;
            $R.isParent = $z.children && $z.children.length;
            $R.update = function() {
                if (!$k.rowlist[$R.y].hidden) {
                    var $1e = $k.$ai.cells[$R.i];
                    $k.$dw($1e);
                    var $L = $k.$aX();
                    if ($L.xStart <= $R.x && $R.x <= $L.xEnd) {
                        if ($L.yStart <= $R.y && $R.y <= $L.yEnd) {
                            $k.$dx($R.x, $R.y);
                        }
                    }
                }
            };
            $R.utilization = function(name) {
                if (!$z.sections) {
                    $z.calculateUtilization();
                };
                return $z.sections.forRange($M, end).maxSum(name);
            };
            $R.events = function() {
                return $z.events.forRange($M, end);
            };
            $R.div = $k.$ai.cells[$R.i];
            var p = $k.$dy(x, y);
            $R.properties = p;
            return $R;
        };
        this.cells.findXy = function(x, y) {
            if (DayPilot.isArray(x)) {
                var $O = [];
                for (var i = 0; i < x.length; i++) {
                    var o = x[i];
                    $O.push($k.cells.$dv(o.x, o.y));
                };
                return $2J($O);
            } else if (x === null || y === null) {
                return $2J();
            };
            var $R = $k.cells.$dv(x, y);
            return $2J($R);
        };
        var $2L = function(a) {
            var $00 = [];
            if (DayPilot.isArray(a)) {
                for (var i = 0; i < a.length; i++) {
                    $00.push(a[i]);
                }
            } else if (typeof a === 'object') {
                $00.push(a);
            };
            $00.each = function(f) {
                if (!f) {
                    return;
                };
                for (var i = 0; i < $00.length; i++) {
                    f($00[i]);
                }
            };
            return $00;
        };
        this.$dz = function(a) {
            var $00 = DayPilot.list();
            if (DayPilot.isArray(a)) {
                for (var i = 0; i < a.length; i++) {
                    $00.push(a[i]);
                }
            } else if (typeof a === 'object') {
                $00.push(a);
            };
            $00.cssClass = function($2M) {
                this.each(function($02) {
                    $02.properties.cssClass = DayPilot.Util.addClassToString($02.properties.cssClass, $2M);
                    $02.update();
                });
                return this;
            };
            $00.removeClass = function($2M) {
                this.each(function($02) {
                    $02.properties.cssClass = DayPilot.Util.removeClassFromString($02.properties.cssClass, $2M);
                    $02.update();
                });
                return this;
            };
            $00.addClass = $00.cssClass;
            $00.html = function($0b) {
                this.each(function($02) {
                    $02.properties.html = $0b;
                    $02.update();
                });
                return this;
            };
            return $00;
        };
        var $2J = this.$dz;
        this.$ds = {};
        this.$ds.scope = null;
        this.$ds.notify = function(f) {
            if ($k.$ds.scope) {
                $k.$ds.scope["$apply"](f);
            }
        };
        this.debug = new DayPilot.Debug(this);
        this.$dA = function($w) {
            if ($k.viewType !== 'Days') {
                throw "Checking row start when viewType !== 'Days'";
            };
            for (var i = 0; i < $k.rowlist.length; i++) {
                var $z = $k.rowlist[i];
                var $s = $z.element ? $z.element.data : $z.data;
                var $M = $s.start;
                if ($w.getTime() >= $M.getTime() && $w.getTime() < $M.addDays(1).getTime()) {
                    return $M;
                }
            };
            return null;
        };
        this.$dB = function($w) {
            var $M = $k.$bk();
            if ($w.ticks === $M.ticks) {
                return $w;
            };
            var $0C = $M;
            if ($w.ticks < $M.ticks) {
                var $2N = this.itline[0].end.ticks - this.itline[0].start.ticks;
                while ($0C.ticks > $w.ticks) {
                    $0C = $0C.addTime(-$2N);
                };
                return $0C;
            };
            if ($k.viewType === 'Days') {
                var $2O = this.$dA($w);
                var $0F = $2O.getTime() - $k.$bk().getTime();
                var $R = this.$bv($w.addTime(-$0F));
                if ($R.current) {
                    return $R.current.start.addTime($0F);
                };
                if ($R.past) {
                    return $R.previous.end.addTime($0F);
                };
                throw "getBoxStart(): time not found";
            } else {
                var $R = this.$bv($w);
                if ($R.current) {
                    return $R.current.start;
                };
                if ($R.past) {
                    return $R.previous.end;
                };
                if ($R.hidden) {
                    var $J = $R.next.start.getTime() - $w.getTime();
                    var $2P = $R.next.end.getTime() - $R.next.start.getTime();
                    var $2Q = Math.ceil($J / $2P) * $2P;
                    var $l = $R.next.start.addTime(-$2Q);
                    return $l;
                };
                throw "getBoxStart(): time not found";
            }
        };
        this.$dc = function($1Z) {
            var $z = this.$d4($k.coords.y);
            var e = $1Z.event;
            if (typeof e.end !== 'function') {
                throw "e.end function is not defined";
            };
            if (!e.end()) {
                throw "e.end() returns null";
            };
            var $0P = DayPilot.DateUtil.diff(e.rawend(), e.start());
            $0P = Math.max($0P, 1);
            var $2R = $0d.useBox($0P);
            var $2S = e.data && e.data.type === "Milestone";
            var $2T = $k.eventHeight;
            var $2U = 0;
            var x = $k.coords.x;
            if ($2S) {
                x += $2T / 2;
            };
            if ($k.scale === "Manual") {
                var $2V = (function() {
                    var end = $k.getDate($k.coords.x, true, true);
                    var $M = end.addTime(-$0P);
                    var $2W = $k.getPixels($M).boxLeft;
                    var $2X = $k.getPixels(end).boxRight;
                    var end = Math.min($2X, $k.coords.x);
                    return end - $2W;
                })();
                var $0F = Math.min(DayPilotScheduler.moveOffsetX ? DayPilotScheduler.moveOffsetX : 0, $2V);
                x = $k.coords.x - $0F;
            };
            var $1x = 0;
            var $2Y = this.viewType === 'Days' || this.$dC();
            if ($2Y && !e.part.external) {
                $1x = this.rowlist[e.part.dayIndex].start.getTime() - this.$bk().getTime();
            };
            if ($2R && !$2S) {
                var $R = $k.$bv(e.start());
                var $2Z = !$R.hidden && !$R.past;
                $2U = e.start().getTime() - this.$dB(e.start().addTime(-$1x)).addTime($1x).getTime();
                if ($2Z) {
                    $2U = (function($30, $0F) {
                        var $31 = $k.$dD($k.$bv($30).current);
                        var $32 = $k.$dD($k.$bt(x).cell);
                        if ($31 > $32 * 1.2) {
                            var $33 = $0F > 0 ? 1 : -1;
                            var $0F = Math.abs($0F);
                            while ($0F >= $32) {
                                $0F -= $32;
                            };
                            $0F *= $33;
                        };
                        return $0F;
                    })(e.start(), $2U);
                }
            };
            var $34 = 0;
            if (DayPilotScheduler.moveDragStart && $k.scale !== "Manual") {
                if ($2R) {
                    var $35 = e.start().addTime(-$1x);
                    var $36 = this.$dB($35);
                    $34 = DayPilotScheduler.moveDragStart.getTime() - $36.getTime();
                    var $37 = $k.$dE() * 60 * 1000;
                    $34 = Math.floor($34 / $37) * $37;
                } else {
                    $34 = DayPilotScheduler.moveDragStart.getTime() - e.start().addTime(-$1x).getTime();
                }
            } else {
                $34 = 0;
            };
            if (this.eventMoveToPosition) {
                $34 = 0;
            };
            var $M = this.getDate(x, true).addTime(-$34).addTime($1x);
            if (DayPilotScheduler.resizing) {
                $M = e.start();
            };
            if (this.snapToGrid) {
                $M = this.$dB($M.addTime(-$1x)).addTime($1x);
            };
            $M = $M.addTime($2U);
            var end = $M.addTime($0P);
            var $38 = $M;
            var $39 = end;
            if ($2Y) {
                $38 = $M.addTime(-$1x);
                $39 = $38.addTime($0P);
                var $3a = $z.element.data.start.getTime() - this.$bk().getTime();
                $M = $38.addTime($3a);
                end = $M.addTime($0P);
            };
            var $3b = this.getPixels($38);
            var $3c = this.getPixels($39);
            var $P = ($2R) ? $3b.boxLeft : $3b.left;
            var $C = ($2R) ? ($3c.boxRight - $P) : ($3c.left - $P);
            if ($2S) {
                $C = $2T;
                $P -= $C / 2;
            };
            var $21 = {};
            $21.top = $z.top;
            $21.left = $P;
            $21.row = $z.element;
            $21.rowIndex = $z.i;
            $21.width = $C;
            $21.start = $M;
            $21.end = end;
            $21.relativeY = $k.coords.y - $z.top;
            return $21;
        };
        this.$dE = function() {
            switch (this.scale) {
                case "CellDuration":
                    return this.cellDuration;
                case "Minute":
                    return 1;
                case "Hour":
                    return 60;
                case "Day":
                    return 60 * 24;
                case "Week":
                    return 60 * 24 * 7;
                case "Month":
                    return 60 * 24 * 30;
                case "Year":
                    return 60 * 24 * 365;
            };
            throw "can't guess cellDuration value";
        };
        this.$dD = function($0J) {
            return $0J.end.ticks - $0J.start.ticks;
        };
        this.$df = function(y) {
            return this.treePreventParentUsage && this.$dF(y);
        };
        this.$dF = function(y) {
            var $z = this.rowlist[y];
            if ($z.isParent) {
                return true;
            };
            if (this.treeEnabled) {
                if ($z.children && $z.children.length > 0) {
                    return true;
                }
            };
            return false;
        };
        this.$dG = {};
        this.$dH = function() {
            if (!$k.treeAutoExpand) {
                return;
            };
            var $21 = this.$dc(DayPilotScheduler.moving);
            var y = $21.rowIndex;
            var $3d = this.$dF(y);
            var $3e = this.$dG;
            if ($3e.timeout && $3e.y !== y) {
                clearTimeout($3e.timeout);
                $3e.timeout = null;
            };
            if ($3d) {
                $3e.y = y;
                var $3f = !$k.rowlist[$3e.y].expanded;
                if (!$3e.timeout && $3f) {
                    $3e.timeout = setTimeout(function() {
                        var $3f = !$k.rowlist[$3e.y].expanded;
                        if ($3f) {
                            $k.$dI($3e.y);
                            $k.$dJ();
                        };
                        $3e.timeout = null;
                    }, 500);
                }
            }
        };
        this.$dK = function() {
            var $3g = DayPilotScheduler.resizingShadow.clientWidth;
            var $3h = DayPilotScheduler.resizingShadow.offsetLeft;
            var e = DayPilotScheduler.resizing.event;
            var $3i = DayPilotScheduler.resizing.dpBorder;
            var $z = $k.rowlist[DayPilotScheduler.resizing.event.part.dayIndex];
            var $1x = 0;
            $1x = $z.start.getTime() - $k.$bk().getTime();
            var $0p = null;
            var $13 = null;
            var $3j = !$k.snapToGrid;
            if ($3i === 'left') {
                $0p = $k.getDate($3h, $3j).addTime($1x);
                $13 = e.rawend();
            } else if ($3i === 'right') {
                $0p = e.start();
                $13 = $k.getDate($3h + $3g, $3j, true).addTime($1x);
            };
            DayPilotScheduler.resizingShadow.start = $0p;
            DayPilotScheduler.resizingShadow.end = $13;
            $16.update();
        };
        this.exportAs = function($0w, $j) {
            var $3k = $3l.generate($0w, $j);
            return new $3m($3k);
        };
        this["export"] = this.exportAs;
        var $3m = function($3k) {
            this.toElement = function() {
                return $3k.getElement();
            };
            this.dimensions = function() {
                return {
                    "width": $3k.getWidth(),
                    "height": $3k.getHeight()
                };
            };
            this.toHtml = function() {
                return $3k.getSource();
            };
            this.toDataUri = function() {
                return $3k.getDataUri();
            };
            this.toBlob = function() {
                return $3k.getBlob();
            };
            this.print = function() {
                var $3n = document.createElement("iframe");
                $3n.setAttribute("width", 0);
                $3n.setAttribute("height", 0);
                $3n.setAttribute("frameborder", 0);
                $3n.setAttribute("src", "about:blank");
                document.body.appendChild($3n);
                var $3o = $3n.contentWindow.document;
                var $3p = $3o.compatMode === 'BackCompat' ? $3o.body : $3o.documentElement;
                $3p.innerHTML = $3k.getSource();
                var $l = $3n.contentWindow.document.execCommand('print', false, null);
                if (!$l) {
                    $3n.contentWindow.focus();
                    $3n.contentWindow.print();
                };
                document.body.removeChild($3n);
            };
            this.download = function(name) {
                var name = name || $3k.getDefaultFileName();
                var $3q = $3k.getBlob();
                DayPilot.Util.downloadBlob($3q, name);
            };
        };
        this.$dL = {};
        var $3l = this.$dL;
        $3l.getWidth = function() {
            var $3r = $3l.$dM;
            switch ($3r) {
                case "viewport":
                    return $k.nav.top.offsetWidth;
                case "full":
                    return $k.$dN() + $3l.getRowHeaderWidth();
                case "range":
                    return $k.getPixels($3l.getRangeEnd()).boxRight - $k.getPixels($3l.getRangeStart()).boxLeft + $3l.getRowHeaderWidth();
                default:
                    throw "Unsupported export mode: " + $3r;
            }
        };
        $3l.getHeight = function() {
            var $3r = $3l.$dM;
            switch ($3r) {
                case "viewport":
                    return $k.nav.top.offsetHeight - DayPilot.sh($k.nav.scroll) - 1;
                case "full":
                    return $k.$dO() + $k.$b6() - DayPilot.sh($k.nav.scroll);
                case "range":
                    var $0L = $3l.getRangeResStart();
                    var to = $3l.getRangeResEnd();
                    if (!$0L) {
                        throw "Resource specified using resourceFrom option not found during export.";
                    };
                    if (!to) {
                        throw "Resource specified using resourceTo option not found during export.";
                    };
                    return to.top - $0L.top + to.height + $k.$b6();
                default:
                    throw "Unsupported export mode: " + $3r;
            }
        };
        $3l.getRangeStart = function() {
            return new DayPilot.Date($3l.$dP.dateFrom);
        };
        $3l.getRangeEnd = function() {
            return new DayPilot.Date($3l.$dP.dateTo);
        };
        $3l.getRangeResStart = function() {
            if (!$3l.$dP.resourceFrom) {
                return $k.rowlist[0];
            };
            return $k.$aV($3l.$dP.resourceFrom);
        };
        $3l.getRangeResEnd = function() {
            if (!$3l.$dP.resourceTo) {
                return $k.rowlist.last();
            };
            return $k.$aV($3l.$dP.resourceTo);
        };
        $3l.getRowHeaderWidth = function() {
            return $k.$b7();
        };
        $3l.getTimeHeaderHeight = function() {
            return $k.$b6();
        };
        $3l.getCanvas = function() {
            return $3l.canvas();
        };
        $3l.getRectangles = function() {
            var $3s = $3l.getRowHeaderWidth();
            var $3t = $3l.getTimeHeaderHeight();
            var $3u = {};
            $3u.main = {
                "x": 0,
                "y": 0,
                "w": $3l.getWidth(),
                "h": $3l.getHeight()
            };
            $3u.corner = {
                "x": 0,
                "y": 0,
                "w": $3s,
                "h": $3t
            };
            $3u.grid = {
                "x": $3s,
                "y": $3t,
                "w": $3l.getWidth() - $3s,
                "h": $3l.getHeight() - $3t
            };
            var $C = $3u.grid.w;
            var $3v = $k.itline.last();
            if ($3v && ($3v.left + $3v.width) < $3u.grid.w) {
                $C = $3v.left + $3v.width;
            };
            var $T = $3u.grid.h;
            var $3w = $k.rowlist.last();
            if ($3w && ($3w.top + $3w.height) < $3u.grid.h) {
                $T = $3w.top + $3w.height;
            };
            $3u.gridContent = {
                "x": $3s,
                "y": $3t,
                "w": $C,
                "h": $T
            };
            return $3u;
        };
        $3l.getRows = function() {
            var $3r = $3l.$dM;
            var $l = DayPilot.list();
            var top, $Y, $3x, $3y;
            switch ($3r) {
                case "viewport":
                    top = $k.$dQ;
                    $Y = top + $k.nav.scroll.offsetHeight;
                    $3x = $k.$d4(top).i;
                    $3y = $k.$d4($Y).i;
                    break;
                case "full":
                    top = 0;
                    $3x = 0;
                    $3y = $k.rowlist.length;
                    break;
                case "range":
                    $3x = $3l.getRangeResStart().index;
                    $3y = $3l.getRangeResEnd().index;
                    break;
            };
            if ($3y < $k.rowlist.length) {
                $3y += 1;
            };
            for (var y = $3x; y < $3y; y++) {
                var $z = $k.rowlist[y];
                if ($z.hidden) {
                    continue;
                };
                $l.push($z);
            };
            $l.offset = $3x;
            return $l;
        };
        $3l.getEvents = function() {
            var $3r = $3l.$dM;
            switch ($3r) {
                case "full":
                    var $3z = DayPilot.list();
                    DayPilot.list($k.rowlist).each(function($z) {
                        DayPilot.list($z.events).each(function(e) {
                            $3z.push(e);
                        });
                    });
                    return $3z;
                case "viewport":
                    return $S.events().map(function($04) {
                        return $04.event;
                    });
                case "range":
                    var $3z = DayPilot.list();
                    var $M = $3l.getRangeStart();
                    var end = $3l.getRangeEnd();
                    $3l.getRows().each(function($z) {
                        DayPilot.list($z.events).filter(function($02) {
                            return DayPilot.Util.overlaps($02.start(), $02.end(), $M, end)
                        }).each(function(e) {
                            $3z.push(e);
                        });
                    });
                    return $3z;
                default:
                    throw "Unsupported export mode: " + $3r;
            }
        };
        $3l.getTimeline = function() {
            var $3r = $3l.$dM;
            switch ($3r) {
                case "full":
                    return DayPilot.list($k.itline).addProps({
                        "offset": 0
                    });
                case "viewport":
                    return $3l.getViewportTimeline();
                case "range":
                    return $3l.getRangeTimeline();
                default:
                    throw "Unsupported export mode: " + $3r;
            }
        };
        $3l.getRangeTimeline = function() {
            var $l = DayPilot.list();
            if ($k.itline && $k.itline.length > 0) {
                var $M = $k.$bv($3l.getRangeStart()).i;
                var end = $k.$bv($3l.getRangeEnd()).i;
                var $3A = $k.$b5();
                end = Math.min(end, $3A - 1);
                $M = Math.max($M, 0);
                for (var x = $M; x <= end; x++) {
                    var $R = $k.itline[x];
                    $l.push($R);
                };
                $l.offset = $M;
            };
            return $l;
        };
        $3l.getViewportTimeline = function() {
            var $l = DayPilot.list();
            if ($k.itline && $k.itline.length > 0) {
                var $P = $k.$dR;
                var $Q = $P + $k.$dS;
                var $M = $k.$bt($P).x;
                var end = $k.$bt($Q, true).x;
                var $3A = $k.$b5();
                end = Math.min(end, $3A);
                $M = Math.max($M, 0);
                for (var x = $M; x <= end; x++) {
                    var $R = $k.itline[x];
                    $l.push($R);
                };
                $l.offset = $M;
            };
            return $l;
        };
        $3l.getTimeHeader = function(y) {
            var $3r = $3l.$dM;
            if ($3r === "full") {
                return DayPilot.list($k.timeHeader[y]);
            } else {
                var $l = DayPilot.list();
                var $3B, $3C;
                $3B = $3l.getViewportOffsetStart();
                $3C = $3B + $3l.getViewportOffsetWidth();
                var $3D = $k.$dT(y, $3B);
                var $3E = $k.$dT(y, $3C);
                if (!$3E) {
                    $3E = {
                        "x": $k.timeHeader[y].length - 1
                    };
                };
                for (var x = $3D.x; x <= $3E.x; x++) {
                    var $R = $k.timeHeader[y][x];
                    $l.push($R);
                };
                return $l;
            }
        };
        $3l.fakeDurationBar = function() {
            var $04 = document.createElement("div");
            $04.style.display = "none";
            $04.className = $k.$b4($08.event);
            var $3F = document.createElement("div");
            $3F.className = $k.$b4($08.eventBar);
            var $07 = document.createElement("div");
            $07.className = $k.$b4($08.eventBarInner);
            document.body.appendChild($04);
            $3F.appendChild($07);
            $04.appendChild($3F);
            return $04;
        };
        $3l.fakeCell = function() {
            var $04 = document.createElement("div");
            $04.style.display = "none";
            $04.className = $k.$b4("_cell");
            $04.style.position = "absolute";
            $04.style.top = "-2000px";
            $04.style.left = "-2000px";
            var $07 = document.createElement("div");
            $07.className = $k.$b4("_cell_inner");
            $04.appendChild($07);
            $k.divCells.appendChild($04);
            return $04;
        };
        $3l.fakeRowHeader = function() {
            var $04 = document.createElement("div");
            $04.style.display = "none";
            $04.className = $k.$b4("_rowheader");
            $04.style.position = "absolute";
            $04.style.top = "-2000px";
            $04.style.left = "-2000px";
            var $07 = document.createElement("div");
            $07.className = $k.$b4("_rowheader_inner");
            $04.appendChild($07);
            $k.divResScroll.appendChild($04);
            return $04;
        };
        $3l.fakeExpand = function() {
            var $04 = document.createElement("div");
            $04.style.display = "none";
            $04.className = $k.$b4('_tree_image_expand');
            document.body.appendChild($04);
            return $04;
        };
        $3l.extractUrl = function($3G) {
            var $3H = /url\((")?([^"].*[^"])\1\)/.exec($3G);
            if (!$3H) {
                return null;
            };
            return $3H[2];
        };
        $3l.getImages = function() {
            var $l = {};
            var $1T = $3l.fakeExpand();
            $l.expand = $3l.extractUrl(new DayPilot.StyleReader($1T).get("background-image"));
            $1T.className = $k.$b4("_tree_image_collapse");
            $l.collapse = $3l.extractUrl(new DayPilot.StyleReader($1T).get("background-image"));
            $1T.className = $k.$b4("_tree_image_no_children");
            $l.nochildren = $3l.extractUrl(new DayPilot.StyleReader($1T).get("background-image"));
            DayPilot.de($1T);
            return $l;
        };
        $3l.getFont = function(element) {
            var style = new DayPilot.StyleReader(element).get("font-style");
            var $3I = new DayPilot.StyleReader(element).get("font-family");
            var $3J = new DayPilot.StyleReader(element).get("font-size");
            return {
                "family": $3I,
                "size": $3J,
                "style": style
            };
        };
        $3l.getViewportOffsetStart = function() {
            var $3r = $3l.$dM;
            switch ($3r) {
                case "full":
                    return 0;
                case "viewport":
                    return $k.nav.scroll.scrollLeft;
                case "range":
                    return $k.getPixels($3l.getRangeStart()).boxLeft;
            }
        };
        $3l.getViewportOffsetTop = function() {
            var $3r = $3l.$dM;
            switch ($3r) {
                case "full":
                    return 0;
                case "viewport":
                    return $k.nav.scroll.scrollTop;
                case "range":
                    return $3l.getRangeResStart().top;
            }
        };
        $3l.getViewportOffsetWidth = function() {
            var $3r = $3l.$dM;
            switch ($3r) {
                case "full":
                    return $k.$dN();
                case "viewport":
                    return $k.nav.scroll.offsetWidth;
                case "range":
                    return $k.getPixels($3l.getRangeEnd()).boxRight - $3l.getViewportOffsetStart();
            }
        };
        $3l.excelBoard = function() {
            var $3K = new DayPilot.Excel();
            var $3L = $3K.worksheets.create("Scheduler");
            var $3M = new DayPilot.StyleReader($k.nav.corner).get("background-color");
            var $3N = new DayPilot.StyleReader($k.nav.top).get("border-top-color");
            var $3O = DayPilot.list($k.elements.events).map(function($02) {
                return $02.firstChild;
            }).last();
            var $3P = new DayPilot.StyleReader($3O).get("border-right-color");
            $3K.styles.getDefault().setBackColor("#ffaaaa");
            var $3Q = $3K.styles.create();
            $3Q.setHorizontalAlignment("Center");
            $3Q.setBackColor($3M);
            $3Q.setBorderColor($3N);
            var $3R = $3K.styles.create();
            $3R.setVerticalAlignment("Top");
            $3R.setBackColor($3M);
            $3R.setBorderColor($3N);
            var $3S = $3K.styles.create();
            $3S.setVerticalAlignment("Top");
            $3S.setBackColor("#ff0000");
            $3S.setBorderColor($3P);
            $3L.enableGridlines(false);
            $3L.cell(0, 0).setRowspan($k.timeHeader.length).setStyle($3Q);
            $3L.cell(10, 10).setText("hi there");
            DayPilot.list($k.timeHeader).each(function($02, y) {
                var $0F = {
                    "x": 1,
                    "y": 0
                };
                $3l.getTimeHeader(y, "full").each(function($R, x) {
                    var $3T = $R.colspan;
                    $3L.cell(x + $0F.x, y + $0F.y).setText($R.innerHTML).setColspan($3T).setStyle($3Q);
                });
            });
            DayPilot.list($k.rowlist).each(function($z, y) {
                var $0F = {
                    "x": 0,
                    "y": 1
                };
                var $1Y = "";
                for (var i = 0; i < $z.level; i++) {
                    $1Y += "  ";
                };
                $3L.cell($0F.x, y + $0F.y).setText($1Y + $z.html).setRowspan($z.lines.length).setStyle($3R);
            });
            var $0F = {
                "x": 0,
                "y": $k.timeHeader.length
            };
            var $3U = $0F.y;
            DayPilot.list($k.rowlist).each(function($z, y) {
                DayPilot.list($z.lines).each(function($0x, i) {
                    var $3V = $0F.x;
                    DayPilot.list($0x).each(function(e) {
                        var $M = $k.$bv(e.start()).i;
                        var end = $k.$bv(e.end()).i;
                        var $3T = 1 + end - $M;
                        $3L.cell($M + $3V, y + $3U).setText(e.client.html()).setColspan($3T).setStyle($3S);
                        $3V += $3T - 1;
                    });
                });
                $3U += $z.lines.length - 1;
            });
            return $3K;
        };
        $3l.$dP = null;
        $3l.$dM = null;
        $3l.generate = function($0w, $j) {
            if (typeof $0w === "object") {
                $j = $0w;
                $0w = null;
            };
            var $j = $j || {};
            var $0w = $0w || $j.format || "svg";
            var $3W = $j.scale || 1;
            if ($0w === "xls") {
                return $3l.excelBoard();
            };
            if ($0w === "config") {
                return
            };
            if ($0w.toLowerCase() === "jpg") {
                $0w = "jpeg";
            };
            var $3r = $j.area || "viewport";
            $3l.$dP = $j;
            $3l.$dM = $3r;
            var $C = $3l.getWidth();
            var $T = $3l.getHeight();
            var $3k;
            switch ($0w.toLowerCase()) {
                case "svg":
                    $3k = new DayPilot.Svg($C, $T);
                    break;
                case "png":
                    $3k = new DayPilot.Canvas($C, $T, "image/png", $3W);
                    break;
                case "jpeg":
                    $3k = new DayPilot.Canvas($C, $T, "image/jpeg", $3W, $j.quality);
                    break;
                default:
                    throw "Export format not supported: " + $0w;
            };
            var $3u = $3l.getRectangles();
            var $3X = $3l.getImages();
            var $3Y = new DayPilot.StyleReader($k.nav.top).get("background-color");
            var $3M = new DayPilot.StyleReader($k.nav.corner).get("background-color");
            var $3N = new DayPilot.StyleReader($k.nav.top).get("border-top-color");
            var $3Z = new DayPilot.StyleReader($k.nav.divider).get("background-color");
            var $3O = DayPilot.list($k.elements.events).map(function($02) {
                return $02.firstChild;
            }).last();
            var $3P = new DayPilot.StyleReader($3O).get("border-right-color");
            var $40 = $3l.getFont($3O);
            var $41 = new DayPilot.StyleReader($3O).get("color");
            var $42 = new DayPilot.StyleReader($3O).get("background-color");
            $42 = $k.$dU($42) ? "white" : $42;
            var $3F = $3l.fakeDurationBar();
            var $43 = new DayPilot.StyleReader($3F.firstChild).get("background-color");
            var $44 = new DayPilot.StyleReader($3F.firstChild.firstChild).get("background-color");
            DayPilot.de($3F);
            var $R = $3l.fakeCell();
            var $45 = new DayPilot.StyleReader($R).get("background-color");
            DayPilot.Util.addClass($R, $k.$b4("_cell_business"));
            var $46 = new DayPilot.StyleReader($R).get("background-color");
            var $47 = $3l.getFont($R);
            var $48 = new DayPilot.StyleReader($R).get("color");
            DayPilot.de($R);
            var $49 = DayPilot.Util.firstPropValue($k.$ai.linesVertical);
            var $4a = new DayPilot.StyleReader($49).get("background-color");
            var $4b = $k.$ai.timeHeader["0_0"];
            var $4c = $3l.getFont($4b);
            var $4d = new DayPilot.StyleReader($4b).get("color");
            var $4e = new DayPilot.StyleReader($4b).get("background-color");
            var $4f = $3l.fakeRowHeader();
            var $4g = $3l.getFont($4f);
            var $4h = new DayPilot.StyleReader($4f).get("color");
            var $4i = new DayPilot.StyleReader($4f).get("background-color");
            DayPilot.de($4f);
            var $3B = $3l.getViewportOffsetStart();
            var $4j = $3l.getViewportOffsetTop();
            $3k.fillRect($3u.main, "white");
            $3k.fillRect($3u.main, $3Y);
            $3k.fillRect($3u.corner, $3M);
            var $4k = typeof $k.onBeforeTimeHeaderExport === "function";
            DayPilot.list($k.timeHeader).each(function($02, y) {
                $3l.getTimeHeader(y, $3r).each(function($R) {
                    var $P = $3u.grid.x + $R.left - $3B;
                    var $C = $R.width;
                    var $4l = $4m.timeHeader(y);
                    var top = $4l.top;
                    var $T = $4l.height;
                    var $1A = $R.innerHTML;
                    if ($4k) {
                        var $n = {};
                        $n.header = {};
                        $n.header.start = $R.start;
                        $n.header.end = $R.end;
                        $n.header.level = y;
                        $n.header.text = $R.text;
                        $n.header.html = $R.innerHTML;
                        $n.text = $R.innerHTML;
                        $k.onBeforeTimeHeaderExport($n);
                        $1A = $n.text;
                    };
                    var $4n = Math.max(0, $3u.grid.x - $P);
                    $P += $4n;
                    $C -= $4n;
                    var $4n = Math.max(0, $P + $C - ($3u.grid.x + $3u.grid.w));
                    $C -= $4n;
                    var $4o = {
                        "x": $P,
                        "y": top,
                        "w": $C + 1,
                        "h": $T + 1
                    };
                    $3k.fillRect($4o, $4e);
                    $3k.rect($4o, $3N);
                    $3k.text($4o, $1A, $4c, $4d, "center");
                });
            });
            $3l.getTimeline().each(function($R) {
                var $P = $3u.grid.x + $R.left - $3B;
                var $4n = Math.max(0, $3u.grid.x - $P);
                $P += $4n;
                if ($P === $3u.grid.x) {
                    return;
                };
                $3k.line($P, $3u.grid.y + 1, $P, $3u.grid.y + $3u.grid.h - 2, $4a);
            });
            var $4p = typeof $k.onBeforeCellExport === "function";
            $3l.getRows().each(function($z, y, $1d) {
                var y = $1d.offset + y;
                $3l.getTimeline().each(function($R, x, $4q) {
                    var x = $4q.offset + x;
                    var $2a = $k.$dy(x, y);
                    var $n = $k.$dV(x, y);
                    var $1A = $2a.html;
                    if ($4p) {
                        if (!$n) {
                            $n = {};
                            $n.cell = $k.cells.findXy(x, y)[0];
                        };
                        $n.text = $1A;
                        $k.onBeforeCellExport($n);
                        $1A = $n.text;
                    };
                    var top = $3u.grid.y + $z.top - $4j;
                    var $4r = Math.max(0, $3u.grid.y - top);
                    top += $4r;
                    var $P = $3u.grid.x + $R.left - $3B;
                    var $4n = Math.max(0, $3u.grid.x - $P);
                    $P += $4n;
                    var $4s = $2a.business;
                    var $3Y = $2a.backColor || ($4s ? $46 : $45);
                    var $4t = {
                        "x": $P,
                        "y": top,
                        "w": $R.width,
                        "h": $z.height
                    };
                    $3k.fillRect($4t, $3Y);
                    var $4u = {};
                    $4u.x = $4t.x + 1;
                    $4u.y = $4t.y + 1;
                    $4u.w = $4t.w - 2;
                    $4u.h = $4t.h - 2;
                    if ($1A) {
                        $3k.text($4u, $1A, $47, $48);
                    }
                });
            });
            $3l.getRows().each(function($z) {
                var top = $3u.grid.y + $z.top - $4j;
                var $4r = Math.max(0, $3u.grid.y - top);
                top += $4r;
                if (top === $3u.grid.y) {
                    return;
                };
                $3k.line($3u.gridContent.x + 1, top, $3u.gridContent.x + $3u.gridContent.w - 1, top, $4a);
            });
            var $4v = typeof $k.onBeforeRowHeaderExport === "function";
            $3l.getRows().each(function($z) {
                var top = $3u.grid.y + $z.top - $4j;
                var $4r = Math.max(0, $3u.grid.y - top);
                top += $4r;
                var $4w = 10;
                var $P = $z.level * $k.treeIndent + $k.treeImageMarginLeft;
                var $4t = {
                    "x": 0,
                    "y": top,
                    "w": $3u.grid.x + 1,
                    "h": $z.height + 1
                };
                var $1A = $z.html;
                if ($4v) {
                    var $n = {};
                    $n.row = $k.$cF($z);
                    $n.text = $z.html;
                    $k.onBeforeRowHeaderExport($n);
                    $1A = $n.text;
                };
                var $4x = {
                    "x": $P,
                    "y": top + $k.treeImageMarginTop,
                    "w": 10,
                    "h": 10
                };
                var $4y = $k.treeEnabled ? $P + $4w + 3 : $P;
                var $4z = {
                    "x": $4y,
                    "y": top,
                    "w": $4t.w - ($P + $4w),
                    "h": $z.height + 1
                };
                $3k.fillRect($4t, $4i);
                $3k.text($4z, $1A, $4g, $4h);
                $3k.rect($4t, $3N);
                if ($k.treeEnabled) {
                    var $4A = null;
                    if (DayPilot.list($z.children).isEmpty()) {
                        $4A = $3X.nochildren;
                    } else if ($z.expanded) {
                        $4A = $3X.collapse;
                    } else {
                        $4A = $3X.expand;
                    };
                    $3k.image($4x, $4A);
                }
            });
            $3l.getEvents().each(function(e) {
                var $4B = $k.rowlist[e.part.dayIndex].top;
                var $C = e.part.width;
                var $4C = e.part.barWidth;
                var $4D = e.client && e.client.barVisible && e.client.barVisible();
                var top = $3u.grid.y + $4B + e.part.top - $4j;
                var $4r = Math.max(0, $3u.grid.y - top);
                top += $4r;
                var $P = $3u.grid.x + e.part.left - $3B;
                var $4n = Math.max(0, $3u.grid.x - $P);
                $P += $4n;
                $C -= $4n;
                $4C -= $4n;
                var $0z = e.cache || e.data;
                var $4E = $0z.barColor || $44;
                var $4F = $0z.barBackColor || $43;
                var $3Y = $0z.backColor || $42;
                var $4G = 5;
                var $4H = 2;
                var $4I = 2;
                var $n = {};
                $n.e = e;
                $n.text = e.text ? e.text() : e.client.html();
                if (typeof $k.onBeforeEventExport === "function") {
                    $k.onBeforeEventExport($n);
                };
                var $4t = {
                    "x": $P,
                    "y": top,
                    "w": $C,
                    "h": e.part.height
                };
                var $4J = {
                    "x": $P,
                    "y": top,
                    "w": $C,
                    "h": $4G
                };
                var $4K = {
                    "x": $P + e.part.barLeft,
                    "y": top,
                    "w": $4C,
                    "h": $4G
                };
                var $4L = {
                    "x": $P + $4H,
                    "y": top + $4G,
                    "w": $C - $4H,
                    "h": e.part.height - $4G
                };
                $3k.fillRect($4t, $3Y);
                $3k.text($4t, $n.text, $40, $41, "left", $4I);
                $3k.rect($4t, $3P);
                if ($4D) {
                    $3k.fillRect($4J, $4F);
                    if ($4C > 0) {
                        $3k.fillRect($4K, $4E);
                    }
                }
            });
            $3k.rect($3u.main, $3N);
            $3k.line($3u.grid.x, 0, $3u.grid.x, $3u.main.h, $3Z);
            $3k.line(0, $3u.grid.y, $3u.main.w, $3u.grid.y, $3Z);
            return $3k;
        };
        this.$dU = function($2f) {
            if ($2f === "transparent") {
                return true;
            };
            if ($2f === "rgba(0, 0, 0, 0)") {
                return true;
            };
            return false;
        };
        this.$dW = {};
        var $4M = this.$dW;
        $4M.findJointDivs = function(e) {
            var id = e.data.join;
            if (!id) {
                return DayPilot.list();
            };
            var $2m = DayPilot.list($k.elements.events).filter(function($02) {
                return $02.event.data.join === id && $02.event !== e;
            });
            return $2m;
        };
        this.$dX = {};
        var $16 = this.$dX;
        $16.divs = [];
        $16.list = [];
        $16.forbidden = false;
        $16.additional = function() {
            var $00 = DayPilot.list();
            var $4N = $k.multiselect.isSelected(DayPilotScheduler.resizing.event);
            var $4O = $k.allowMultiResize;
            var $00 = DayPilot.list();
            if ($4N && $4O) {
                $00 = DayPilot.list($k.multiselect.divs).filter(function($02) {
                    return $02 !== DayPilotScheduler.resizing;
                });
            };
            if ($k.jointEventsResize) {
                var j = $4M.findJointDivs(DayPilotScheduler.resizing.event);
                $00 = $00.concat(j);
            };
            return $00;
        };
        $16.update = function() {
            $16.clear();
            $16.draw();
        };
        $16.clear = function() {
            DayPilot.de($16.divs);
            $16.divs = [];
        };
        $16.draw = function() {
            if (!DayPilotScheduler.resizing) {
                return;
            };
            var e = DayPilotScheduler.resizing.event;
            var $22 = DayPilotScheduler.resizingShadow;
            var $4P = $22.start.getTime() - e.start().getTime();
            var $4Q = $22.end.getTime() - e.end().getTime();
            var $4R = 0;
            $16.list = [];
            $16.forbidden = false;
            $16.invalid = false;
            $16.rowoffset = $4R;
            $16.additional().each(function($02) {
                if (!$02.event) {
                    return;
                };
                var event = $02.event;
                var $z = $k.rowlist[event.part.dayIndex + $4R];
                if (!$z) {
                    $16.invalid = true;
                    return;
                };
                var top = event.part.top + $z.top;
                var $T = event.part.height;
                if ($4R) {
                    top = $z.top;
                    $T = $z.height;
                };
                var $38 = event.start().addTime($4P);
                var $39 = event.end().addTime($4Q);
                var $17 = {};
                $17.event = event;
                $17.start = $38;
                $17.end = $39;
                $17.overlapping = false;
                $16.list.push($17);
                var $3b = $k.getPixels($38);
                var $3c = $k.getPixels($39);
                var $0P = DayPilot.DateUtil.diff(event.rawend(), event.start());
                $0P = Math.max($0P, 1);
                var $2R = $0d.useBox($0P);
                var $P = ($2R) ? $3b.boxLeft : $3b.left;
                var $C = ($2R) ? ($3c.boxRight - $P) : ($3c.left - $P);
                var $04 = document.createElement("div");
                $04.style.position = "absolute";
                $04.style.left = $P + "px";
                $04.style.top = top + "px";
                $04.style.height = $T + "px";
                $04.style.width = $C + "px";
                $04.style.zIndex = 101;
                $04.style.overflow = "hidden";
                $04.className = $k.$b4("_shadow");
                $04.info = $17;
                var $07 = document.createElement("div");
                $07.className = $k.$b4("_shadow_inner");
                $04.appendChild($07);
                $k.$aT.appendChild($04);
                $16.divs.push($04);
            });
            if ($16.invalid) {
                var $4S = $k.$b4("_shadow_overlap");
                DayPilot.list($16.divs).each(function($02) {
                    DayPilot.Util.addClass($02, $4S);
                });
                return;
            };
            DayPilot.list($16.divs).each(function($02) {
                if (!$02.info) {
                    return;
                };
                var $04 = $02;
                var $17 = $02.info;
                var event = $02.info.event;
                var $z = $k.rowlist[event.part.dayIndex + $4R];
                var $3b = $k.getPixels($17.start);
                var $3c = $k.getPixels($17.end);
                var $P = $3b.left;
                var $C = $3c.left - $P;
                var $4T = DayPilot.list($16.list).map(function($02) {
                    return $02.event.data;
                }).add(DayPilotScheduler.resizing.event.data);
                $k.$dY($04, $z, $P, $C, $4T);
                if ($04.overlapping) {
                    $17.overlapping = true;
                    $16.forbidden = true;
                }
            });
        };
        this.$dZ = {};
        var $4U = this.$dZ;
        $4U.modifiedProps = function() {
            var $4V = new DayPilot.Scheduler();
            var $4W = DayPilot.Util.members($k, 2);
            var $l = [];
            $l.push("<div id='dp'></div>");
            $l.push("<script>");
            $l.push("var dp = new DayPilot.Scheduler('dp');");
            $4W.properties.each(function($02) {
                var name = $02.name;
                var $4X = name.split(".");
                var $4Y = $4X.length > 1;
                var $4Z, $50;
                if ($4Y) {
                    var $51 = $4X[0];
                    var $52 = $4X[1];
                    $4Z = DayPilot.JSON.stringify($4V[$51][$52]);
                    $50 = DayPilot.JSON.stringify($k[$51][$52]);
                } else {
                    $4Z = DayPilot.JSON.stringify($4V[name]);
                    $50 = DayPilot.JSON.stringify($k[name]);
                };
                if ($4Z !== $50) {
                    $l.push("dp." + name + " = " + $50 + ";");
                }
            });
            $4W.events.each(function($02) {
                var name = $02.name;
                if (typeof $k[name] === "function") {
                    $l.push("dp." + name + " = " + $k[name].toString() + ";");
                }
            });
            $l.push("dp.init();");
            $l.push("</script>");
            return $l.join("\n");
        };
        this.$e0 = {};
        var mm = this.$e0;
        mm.divs = [];
        mm.list = [];
        mm.forbidden = false;
        mm.verticalAll = function() {
            return $k.multiMoveVerticalMode === "All";
        };
        mm.additional = function() {
            var $00 = DayPilot.list();
            var $4N = $k.multiselect.isSelected(DayPilotScheduler.movingEvent);
            var $4O = $k.allowMultiMove;
            var $00 = DayPilot.list();
            if ($4N && $4O) {
                $00 = DayPilot.list($k.multiselect.divs).filter(function($02) {
                    return $02 !== DayPilotScheduler.moving && $02 !== $0R.moving;
                });
            };
            if ($k.jointEventsMove) {
                var j = $4M.findJointDivs(DayPilotScheduler.movingEvent);
                $00 = $00.concat(j);
            };
            return $00;
        };
        mm.update = function() {
            mm.clear();
            mm.draw();
        };
        mm.draw = function() {
            if (!DayPilotScheduler.moving) {
                return;
            };
            var e = DayPilotScheduler.movingEvent;
            var $M = DayPilotScheduler.movingShadow.start;
            var $0F = $M.getTime() - e.start().getTime();
            var $53 = e.part.dayIndex;
            var $54 = DayPilot.indexOf($k.rowlist, DayPilotScheduler.movingShadow.row);
            var $4R = $54 - $53;
            if (!mm.verticalAll()) {
                $4R = 0;
            };
            mm.list = [];
            mm.forbidden = false;
            mm.invalid = false;
            mm.rowoffset = $4R;
            mm.additional().each(function($02) {
                if (!$02.event) {
                    return;
                };
                var event = $02.event;
                var $z = $k.rowlist[event.part.dayIndex + $4R];
                if (!$z) {
                    mm.invalid = true;
                    return;
                };
                var top = event.part.top + $z.top;
                var $T = event.part.height;
                if ($4R) {
                    top = $z.top;
                    $T = $z.height;
                };
                var $38 = event.start().addTime($0F);
                var $39 = event.end().addTime($0F);
                var $17 = {};
                $17.event = event;
                $17.start = $38;
                $17.end = $39;
                $17.overlapping = false;
                mm.list.push($17);
                var $3b = $k.getPixels($38);
                var $3c = $k.getPixels($39);
                var $0P = DayPilot.DateUtil.diff(event.rawend(), event.start());
                $0P = Math.max($0P, 1);
                var $2R = $0d.useBox($0P);
                var $P = ($2R) ? $3b.boxLeft : $3b.left;
                var $C = ($2R) ? ($3c.boxRight - $P) : ($3c.left - $P);
                var $04 = document.createElement("div");
                $04.style.position = "absolute";
                $04.style.left = $P + "px";
                $04.style.top = top + "px";
                $04.style.height = $T + "px";
                $04.style.width = $C + "px";
                $04.style.zIndex = 101;
                $04.style.overflow = "hidden";
                $04.className = $k.$b4("_shadow");
                $04.info = $17;
                var $07 = document.createElement("div");
                $07.className = $k.$b4("_shadow_inner");
                $04.appendChild($07);
                $k.$aT.appendChild($04);
                mm.divs.push($04);
            });
            if (mm.invalid) {
                var $4S = $k.$b4("_shadow_overlap");
                DayPilot.list(mm.divs).each(function($02) {
                    DayPilot.Util.addClass($02, $4S);
                });
                return;
            };
            DayPilot.list(mm.divs).each(function($02) {
                if (!$02.info) {
                    return;
                };
                var $04 = $02;
                var $17 = $02.info;
                var event = $02.info.event;
                var $z = $k.rowlist[event.part.dayIndex + $4R];
                var $3b = $k.getPixels($17.start);
                var $3c = $k.getPixels($17.end);
                var $P = $3b.left;
                var $C = $3c.left - $P;
                var $4T = DayPilot.list(mm.list).map(function($02) {
                    return $02.event.data;
                }).add(DayPilotScheduler.movingEvent.data);
                $k.$dY($04, $z, $P, $C, $4T);
                if ($04.overlapping) {
                    $17.overlapping = true;
                    mm.forbidden = true;
                }
            });
        };
        mm.clear = function() {
            DayPilot.de(mm.divs);
            mm.divs = [];
        };
        this.$e1 = function() {
            var $21 = $k.coords;
            var $3i = DayPilotScheduler.resizing.dpBorder;
            var e = DayPilotScheduler.resizing.event;
            var $55 = e.part.left;
            if ($3i == "right") {
                $55 += e.part.width;
            };
            var $56 = DayPilotScheduler.resizing.event.calendar.cellWidth;
            var $57 = DayPilotScheduler.resizing.event.part.width;
            var $58 = DayPilotScheduler.resizing.event.part.left;
            var $59 = 0;
            var $5a = ($21.x - $55);
            var $5b, $5c;
            if ($3i === 'right') {
                $5b = $58;
                if ($k.snapToGrid) {
                    var $0J = $k.$bt($57 + $58 + $5a).cell;
                    var $5d = $0J.left + $0J.width;
                    $5c = $5d - $58;
                    if ($5c < $56) {
                        $5c = $56;
                    }
                } else {
                    $5c = $57 + $5a;
                };
                var $B = $k.$dN();
                if ($58 + $5c > $B) {
                    $5c = $B - $58;
                };
                DayPilotScheduler.resizingShadow.style.width = ($5c) + 'px';
            } else if ($3i === 'left') {
                if ($k.snapToGrid) {
                    if ($5a >= $57) {
                        $5a = $57;
                    };
                    $5b = Math.floor((($58 + $5a) + 0) / $56) * $56;
                    if ($5b < $59) {
                        $5b = $59;
                    }
                } else {
                    $5b = $58 + $5a;
                };
                $5c = $57 - ($5b - $58);
                var $Q = $58 + $57;
                var $5e = $56;
                if (!$k.snapToGrid) {
                    $5e = 1;
                } else if ($k.useEventBoxes === "Never") {
                    if ($57 < $56) {
                        $5e = $57;
                    } else {
                        $5e = 1;
                    }
                };
                if ($5c < $5e) {
                    $5c = $5e;
                    $5b = $Q - $5c;
                };
                DayPilotScheduler.resizingShadow.style.left = $5b + 'px';
                DayPilotScheduler.resizingShadow.style.width = ($5c) + 'px';
            } else {
                throw "Invalid dpBorder.";
            };
            (function checkOverlap() {
                var ev = DayPilotScheduler.resizing.event;
                var $z = $k.rowlist[ev.part.dayIndex];
                var $P = $5b;
                var $C = $5c;
                $k.$dY(DayPilotScheduler.resizingShadow, $z, $P, $C, ev.data);
            })();
            $k.$e2();
        };
        this.$dJ = function() {
            var scroll = this.nav.scroll;
            if (!$k.coords) {
                return;
            };
            if (!DayPilotScheduler.moving) {
                return;
            };
            $k.$b8();
            var $22 = DayPilotScheduler.movingShadow;
            var $21 = this.$dc(DayPilotScheduler.moving);
            if ($k.$df($21.rowIndex)) {
                return;
            };
            var ev = DayPilotScheduler.movingEvent;
            var $5f = 0;
            var $5g = 0;
            (function calculatePosition() {
                if ($k.cellStacking) {
                    var y = $21.relativeY;
                    var $5h = $k.$bt($21.left).x;
                    var $z = $21.row;
                    var $5i = $z.evColumns[$5h];
                    var e = $5i.events.find(function(e) {
                        return y < e.part.top + e.part.height + $k.eventMarginBottom;
                    });
                    if (!e) {
                        e = $5i.events.last();
                    };
                    if (e) {
                        $5g = e.part.top;
                        $5f = DayPilot.indexOf($5i.events, e);
                        if ((y - e.part.top) > e.part.height / 2) {
                            $5g = e.part.top + e.part.height + $k.eventMarginBottom / 2;
                            $5f += 1;
                        }
                    }
                } else {
                    var y = $21.relativeY;
                    var $z = $21.row;
                    var top = 0;
                    var lh = $k.$dd.eventHeight();
                    var $B = $z.lines.length;
                    for (var i = 0; i < $z.lines.length; i++) {
                        var $0x = $z.lines[i];
                        if ($0x.isFree($21.left, $k.cellWidth)) {
                            $B = i;
                            break;
                        }
                    };
                    var $I = Math.floor((y - top + lh / 2) / lh);
                    var $I = Math.min($B, $I);
                    var $I = Math.max(0, $I);
                    $5f = $I;
                    $5g = $k.rowMarginTop + $5f * ($k.$dd.eventHeight() + $k.eventMarginBottom) + $k.eventMarginBottom / 2;
                }
            })();
            if ($5g > 0) {
                $5g -= 3;
            };
            var $23 = (ev.cache && typeof ev.cache.moveVDisabled !== 'undefined') ? !ev.cache.moveVDisabled : !ev.data.moveVDisabled;
            var $24 = (ev.cache && typeof ev.cache.moveHDisabled !== 'undefined') ? !ev.cache.moveHDisabled : !ev.data.moveHDisabled;
            var $5j = !mm.additional().isEmpty();
            if ($5j && $k.multiMoveVerticalMode === "Disabled") {
                $23 = false;
            };
            if ($23) {
                if (!this.$df($21.rowIndex)) {
                    $22.row = $21.row;
                    $22.style.height = Math.max($21.row.height, 0) + 'px';
                    $22.style.top = ($21.top) + 'px';
                    if ($k.eventMoveToPosition) {
                        $22.style.top = ($21.top + $5g) + "px";
                        $22.style.height = "3px";
                        $22.line = $5f;
                    }
                } else {
                    var $5k = $22.row;
                    var $5l = 1;
                    if ($5k) {
                        $5l = $21.rowIndex < $5k.index ? 1 : -1;
                    } else {
                        return;
                    };
                    for (var i = $21.rowIndex; i !== $5k.index; i += $5l) {
                        var $z = this.rowlist[i];
                        if (!this.$df(i) && !$z.hidden) {
                            $22.style.top = ($z.top) + 'px';
                            $22.style.height = Math.max($z.height, 0) + 'px';
                            $22.row = $z;
                            if ($k.eventMoveToPosition) {
                                $5f = $5l > 0 ? 0 : $z.lines.length - 1;
                                $22.style.top = ($21.top + $5g) + "px";
                                $22.style.height = "3px";
                                $22.line = $5f;
                            };
                            break;
                        }
                    }
                }
            } else {
                var $5k = $k.rowlist[ev.part.dayIndex];
                var $B = $5k.lines.length;
                for (var i = 0; i < $5k.lines.length; i++) {
                    var $0x = $5k.lines[i];
                    if ($0x.isFree($21.left, $k.cellWidth)) {
                        $B = i;
                        break;
                    }
                };
                if (!$5j) {
                    $22.style.height = Math.max($5k.height, 0) + 'px';
                    $22.style.top = ($5k.top) + 'px';
                };
                $22.row = $5k;
                if ($k.eventMoveToPosition && !$5j) {
                    if ($21.row === $5k) {
                        $22.style.top = ($5k.top + $5g) + "px";
                        $22.style.height = "3px";
                        $22.line = $5f;
                    } else {
                        var $I = ($21.rowIndex > $5k.index && $B > 0) ? $B * $k.$dd.eventHeight() - 3 : 0;
                        $22.style.top = ($5k.top + $I) + "px";
                        $22.style.height = "3px";
                        $22.line = 0;
                    }
                }
            };
            if ($24) {
                $22.style.left = $21.left + 'px';
                if ($k.eventMoveToPosition) {
                    $22.style.width = ($k.cellWidth) + 'px';
                } else {
                    $22.style.width = ($21.width) + 'px';
                };
                $22.start = $21.start;
                $22.end = $21.end;
            } else {
                $22.style.left = ev.part.left + "px";
                $22.start = ev.start();
                $22.end = ev.rawend();
            };
            (function checkOverlap() {
                var $z = $22.row;
                var $s = ev.data;
                var $C = $21.width;
                var $P = $21.left;
                var $4T = DayPilot.list(mm.list).map(function($02) {
                    return $02.event.data;
                }).add($s);
                $k.$dY($22, $z, $P, $C, $4T);
            })();
            (function() {
                var $0G = $k.$cn;
                if ($0G && $0G.start.getTime() === $22.start.getTime() && $0G.end.getTime() === $22.end.getTime() && $0G.resource === $22.row.id) {
                    return;
                };
                mm.update();
                var external = (DayPilotScheduler.drag ? true : false) && ev.part.external;
                var $n = {};
                $n.start = $22.start;
                $n.end = $k.$bN($22.end);
                $n.duration = new DayPilot.Duration($n.start, $n.end);
                $n.e = ev;
                $n.external = external;
                $n.resource = $22.row.id;
                $n.row = $k.$cF($22.row);
                $n.position = $22.line;
                $n.overlapping = $22.overlapping || mm.forbidden;
                $n.allowed = true;
                $n.left = {};
                $n.left.html = $n.start.toString($k.eventMovingStartEndFormat, $0d.locale());
                $n.left.enabled = $k.eventMovingStartEndEnabled;
                $n.right = {};
                $n.right.html = $n.end.toString($k.eventMovingStartEndFormat, $0d.locale());
                $n.right.enabled = $k.eventMovingStartEndEnabled;
                $n.multimove = DayPilot.list(mm.list);
                var $17 = {};
                $17.event = ev;
                $17.start = $n.start;
                $17.end = $n.end;
                $n.multimove.splice(0, 0, $17);
                $k.$cn = $n;
                var $0o = {
                    "start": $n.start,
                    "end": $n.end
                };
                if (typeof $k.onEventMoving === 'function') {
                    $k.onEventMoving($n);
                };
                $22.allowed = $n.allowed;
                if ($n.start !== $0o.start || $n.end !== $0o.end) {
                    var $M = $n.start;
                    var end = $k.$ck($n.end);
                    $22.start = $M;
                    $22.end = end;
                    var $0P = DayPilot.DateUtil.diff($M, end);
                    $0P = Math.max($0P, 1);
                    var $2R = $0d.useBox($0P);
                    var $P = $2R ? $k.getPixels($M).boxLeft : $k.getPixels($M).left;
                    var $Q = $2R ? $k.getPixels(end).boxRight : $k.getPixels(end).left;
                    $22.style.left = $P + "px";
                    $22.style.width = ($Q - $P) + "px";
                };
                $k.$e3($22, $n);
                DayPilot.Util.addClass(DayPilotScheduler.moving, $k.$b4($08.eventMovingSource));
                $k.$e4(DayPilotScheduler.movingShadow, $n);
            })();
        };
        this.$dY = function($22, $z, $P, $C, $s) {
            if ($k.allowEventOverlap) {
                return;
            };
            (function calculate() {
                $22.overlapping = false;
                for (var i = 0; i < $z.lines.length; i++) {
                    var $0x = $z.lines[i];
                    if (!$0x.isFree($P, $C, $s)) {
                        $22.overlapping = true;
                        return;
                    }
                };
                if (!$k.allowMultiRange) {
                    return;
                };
                var $5m = $z.index;
                var $5n = DayPilot.list(mr.list).some(function($02) {
                    var $04 = $02.div;
                    var $5o = parseInt($04.style.left);
                    var $5p = parseInt($04.style.width);
                    var ry = $02.start.y;
                    if ($22 === $04) {
                        return false;
                    };
                    if (ry !== $5m) {
                        return false;
                    };
                    return DayPilot.Util.overlaps($P, $P + $C, $5o, $5o + $5p);
                });
                if ($5n) {
                    $22.overlapping = true;
                    return;
                }
            })();
            var $5q = $22.overlapping;
            var $4S = $k.$b4("_shadow_overlap");
            if ($5q) {
                DayPilot.Util.addClass($22, $4S);
            } else {
                DayPilot.Util.removeClass($22, $4S);
            }
        };
        this.$e3 = function($22, $n) {
            var $4S = $k.$b4("_shadow_forbidden");
            if (!$n.allowed || mm.invalid) {
                DayPilot.Util.addClass($22, $4S);
            } else {
                DayPilot.Util.removeClass($22, $4S);
            }
        };
        this.$e4 = function($22, $n) {
            var $5r = 5;
            this.$e5();
            var $I = {};
            $I.left = parseInt($22.style.left);
            $I.top = parseInt($22.style.top);
            $I.right = $I.left + parseInt($22.style.width);
            var $C = $n.left.width || 10;
            var $P = document.createElement("div");
            $P.style.position = "absolute";
            $P.style.left = ($I.left - $C - $5r) + "px";
            $P.style.top = $I.top + "px";
            $P.style.height = $k.eventHeight + "px";
            $P.style.overflow = "hidden";
            $P.style.boxSizing = "border-box";
            $P.innerHTML = $n.left.html;
            $P.className = this.$b4("_event_move_left");
            if ($n.left.enabled) {
                $k.divHover.appendChild($P);
                if ($n.left.width) {
                    $P.style.width = $C + "px";
                } else {
                    $P.style.whiteSpace = "nowrap";
                    var $5s = $P.offsetWidth;
                    var $5t = $I.left - $5s - $5r;
                    $P.style.width = $5s + "px";
                    $P.style.left = $5t + "px";
                    var $5u = $k.nav.scroll.scrollLeft;
                    if ($5t < $5u) {
                        $k.divHover.removeChild($P);
                    };
                    var $5v = $k.$e6() + ($5t - $5u);
                    if ($5v > 0) {
                        $P.style.left = $5v + "px";
                        $P.style.top = ($I.top - $k.nav.scroll.scrollTop + $k.$b6()) + "px";
                        $k.nav.top.appendChild($P);
                        $k.elements.hover.push($P);
                    }
                }
            };
            var $Q = document.createElement("div");
            $Q.style.position = "absolute";
            $Q.style.left = ($I.right + $5r) + "px";
            $Q.style.top = $I.top + "px";
            $Q.style.height = $k.eventHeight + "px";
            $Q.style.overflow = "hidden";
            $Q.style.boxSizing = "border-box";
            if ($n.right.width) {
                $Q.style.width = $n.right.width + "px";
            } else {
                $Q.style.whiteSpace = "nowrap";
            };
            $Q.innerHTML = $n.right.html;
            $Q.className = this.$b4("_event_move_right");
            if ($n.right.enabled) {
                $k.divHover.appendChild($Q);
                var $5w = $k.nav.scroll.scrollWidth;
                var $5x = $I.right + $5r + $Q.offsetWidth;
                if ($5x >= $5w) {
                    $k.divHover.removeChild($Q);
                }
            }
        };
        this.$e5 = function() {
            $k.divHover.innerHTML = '';
            DayPilot.de($k.elements.hover);
            $k.elements.hover = [];
        };
        this.$e7 = function() {
            var $5y = $k.rowHeaderColumnDefaultWidth;
            if (this.rowHeaderColumns) {
                this.rowHeaderCols = DayPilot.Util.propArray(this.rowHeaderColumns, "width", $5y);
            }
        };
        this.$e6 = function() {
            var $3A = 0;
            this.$e7();
            if (this.rowHeaderCols) {
                for (var i = 0; i < this.rowHeaderCols.length; i++) {
                    $3A += this.rowHeaderCols[i];
                }
            } else {
                $3A = this.rowHeaderWidth;
            };
            return $3A;
        };
        this.$e8 = function() {
            return this.$e9($k.progressiveRowRenderingPreload);
        };
        this.$e9 = function($5z) {
            var $5z = $5z || 0;
            var $M = 0;
            var end = $k.rowlist.length;
            var $5A = $k.progressiveRowRendering;
            if ($5A) {
                var $L = $k.$aX();
                $M = $L.yStart;
                end = $L.yEnd + 1;
                $M = Math.max(0, $M - $5z);
                end = Math.min($k.rowlist.length, end + $5z);
            };
            return {
                "start": $M,
                "end": end
            }
        };
        this.$ea = function() {
            if (!this.$eb()) {
                return;
            };
            var $5B = false;
            var $5C = 0;
            if (this.rowHeaderWidthAutoFit) {
                var $5D = this.divHeader;
                if (!$5D) {
                    return;
                };
                if (!$5D.rows) {
                    return;
                };
                var $B = [];
                var $1t = $k.$e8();
                for (var i = $1t.start; i < $1t.end; i++) {
                    var $z = $5D.rows[i];
                    if (!$z) {
                        continue;
                    };
                    if ($z.hidden) {
                        continue;
                    };
                    if ($z.autofitDone) {
                        continue;
                    };
                    $z.autofitDone = true;
                    for (var j = 0; j < $z.cells.length; j++) {
                        var $07 = $z.cells[j].firstChild.firstChild;
                        if (!$07 || !$07.style) {
                            continue;
                        };
                        var $5E = $07.style.width;
                        var $5F = $07.style.right;
                        $07.style.position = "absolute";
                        $07.style.width = "auto";
                        $07.style.right = "auto";
                        $07.style.whiteSpace = "nowrap";
                        var w = $07.offsetWidth + 2;
                        $07.style.position = "";
                        $07.style.width = $5E;
                        $07.style.right = $5F;
                        $07.style.whiteSpace = "";
                        if (typeof $B[j] === 'undefined') {
                            $B[j] = 0;
                        };
                        $B[j] = Math.max($B[j], w);
                    }
                };
                this.$e7();
                if (this.rowHeaderCols) {
                    for (var i = 0; i < $B.length; i++) {
                        if (this.rowHeaderCols[i]) {
                            if ($B[i] > this.rowHeaderCols[i]) {
                                this.rowHeaderCols[i] = $B[i];
                                $5B = true;
                            };
                            $5C += this.rowHeaderCols[i];
                        }
                    }
                } else {
                    $5C = this.rowHeaderWidth;
                    if (this.rowHeaderWidth < $B[0] + $k.rowHeaderWidthMarginRight) {
                        $5C = $B[0] + $k.rowHeaderWidthMarginRight;
                        $5B = true;
                    }
                }
            };
            if ($5B) {
                if (this.$ec) {
                    this.$ec.widths = this.rowHeaderCols;
                    this.$ec.updateWidths();
                    DayPilot.Util.updatePropsFromArray(this.rowHeaderColumns, "width", this.rowHeaderCols);
                };
                if (!this.rowHeaderScrolling) {
                    this.rowHeaderWidth = $5C;
                };
                this.$c9();
                this.$ed();
            }
        };
        this.$aw = function() {
            this.$ee = true;
            this.$e7();
            var $3A = this.$e6();
            var $5G = this.divHeader;
            if ($5G) {
                $5G.innerHTML = '';
                DayPilot.puc($5G);
            } else {
                $5G = document.createElement("div");
                $5G.onmousemove = function() {
                    $k.$ef();
                };
                this.divHeader = $5G;
            };
            $5G.style.width = $3A + "px";
            $5G.style.height = $k.$ah + "px";
            $5G.rows = [];
            var $5A = $k.progressiveRowRendering;
            if ($5A) {
                $e();
            } else {
                var m = this.rowlist.length;
                for (var i = 0; i < m; i++) {
                    $k.$eg(i);
                }
            };
            $k.$eh();
            this.divResScroll.appendChild($5G);
            if (this.rowHeaderWidthAutoFit) {
                this.$ea();
            }
        };
        this.$ca = function() {
            if (!$k.progressiveRowRendering) {
                return;
            };
            var $L = this.$e8();
            for (var i = 0; i < $k.rowlist.length; i++) {
                if ($L.start <= i && i < $L.end) {
                    $k.$eg(i);
                } else {
                    $k.$ei(i);
                }
            };
            if (this.rowHeaderWidthAutoFit) {
                var $57 = $k.$b7();
                this.$ea();
                var $5c = $k.$b7();
                if ($5c !== $57) {
                    var $5H = this.cellWidth;
                    this.$ar();
                    var $5I = this.cellWidth;
                    if ($5I !== $5H) {
                        this.$as();
                        this.$ax();
                        this.$aD();
                        this.$av();
                    }
                }
            }
        };
        this.$eh = function() {
            var $5G = $k.divHeader;
            var $5J = this.rowHeaderCols;
            var $1W = $5J ? this.rowHeaderCols.length : 0;
            var $3A = this.$e6();
            var c = document.createElement("div");
            c.style.position = "absolute";
            c.style.top = this.$ah + "px";
            c.colSpan = $1W + 1;
            c.style.width = $3A + "px";
            c.style.height = ($k.divResScroll.clientHeight + 20) + "px";
            $5G.appendChild(c);
            $k.nav.resScrollSpace = c;
            c.setAttribute("unselectable", "on");
            var $04 = document.createElement("div");
            $04.style.position = "relative";
            $04.style.height = "100%";
            $04.className = this.$b4('_rowheader');
            c.appendChild($04);
        };
        this.$ei = function(i) {
            var $z = $k.divHeader.rows[i];
            if (!$z) {
                return;
            };
            DayPilot.de($z.cells);
            $k.divHeader.rows[i] = null;
        };
        this.$ce = function(i) {
            this.$ei(i);
            this.$eg(i);
        };
        this.$eg = function(i) {
            var $5G = $k.divHeader;
            var $5K = this.divHeader;
            if ($5K.rows[i]) {
                return;
            };
            var $5J = this.rowHeaderCols;
            var $1W = $5J ? this.rowHeaderCols.length : 0;
            var $3A = this.$e6();
            var $z = this.rowlist[i];
            if (!$z) {
                return;
            };
            if ($z.hidden) {
                return;
            };
            var $n = this.$ej($z);
            $5K.rows[i] = {};
            $5K.rows[i].cells = [];
            var c = document.createElement("div");
            c.style.position = "absolute";
            c.style.top = $z.top + "px";
            c.row = $z;
            c.index = i;
            var $2a = $n.row;
            var $C = $5J ? $5J[0] : this.rowHeaderWidth;
            c.style.width = ($C) + "px";
            c.style.border = "0px none";
            if ($2a.toolTip) {
                c.title = $2a.toolTip;
            };
            c.setAttribute("unselectable", "on");
            c.onmousemove = $k.$ek;
            c.onmouseout = $k.$el;
            c.onmouseup = $k.$em;
            c.oncontextmenu = $k.$en;
            c.onclick = $k.$eo;
            c.ondblclick = $k.$ep;
            var $04 = document.createElement("div");
            $04.style.width = ($C) + "px";
            $04.setAttribute("unselectable", "on");
            $04.className = this.$b4('_rowheader');
            if ($2a.cssClass) {
                DayPilot.Util.addClass($04, $2a.cssClass);
            };
            if ($2a.backColor) {
                $04.style.background = $2a.backColor;
            };
            $04.style.height = ($z.height) + "px";
            $04.style.overflow = 'hidden';
            $04.style.position = 'relative';
            var $07 = document.createElement("div");
            $07.setAttribute("unselectable", "on");
            $07.className = this.$b4('_rowheader_inner');
            $04.appendChild($07);
            var $0R = this.rowMoveHandling !== "Disabled";
            var $5L = 10;
            var $5M = $2a.areas || [];
            if ($0R && !$2a.moveDisabled) {
                $5M.push({
                    "v": "Hover",
                    "w": $5L,
                    "bottom": 0,
                    "top": 0,
                    "left": 0,
                    "css": $k.$b4("_rowmove_handle"),
                    "action": "Move"
                });
            };
            var ro = $k.$cF($z);
            DayPilot.Areas.attach($04, ro, {
                "areas": $5M,
                "allowed": function() {
                    return !$5N.row;
                }
            });
            var $3i = document.createElement("div");
            $3i.style.position = "absolute";
            $3i.style.bottom = "0px";
            $3i.style.width = "100%";
            $3i.style.height = "1px";
            $3i.className = this.$b4($08.resourcedivider);
            $04.appendChild($3i);
            (function drawText() {
                if ($k.treeEnabled && !$z.isNewRow) {
                    var $P = $z.level * $k.treeIndent + $k.treeImageMarginLeft;
                    if ($0R) {
                        $P += $5L;
                    };
                    var $C = 10;
                    var $3e = document.createElement("div");
                    $3e.style.width = "10px";
                    $3e.style.height = $C + "px";
                    $3e.style.backgroundRepeat = "no-repeat";
                    $3e.style.position = 'absolute';
                    $3e.style.left = $P + 'px';
                    $3e.style.top = $k.treeImageMarginTop + "px";
                    if (!$z.loaded && $z.children.length === 0) {
                        $3e.className = $k.$b4('_tree_image_expand');
                        $3e.style.cursor = 'pointer';
                        $3e.index = i;
                        $3e.onclick = function(ev) {
                            $k.$eq(this.index);
                            ev = ev || window.event;
                            ev.cancelBubble = true;
                        };
                    } else if ($z.children.length > 0) {
                        if ($z.expanded) {
                            $3e.className = $k.$b4('_tree_image_collapse');
                        } else {
                            $3e.className = $k.$b4('_tree_image_expand');
                        };
                        $3e.style.cursor = 'pointer';
                        $3e.index = i;
                        $3e.onclick = function(ev) {
                            $k.$dI(this.index);
                            ev = ev || window.event;
                            ev.cancelBubble = true;
                        };
                    } else {
                        $3e.className = $k.$b4('_tree_image_no_children');
                    };
                    $07.appendChild($3e);
                };
                var $1A = document.createElement("div");
                if ($k.treeEnabled) {
                    $1A.style.marginLeft = ($P + $C) + "px";
                };
                $1A.innerHTML = $2a.html;
                c.textDiv = $1A;
                c.cellDiv = $04;
                $07.appendChild($1A);
            })();
            c.appendChild($04);
            if ($2a.areas) {
                for (var j = 0; j < $2a.areas.length; j++) {
                    var $L = $2a.areas[j];
                    var v = $L.v || "Visible";
                    if (v !== "Visible") {
                        continue;
                    };
                    var r = $k.$cF($z);
                    var a = DayPilot.Areas.createArea($04, r, $L);
                    $04.appendChild(a);
                }
            };
            $5G.appendChild(c);
            $5K.rows[i].cells.push(c);
            if (!$z.columns || $z.columns.length === 0) {
                c.colSpan = $1W > 0 ? $1W : 1;
                $04.style.width = $3A + "px";
            } else {
                var $P = $C;
                for (var j = 1; j < $1W; j++) {
                    var $5O = $2a.columns[j - 1] || {};
                    var c = document.createElement("div");
                    c.style.position = "absolute";
                    c.style.top = $z.top + "px";
                    c.style.left = $P + "px";
                    $5G.appendChild(c);
                    $5K.rows[i].cells.push(c);
                    c.row = $z;
                    c.index = i;
                    if ($2a.toolTip) {
                        c.title = $2a.toolTip;
                    };
                    c.setAttribute("unselectable", "on");
                    c.onmousemove = $k.$ek;
                    c.onmouseout = $k.$el;
                    c.onmouseup = $k.$em;
                    c.oncontextmenu = $k.$en;
                    c.onclick = $k.$eo;
                    c.ondblclick = $k.$ep;
                    var $04 = document.createElement("div");
                    var w = $5J[j];
                    $P += w;
                    var $3Y = $5O.backColor || $2a.backColor;
                    if ($3Y) {
                        $04.style.backgroundColor = $3Y;
                    };
                    $04.style.width = w + "px";
                    $04.style.height = ($z.height) + "px";
                    $04.style.overflow = 'hidden';
                    $04.style.position = 'relative';
                    $04.setAttribute("unselectable", "on");
                    DayPilot.Util.addClass($04, this.$b4("_rowheader"));
                    DayPilot.Util.addClass($04, this.$b4("_rowheadercol"));
                    DayPilot.Util.addClass($04, this.$b4("_rowheadercol" + j));
                    if ($2a.cssClass) {
                        DayPilot.Util.addClass($04, $2a.cssClass);
                    };
                    if ($5O.cssClass) {
                        DayPilot.Util.addClass($04, $5O.cssClass);
                    };
                    var $07 = document.createElement("div");
                    $07.setAttribute("unselectable", "on");
                    $07.className = this.$b4("_rowheader_inner");
                    $04.appendChild($07);
                    var $3i = document.createElement("div");
                    $3i.style.position = "absolute";
                    $3i.style.bottom = "0px";
                    $3i.style.width = "100%";
                    $3i.style.height = "1px";
                    $3i.className = this.$b4("_resourcedivider");
                    $04.appendChild($3i);
                    var $1A = document.createElement("div");
                    var $5P = $5O.html || "";
                    $1A.innerHTML = $5P;
                    c.textDiv = $1A;
                    c.cellDiv = $04;
                    $07.appendChild($1A);
                    c.appendChild($04);
                }
            }
        };
        this.$en = function() {
            var $z = this.row;
            if ($z.contextMenu) {
                $z.contextMenu.show($k.$cF($z));
            };
            return false;
        };
        this.$eo = function(ev) {
            if ($1z.cancelClick) {
                return;
            };
            var $z = this.row;
            var r = $k.$cF($z, this.index);
            if ($z.isNewRow) {
                $k.$cJ.edit($z);
                return;
            };
            $k.$cG(r, ev.ctrlKey, ev.shiftKey, ev.metaKey);
        };
        this.$ep = function(ev) {
            if ($k.timeouts.resClick) {
                for (var $12 in $k.timeouts.resClick) {
                    window.clearTimeout($k.timeouts.resClick[$12]);
                };
                $k.timeouts.resClick = null;
            };
            var $z = this.row;
            var e = $k.$cF($z, this.index);
            if ($k.$aR()) {
                var $n = {};
                $n.resource = e;
                $n.row = e;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $k.onRowDoubleClick === 'function') {
                    $k.onRowDoubleClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($k.rowDoubleClickHandling) {
                    case 'PostBack':
                        $k.rowDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $k.rowDoubleClickCallBack(e);
                        break;
                    case 'Select':
                        $k.$cI($z, ev.ctrlKey, ev.shiftKey, ev.metaKey);
                        break;
                    case 'Edit':
                        $k.$cJ.edit($z);
                        break;
                };
                if (typeof $k.onRowDoubleClicked === 'function') {
                    $k.onRowDoubleClicked($n);
                }
            } else {
                switch ($k.rowDoubleClickHandling) {
                    case 'PostBack':
                        $k.rowDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $k.rowDoubleClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $k.onRowDoubleClick(e);
                        break;
                    case 'Select':
                        $k.$cI($z, ev.ctrlKey, ev.shiftKey, ev.metaKey);
                        break;
                    case 'Edit':
                        $k.$cJ.edit($z);
                        break;
                }
            }
        };
        this.rowDoubleClickPostBack = function(e, $s) {
            var $0Y = {};
            $0Y.resource = e;
            this.$bz("RowDoubleClick", $0Y, $s);
        };
        this.rowDoubleClickCallBack = function(e, $s) {
            var $0Y = {};
            $0Y.resource = e;
            this.$bA("RowDoubleClick", $0Y, $s);
        };
        this.$er = function(ev) {
            var $R = {};
            $R.start = this.cell.start;
            $R.level = this.cell.level;
            $R.end = this.cell.end;
            if (!$R.end) {
                $R.end = new DayPilot.Date($R.start).addMinutes($k.cellDuration);
            };
            $k.$cK($R);
        };
        this.$cF = function($z) {
            return new DayPilot.Row($z, $k);
        };
        this.$bl = function(i) {
            var $z = this.rowlist[i];
            if (!$z.events) {
                $z.resetEvents();
            };
            if ($z.data) {
                return;
            };
            $z.data = {};
            $z.data.start = new DayPilot.Date($z.start);
            $z.data.startTicks = $z.data.start.getTime();
            var $0P = this.$bo().getTime() - this.$bk().getTime();
            $z.data.end = $0d.isResourcesView() ? $z.data.start.addTime($0P) : $z.data.start.addDays(1);
            $z.data.endTicks = $z.data.end.getTime();
            $z.data.offset = $z.start.getTime() - this.$bk().getTime();
            $z.data.i = i;
        };
        this.$av = function($01) {
            if ($01) {
                this.events.list = $01;
            } else if (!this.events.list) {
                this.events.list = [];
            };
            $5Q.prepareRows(true);
            var $00 = this.events.list;
            var $5R = $00.length;
            var $5S = typeof this.onBeforeEventRender === 'function';
            var $1d;
            var $5T = $k.viewType === "Resources";
            for (var j = 0; j < $5R; j++) {
                var $5U = $00[j];
                if (!$5U) {
                    continue;
                };
                if ($5U instanceof DayPilot.Event) {
                    throw "DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.";
                };
                if ($5S) {
                    this.$dq(j);
                };
                if ($5U.resource === "*") {
                    $1d = $k.rowlist;
                } else if ($5T) {
                    $1d = DayPilot.list($5Q.rowcache[$5U.resource]).concat($5Q.rowcache["*"]);
                } else if ($k.viewType === "Days") {
                    $1d = $k.rowlist;
                } else if ($k.viewType === "Gantt") {
                    $1d = $5Q.rowcache[$5U.id];
                };
                for (var x = 0; $1d && x < $1d.length; x++) {
                    var $z = $1d[x];
                    var ep = this.$dr($5U, $z);
                    if (!ep) {
                        continue;
                    };
                    if ($5S) {
                        ep.cache = this.$ai.events[j];
                    }
                }
            };
            DayPilot.list($k.rowlist).each(function($z) {
                $k.$es($z);
            });
            this.$bU();
        };
        this.$et = function($01) {
            var $5V = [];
            var $5W = [];
            var $5X = null;
            if ($01 && $5Y) {
                var $5Z = $01;
                var $5X = [];
                for (var i = 0; i < $5Z.length; i++) {
                    var e = $5Z[i];
                    var $60 = false;
                    for (var j = 0; j < this.events.list.length; j++) {
                        var ex = this.events.list[j];
                        if (ex.id === e.id && ex.start.toString() === e.start.toString() && ex.resource === e.resource) {
                            var $1d = $k.events.$bR(ex);
                            $5W = $5W.concat($1d);
                            this.events.list[j] = e;
                            $60 = true;
                            break;
                        }
                    };
                    if (!$60) {
                        $5X.push(e);
                    }
                };
                this.events.list = this.events.list.concat($5X);
            } else if ($01) {
                this.events.list = $01;
            } else if (!this.events.list) {
                this.events.list = [];
            };
            var $00 = $5X || this.events.list;
            if ($01) {
                this.events.list = $01;
            } else if (!this.events.list) {
                this.events.list = [];
            };
            var $00 = this.events.list;
            var $61 = $00.length;
            if (typeof this.onBeforeEventRender === 'function') {
                var $M = $5X ? this.events.list.length - $5X.length : 0;
                var end = this.events.list.length;
                for (var i = $M; i < end; i++) {
                    this.$dq(i);
                }
            };
            var $62 = !this.$dp();
            var $63 = true;
            if ($63) {
                var $64 = !$5X || typeof $z.events === "undefined";
                $5Q.prepareRows($64);
                for (var j = 0; $00 && j < $61; j++) {
                    if ($5V[j]) {
                        continue;
                    };
                    var $5U = $00[j];
                    if (!$5U) {
                        continue;
                    };
                    var $1d = [];
                    if ($5U.resource === "*") {
                        $1d = $k.rowlist;
                    } else if ($k.viewType === "Days") {
                        $1d = $k.rowlist;
                    } else if ($k.viewType === "Gantt") {
                        $1d = $5Q.rowcache[$5U.id];
                    } else {
                        $1d = $5Q.rowcache[$5U.resource];
                    };
                    for (var x = 0; $1d && x < $1d.length; x++) {
                        var $z = $1d[x];
                        var ep = this.$dr($5U, $z);
                        if (!ep) {
                            continue;
                        };
                        if (typeof this.onBeforeEventRender === 'function') {
                            ep.cache = this.$ai.events[j + $M];
                        };
                        $5W.push($z.index);
                    }
                }
            } else {
                for (var i = 0; i < this.rowlist.length; i++) {
                    var $z = this.rowlist[i];
                    if (!$5X || typeof $z.events === "undefined") {
                        $z.resetEvents();
                    };
                    $k.$bl(i);
                    if (this.$df(i)) {
                        continue;
                    };
                    for (var j = 0; $00 && j < $61; j++) {
                        if ($5V[j]) {
                            continue;
                        };
                        var e = $00[j];
                        var ep = this.$dr(e, $z);
                        if (!ep) {
                            continue;
                        };
                        if (typeof this.onBeforeEventRender === 'function') {
                            ep.cache = this.$ai.events[j + $M];
                        };
                        $5W.push(i);
                        if ($62) {
                            if (ep.data.resource !== "*" && ep.part.start.getTime() === ep.start().getTime() && ep.part.end.getTime() === ep.rawend().getTime()) {
                                $5V[j] = true;
                            }
                        }
                    }
                }
            };
            for (var i = 0; i < this.rowlist.length; i++) {
                var $z = this.rowlist[i];
                this.$es($z);
            };
            this.$bU();
            return DayPilot.ua($5W);
        };
        this.$eu = {};
        var $5Q = this.$eu;
        $5Q.rowCache = {};
        $5Q.prepareRows = function($64) {
            $5Q.rowcache = {};
            for (var i = 0; i < $k.rowlist.length; i++) {
                var $z = $k.rowlist[i];
                if ($64) {
                    $z.resetEvents();
                };
                $k.$bl(i);
                if (!$z.id) {
                    continue;
                };
                var $65 = $z.id.toString();
                if (!$5Q.rowcache[$65]) {
                    $5Q.rowcache[$65] = DayPilot.list();
                };
                $5Q.rowcache[$65].push($z);
            }
        };
        $5Q.loadEvent = function($5U) {};
        this.$dp = function() {
            var $66 = {};
            if ($k.viewType !== "Resources") {
                return false;
            };
            for (var i = 0; i < $k.rowlist.length; i++) {
                var $z = $k.rowlist[i];
                var id = $z.id;
                if ($66[id]) {
                    return true;
                };
                $66[id] = true;
            };
            return false;
        };
        this.$dq = function(i) {
            var $0z = this.$ai.events;
            var $s = this.events.list[i];
            var $67 = {};
            if ($s instanceof DayPilot.Event) {
                $s = $s.data;
            };
            for (var name in $s) {
                $67[name] = $s[name];
            };
            if (typeof this.onBeforeEventRender === 'function') {
                var $n = {};
                $n.e = $67;
                $n.data = $67;
                this.onBeforeEventRender($n);
            };
            $0z[i] = $67;
        };
        this.$es = function($z) {
            $z.lines = [];
            $z.sections = null;
            if ($z.isNewRow) {
                return;
            };
            if (this.sortDirections) {
                $z.events.sort(this.$ev);
            } else if (!$k.cellStacking) {
                $z.events.sort(this.$ew);
            };
            var $68 = $k.cellStacking;
            if ($68) {
                $69.loadRow($z);
                return;
            };
            var $6a = $k.groupConcurrentEvents;
            if ($6a) {
                for (var i = 0; i < $z.blocks.length; i++) {
                    $z.blocks[i].clear();
                }
            };
            DayPilot.list($z.events).each(function(e) {
                if (e.part.height) {
                    return;
                };
                if ($z.eventHeight) {
                    e.part.height = $z.eventHeight;
                    return;
                };
                e.part.height = $0d.eventHeight();
            });
            for (var j = 0; j < $z.events.length; j++) {
                var e = $z.events[j];
                $z.putIntoLine(e);
                if ($6a) {
                    $z.putIntoBlock(e);
                }
            };
            var $6b = 0;
            for (var i = 0; i < $z.lines.length; i++) {
                var $0x = $z.lines[i];
                $0x.top = $6b;
                $6b += ($0x.height || $z.eventHeight) * $z.eventStackingLineHeight / 100;
            };
            if ($6a) {
                for (var j = 0; j < $z.blocks.length; j++) {
                    var $6c = $z.blocks[j];
                    $6c.lines = [];
                    $6c.events.sort(this.$ev);
                    for (var k = 0; k < $6c.events.length; k++) {
                        var e = $6c.events[k];
                        $6c.putIntoLine(e);
                    };
                    if ($6c.lines.length <= $k.groupConcurrentEventsLimit) {
                        $6c.expanded = true;
                    };
                    var $6d = DayPilot.list($6c.events).map(function(e) {
                        return e.id();
                    }).some(function($02) {
                        return DayPilot.contains($k.$ex, $02);
                    });
                    if ($6d) {
                        $6c.expanded = true;
                    };
                    var $6b = 0;
                    for (var i = 0; i < $6c.lines.length; i++) {
                        var $0x = $6c.lines[i];
                        $0x.top = $6b;
                        $6b += ($0x.height || $z.eventHeight) * $z.eventStackingLineHeight / 100;
                    }
                }
            }
        };
        this.$bT = function($1d) {
            $1d = DayPilot.ua($1d);
            for (var i = 0; i < $1d.length; i++) {
                var ri = $1d[i];
                $k.$es($k.rowlist[ri]);
            };
            if ($k.cellStacking) {
                $69.calculateEventPositions();
            } else {
                for (var i = 0; i < $1d.length; i++) {
                    var ri = $1d[i];
                    var $z = $k.rowlist[ri];
                    $k.$ey($z);
                }
            }
        };
        this.$dC = function() {
            var $M = $k.scale === "Manual" ? $k.itline[0].start : $k.startDate;
            return DayPilot.list($k.rowlist).some(function($02) {
                if (!$02.start) {
                    return false;
                };
                return $02.start.getTime() !== new DayPilot.Date($M).getTime();
            });
        };
        this.$dr = function(e, $z) {
            var $M = new DayPilot.Date(e.start);
            var end = new DayPilot.Date(e.end);
            end = $k.$ck(end);
            var $6e = $M.ticks;
            var $6f = end.ticks;
            if ($6f < $6e) {
                return null;
            };
            var $0z = null;
            if (typeof $k.onBeforeEventRender === 'function') {
                var $1B = DayPilot.indexOf($k.events.list, e);
                $0z = $k.$ai.events[$1B];
            };
            if ($0z) {
                if ($0z.hidden) {
                    return null;
                }
            } else if (e.hidden) {
                return null;
            };
            var $6g = false;
            switch (this.viewType) {
                case 'Days':
                    $6g = !($6f <= $z.data.startTicks || $6e >= $z.data.endTicks) || ($6e === $6f && $6e === $z.data.startTicks);
                    break;
                case 'Resources':
                    $6g = ($z.id === e.resource || $z.id === "*" || e.resource === "*") && (!($6f <= $z.data.startTicks || $6e >= $z.data.endTicks) || ($6e === $6f && $6e === $z.data.startTicks));
                    break;
                case 'Gantt':
                    $6g = ($z.id === e.id) && !($6f <= $z.data.startTicks || $6e >= $z.data.endTicks);
                    break;
            };
            if (!$6g) {
                return null;
            };
            var ep = new DayPilot.Event(e, $k);
            ep.part.dayIndex = $z.data.i;
            ep.part.start = $z.data.startTicks < $6e ? $M : $z.data.start;
            ep.part.end = $z.data.endTicks > $6f ? end : $z.data.end;
            var $6h = this.getPixels(ep.part.start.addTime(-$z.data.offset));
            var $6i = this.getPixels(ep.part.end.addTime(-$z.data.offset));
            if (ep.part.start === ep.part.end) {
                $6i = this.getPixels(ep.part.end.addTime(-$z.data.offset).addSeconds(1));
            };
            if ($0z && $0z.height) {
                ep.part.height = $0z.height;
            } else if (e.height) {
                ep.part.height = e.height;
            };
            ep.part.$ez = function() {
                var $6j = this.height;
                if ($k.eventVersionsEnabled && !DayPilot.list(ep.data.versions).isEmpty()) {
                    var $0j = ep.versions.length;
                    $6j += $0j * $k.eventVersionHeight;
                    $6j += $0j * $k.eventVersionMargin;
                };
                return $6j + $k.eventMarginBottom;
            };
            var $P = $6h.left;
            var $Q = $6i.left;
            ep.part.startPixels = $6h;
            ep.part.endPixels = $6i;
            if ($P === $Q) {
                if ($6h.cut || $6i.cut) {
                    return null;
                };
                var $27 = (ep.part.start.addTime(-$z.data.offset).getTime() + ep.part.end.addTime(-$z.data.offset).getTime()) / 2;
                var $6k = $k.getPixels(new DayPilot.Date(Math.floor($27)));
                if ($6k.cut) {
                    return null;
                }
            };
            ep.part.box = $0d.useBox($6f - $6e);
            var $2T = $k.eventHeight;
            if (e.type === "Milestone") {
                var $C = e.width || $2T;
                ep.part.end = ep.part.start;
                ep.part.left = $P - $C / 2;
                ep.part.width = $C;
                ep.part.barLeft = 0;
                ep.part.barWidth = $C;
            } else if (ep.part.box) {
                var $6l = $6h.boxLeft;
                var $6m = $6i.boxRight;
                ep.part.left = $6l;
                ep.part.width = $6m - $6l;
                ep.part.barLeft = Math.max($P - ep.part.left, 0);
                ep.part.barWidth = Math.max($Q - $P, 1);
            } else {
                ep.part.left = $P;
                ep.part.width = Math.max($Q - $P, 1);
                ep.part.barLeft = 0;
                ep.part.barWidth = Math.max($Q - $P - 1, 1);
            };
            if ($k.eventVersionsEnabled) {
                $k.$eA(ep, $z);
            };
            if (typeof $k.onEventFilter === "function" && $k.events.$dn) {
                var $n = {};
                $n.filter = $k.events.$dn;
                $n.visible = true;
                $n.e = ep;
                $k.onEventFilter($n);
                if (!$n.visible) {
                    return null;
                }
            };
            $z.events.push(ep);
            return ep;
        };
        this.$eA = function(ep, $z) {
            ep.versions = [];
            var $s = ep.data;
            var $00 = DayPilot.list($s.versions);
            if ($00.isEmpty()) {
                return;
            };
            $00.each(function($1C) {
                var $M = new DayPilot.Date($1C.start);
                var end = new DayPilot.Date($1C.end);
                var $6h = $k.getPixels($M.addTime(-$z.data.offset));
                var $6i = $k.getPixels(end.addTime(-$z.data.offset));
                if ($M.ticks === end.ticks) {
                    $6i = $k.getPixels(end.addTime(-$z.data.offset).addTime(1));
                };
                var $P = $6h.left;
                var $Q = $6i.left;
                if ($P === $Q && ($6h.cut || $6i.cut)) {
                    return null;
                };
                var $6n = {};
                $6n.left = $P;
                $6n.continueLeft = $M < $z.data.start;
                $6n.right = $Q;
                $6n.continueRight = end > $z.data.end;
                $6n.width = $Q - $P;
                ep.versions.push($6n);
            });
        };
        this.$ew = function(a, b) {
            if (!a || !b || !a.start || !b.start) {
                return 0;
            };
            var $6o = a.start().ticks - b.start().ticks;
            if ($6o !== 0) {
                return $6o;
            };
            var $6p = b.end().ticks - a.end().ticks;
            return $6p;
        };
        this.$ev = function(a, b) {
            if (!a || !b) {
                return 0;
            };
            if (!a.data || !b.data || !a.data.sort || !b.data.sort || a.data.sort.length === 0 || b.data.sort.length === 0) {
                return $k.$ew(a, b);
            };
            var $l = 0;
            var i = 0;
            while ($l === 0 && typeof a.data.sort[i] !== "undefined" && typeof b.data.sort[i] !== "undefined") {
                if (a.data.sort[i] === b.data.sort[i]) {
                    $l = 0;
                } else if (typeof a.data.sort[i] === "number" && typeof b.data.sort[i] === "number") {
                    $l = a.data.sort[i] - b.data.sort[i];
                } else {
                    $l = $k.$eB(a.data.sort[i], b.data.sort[i], $k.sortDirections[i]);
                };
                i++;
            };
            return $l;
        };
        this.$eB = function(a, b, $6q) {
            var $6r = ($6q !== "desc");
            var $6s = $6r ? -1 : 1;
            var $6t = -$6s;
            if (a === null && b === null) {
                return 0;
            };
            if (b === null) {
                return $6t;
            };
            if (a === null) {
                return $6s;
            };
            var ar = [];
            ar[0] = a;
            ar[1] = b;
            ar.sort();
            return a === ar[0] ? $6s : $6t;
        };
        this.$cI = function($z, $1f, $1E, $1g) {
            if ($k.$aR()) {
                var $1B = DayPilot.indexOf($k.rowlist, $z);
                var e = $k.$cF($z, $1B);
                var $6u = DayPilot.indexOf($1z.selected, $z) !== -1;
                var $0X = $6u ? "deselected" : "selected";
                var $n = {};
                $n.row = e;
                $n.selected = $6u;
                $n.ctrl = $1f;
                $n.shift = $1E;
                $n.meta = $1g;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $k.onRowSelect === 'function') {
                    $k.onRowSelect($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                var $6v = $1E && !$1f && !$1g;
                if (!$1E) {
                    $1z.$eC = {
                        "row": $z,
                        "index": $1B
                    };
                };
                if ($6v) {
                    $1z.fixRowSelectLast();
                    var $6w = $1z.$eC.index;
                    var $6x = $1B;
                    $1z.selectRange($6w, $6x);
                };
                switch ($k.rowSelectHandling) {
                    case 'PostBack':
                        $k.rowSelectPostBack(e, $0X);
                        break;
                    case 'CallBack':
                        $k.rowSelectCallBack(e, $0X);
                        break;
                    case "Notify":
                        !$6v && $1z.select($z, $1f, $1E, $1g);
                        $k.rowSelectNotify(e, $0X);
                        break;
                    case 'Update':
                        !$6v && $1z.select($z, $1f, $1E, $1g);
                        break;
                };
                if (typeof $k.onRowSelected === 'function') {
                    $n.selected = DayPilot.indexOf($1z.selected, $z) !== -1;
                    $k.onRowSelected($n);
                }
            } else {
                $1z.select($z, $1f, $1E);
                var $1B = DayPilot.indexOf($k.rowlist, $z);
                var e = $k.$cF($z, $1B);
                var $6u = DayPilot.indexOf($1z.selected, $z) !== -1;
                var $0X = $6u ? "deselected" : "selected";
                switch ($k.rowSelectHandling) {
                    case 'PostBack':
                        $k.rowSelectPostBack(e, $0X);
                        break;
                    case 'CallBack':
                        $k.rowSelectCallBack(e, $0X);
                        break;
                    case "Notify":
                        $k.rowSelectNotify(e, $0X);
                        break;
                    case 'JavaScript':
                        $k.onRowSelect(e, $0X);
                        break;
                }
            }
        };
        this.rowSelectPostBack = function(r, $0X, $s) {
            var $0Y = {};
            $0Y.resource = r;
            $0Y.change = $0X;
            this.$bz('RowSelect', $0Y, $s);
        };
        this.rowSelectCallBack = function(r, $0X, $s) {
            var $0Y = {};
            $0Y.resource = r;
            $0Y.change = $0X;
            this.$bA('RowSelect', $0Y, $s);
        };
        this.rowSelectNotify = function(r, $0X, $s) {
            var $0Y = {};
            $0Y.resource = r;
            $0Y.change = $0X;
            this.$bA('RowSelect', $0Y, $s, "Notify");
        };
        this.rows = {};
        this.rows.selection = {};
        var $6y = this.rows.selection;
        $6y.get = function() {
            var $00 = [];
            DayPilot.list($1z.selected).each(function($02) {
                $00.push($k.$cF($02));
            });
            return $00;
        };
        $6y.clear = function() {
            $1z.clearSelection();
        };
        $6y.add = function($z) {
            if (!$z || !$z.isRow) {
                throw "DayPilot.Scheduler.rows.selection.add(): DayPilot.Row object expected";
            };
            var $6z = DayPilot.list($1z.selected).some(function($02) {
                return $02 === $z.$.row;
            });
            if (!$6z) {
                $1z.selected.push($z.$.row);
            };
            $1z.$eD();
            $6y.$eE();
        };
        $6y.$eE = function() {
            $k.selectedRows = DayPilot.list($1z.selected).map(function($02) {
                return $02.id;
            });
        };
        this.rows.all = function() {
            var $00 = [];
            for (var i = 0; i < $k.rowlist.length; i++) {
                var r = $k.$cF($k.rowlist[i]);
                $00.push(r);
            };
            return $2L($00);
        };
        this.rows.each = function(f) {
            $k.rows.all().each(f);
        };
        this.rows.filter = function($6A) {
            $k.rows.$dn = $6A;
            $k.$bY({
                "immediateEvents": true
            });
        };
        this.rows.find = function(id, $M) {
            var $6B = DayPilot.list($5Q.rowcache[id]);
            var $0M = null;
            if (typeof $M === "string") {
                $0M = $6B.find(function($02) {
                    return $M === $02.start.toString();
                });
            } else {
                $0M = $6B.first();
            };
            if ($0M) {
                return new DayPilot.Row($0M, $k);
            };
            return null;
        };
        this.rows.load = function($2y) {
            DayPilot.ajax({
                "method": "POST",
                "url": $2y,
                "success": function($n) {
                    var r = $n.request;
                    var $s = DayPilot.Util.parseJSON(r.responseText);
                    if (DayPilot.isArray($s)) {
                        $k.resources = $s;
                        if ($k.$cd) {
                            $k.update();
                        }
                    }
                }
            });
        };
        this.rows.expand = function($6C) {
            var $1d = [];
            var $6D = $6C || 1;
            for (var i = 0; i < $k.rowlist.length; i++) {
                var $z = $k.rowlist[i];
                var $6E = $6D === -1;
                if ($z.level < $6D) {
                    $6E = true;
                };
                if ($6E && !$z.expanded && $z.children && $z.children.length > 0) {
                    $1d.push($z.index);
                }
            };
            if ($1d.length === 0) {
                return;
            };
            if ($1d.length === 1) {
                $k.$dI($1d[0]);
            } else {
                for (var i = 0; i < $1d.length; i++) {
                    var $1B = $1d[i];
                    var $z = $k.rowlist[$1B];
                    $z.expanded = true;
                };
                $k.$bY();
            }
        };
        this.rows.expandAll = function() {
            $k.rows.expand(-1);
        };
        this.rows.headerHide = function() {
            $k.$eF = true;
            $k.$eG();
            $k.$ed();
            $k.$bc();
        };
        this.rows.headerShow = function() {
            $k.$eF = false;
            $k.$eG();
            $k.$ed();
            $k.$bc();
        };
        this.rows.headerToggle = function() {
            if ($k.$eF) {
                $k.rows.headerShow();
            } else {
                $k.rows.headerHide();
            }
        };
        this.rows.edit = function($z) {
            $1z.edit($z.$.row);
        };
        this.rows.remove = function($z) {
            var $s = $z.$.row.resource;
            var $6F = $6G.findParentArray($s);
            if (!$6F) {
                throw "Cannot find source node parent";
            };
            var $6H = DayPilot.indexOf($6F, $s);
            $6F.splice($6H, 1);
            $k.update();
        };
        this.$eH = function() {
            var $1C = $5N.source;
            var $1D = $5N.target;
            var $y = $5N.position;
            $1z.resetMoving();
            if ($k.$aR()) {
                var $n = {};
                $n.source = $k.$cF($1C);
                $n.target = $k.$cF($1D);
                $n.position = $y;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $k.onRowMove === "function") {
                    $k.onRowMove($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($k.rowMoveHandling) {
                    case "Update":
                        $1z.move($n);
                        break;
                    case "CallBack":
                        $k.rowMoveCallBack($n.source, $n.target, $n.position);
                        break;
                    case "PostBack":
                        $k.rowMovePostBack($n.source, $n.target, $n.position);
                        break;
                    case "Notify":
                        $1z.move($n);
                        $k.rowMoveNotify($n.source, $n.target, $n.position);
                        break;
                };
                if (typeof $k.onRowMoved === "function") {
                    $k.onRowMoved($n);
                }
            } else {
                var $1C = $k.$cF($1C);
                var $1D = $k.$cF($1D);
                var $y = $y;
                switch ($k.rowMoveHandling) {
                    case "CallBack":
                        $k.rowMoveCallBack($1C, $1D, $y);
                        break;
                    case "PostBack":
                        $k.rowMovePostBack($1C, $1D, $y);
                        break;
                    case "JavaScript":
                        $k.onRowMove($1C, $1D, $y);
                        break;
                }
            }
        };
        this.$aP = function($1d) {
            var $00 = DayPilot.list($1d);
            $1z.selected = [];
            if (!$00.isEmpty()) {
                $k.$a8 = false;
                $k.$au();
            };
            $00.each(function($02) {
                var $z = $k.$aV($02);
                if ($z) {
                    $1z.selected.push($z);
                }
            });
            $1z.$eD();
        };
        this.$cJ = {};
        var $1z = this.$cJ;
        $1z.edit = function($z) {
            var $6I = $1z.$eI($z);
        };
        $1z.rowSelectLastSetDefault = function() {
            $1z.$eC = {
                "row": $k.rowlist[0],
                "index": 0
            };
        };
        $1z.rowSelectSetLast = function($z) {
            var $1B = DayPilot.indexOf($k.rowlist, $z);
            if ($1B === -1) {
                throw "DayPilot.Scheduler: Row not found when selecting a range";
            };
            $1z.$eC = {
                "row": $z,
                "index": $1B
            };
        };
        $1z.fixRowSelectLast = function() {
            if (!$1z.$eC) {
                $1z.rowSelectLastSetDefault();
            };
            var $1B = DayPilot.indexOf($k.rowlist, $1z.$eC.row);
            if ($1B > -1) {
                return;
            };
            var $z = $k.$aV($1z.$eC.row.id);
            if ($z) {
                $1B = DayPilot.indexOf($k.rowlist, $z);
                $1z.$eC = {
                    "row": $z,
                    "index": $1B
                };
            } else {
                $1z.rowSelectLastSetDefault();
            }
        };
        $1z.createOverlay = function($z) {
            var $C = $k.$e6();
            var $2M = $k.$b4("_rowmove_source");
            var $04 = DayPilot.Util.div($k.divHeader, 0, $z.top, $C, $z.height);
            $04.className = $2M;
            $z.moveOverlay = $04;
        };
        $1z.deleteOverlay = function($z) {
            DayPilot.de($z.moveOverlay);
            $z.moveOverlay = null;
        };
        $1z.$eI = function($z) {
            var r = $1z.$cC($z);
            var c = r.cells[0];
            if (c.input) {
                return c.input;
            };
            var $C = c.clientWidth;
            if ($z.isNewRow) {
                $C = $k.$b7();
            };
            var $6I = document.createElement("textarea");
            $6I.style.position = "absolute";
            $6I.style.top = "0px";
            $6I.style.left = "0px";
            $6I.style.width = $C + "px";
            $6I.style.height = $z.height + "px";
            $6I.style.border = "0px none";
            $6I.style.overflow = "hidden";
            $6I.style.boxSizing = "border-box";
            $6I.style.resize = "none";
            var $1Z = c.textDiv;
            $6I.style.fontFamily = DayPilot.gs($1Z, 'fontFamily') || DayPilot.gs($1Z, 'font-family');
            $6I.style.fontSize = DayPilot.gs($1Z, 'fontSize') || DayPilot.gs($1Z, 'font-size');
            $6I.value = $z.html;
            c.firstChild.appendChild($6I);
            c.input = $6I;
            var $6J = function() {
                try {
                    c.input.parentNode.removeChild(c.input);
                } catch (e) {
                    $e();
                };
                c.input = null;
            };
            $6I.focus();
            $6I.onblur = function() {
                $6I.onblur = null;
                var $1y = $6I.value;
                var $1B = DayPilot.indexOf($k.rowlist, $z);
                $6J();
                if (!$6I.canceled) {
                    $k.$cE($z, $1y);
                }
            };
            $6I.onkeydown = function(e) {
                var $6K = (window.event) ? event.keyCode : e.keyCode;
                if ($6K === 27) {
                    $6I.canceled = true;
                    $6J();
                };
                if ($6K === 13) {
                    $6I.onblur();
                    return false;
                };
                return true;
            };
            if ($6I.setSelectionRange) {
                $6I.setSelectionRange(0, 9999);
            } else {
                $6I.select();
            };
            return $6I;
        };
        $1z.selected = [];
        $1z.select = function($z, $1f, $1E, $1g) {
            var $6u = DayPilot.indexOf($1z.selected, $z) !== -1;
            if ($1f || $1g) {
                if ($6u) {
                    $1z.unselect($z);
                    DayPilot.rfa($1z.selected, $z);
                    return;
                }
            } else {
                $6u = false;
                $1z.clearSelection();
            };
            $1z.$eJ($z);
            if (!$6u) {
                $1z.selected.push($z);
            };
            $6y.$eE();
        };
        $1z.selectRange = function($6w, $6x) {
            $1z.clearSelection();
            var $5e = Math.min($6w, $6x);
            var $B = Math.max($6w, $6x);
            for (var i = $5e; i <= $B; i++) {
                var $z = $k.rowlist[i];
                $1z.$eJ($z);
                $1z.selected.push($z);
            };
            $6y.$eE();
        };
        $1z.$eD = function() {
            for (var i = 0; i < $1z.selected.length; i++) {
                var $z = $1z.selected[i];
                $1z.$eJ($z);
            }
        };
        $1z.$eJ = function($z) {
            var y = DayPilot.indexOf($k.rowlist, $z);
            if (y === -1) {
                var $6L = $k.$aV($z.id).index;
                if ($6L) {
                    y = $6L.index;
                } else {
                    return;
                }
            };
            var cl = $k.$b4("_cell_selected");
            var $O = [];
            for (var i = 0; i < $k.itline.length; i++) {
                var c = {};
                c.x = i;
                c.y = y;
                $O.push(c);
            };
            $k.cells.findXy($O).addClass(cl);
            var cl = $k.$b4("_rowheader_selected");
            var $5D = $k.divHeader;
            for (var y = 0; y < $5D.rows.length; y++) {
                var r = $5D.rows[y];
                if (r && r.cells[0] && r.cells[0].row === $z) {
                    for (var x = 0; x < r.cells.length; x++) {
                        var c = r.cells[x];
                        var $0M = c.firstChild;
                        DayPilot.Util.addClass($0M, cl);
                    }
                }
            }
        };
        $1z.$cW = function() {
            var $00 = [];
            if (!$1z.selected) {
                return $00;
            };
            for (var i = 0; i < $1z.selected.length; i++) {
                var $z = $1z.selected[i];
                var $1B = DayPilot.indexOf($k.rowlist, $z);
                var r = $k.$cF($z, $1B);
                $00.push(r.toJSON());
            };
            return $00;
        };
        $1z.unselect = function($z) {
            var cl = $k.$b4("_cell_selected");
            var y = DayPilot.indexOf($k.rowlist, $z);
            var $O = [];
            for (var i = 0; i < $k.itline.length; i++) {
                var c = {};
                c.x = i;
                c.y = y;
                $O.push(c);
            };
            $k.cells.findXy($O).removeClass(cl);
            var cl = $k.$b4("_rowheader_selected");
            var $5D = $k.divHeader;
            var r = $1z.$cC($z);
            if (r) {
                for (var x = 0; x < r.cells.length; x++) {
                    var c = r.cells[x];
                    var $0M = c.firstChild;
                    DayPilot.Util.removeClass($0M, cl);
                }
            }
        };
        $1z.$eC = null;
        $1z.clearSelection = function() {
            for (var j = 0; j < $1z.selected.length; j++) {
                var $z = $1z.selected[j];
                $1z.unselect($z);
            };
            $1z.selected = [];
            $k.selectedRows = [];
        };
        $1z.$cC = function($z) {
            var $5D = $k.divHeader;
            for (var y = 0; y < $5D.rows.length; y++) {
                var r = $5D.rows[y];
                if (r && r.cells[0] && r.cells[0].row === $z) {
                    return r;
                }
            };
            return null;
        };
        $1z.selectById = function(id) {
            var $z = $k.$aV(id);
            if ($z) {
                $1z.select($z);
            }
        };
        $1z.startMoving = function($z) {
            var $5N = DayPilot.Global.rowmoving;
            $5N.row = $z;
            $5N.cursor = $k.divResScroll.style.cursor;
            $k.divResScroll.style.cursor = "move";
            $1z.createOverlay($z);
        };
        $1z.resetMoving = function() {
            $k.divResScroll.style.cursor = $5N.cursor;
            DayPilot.de($5N.div);
            $1z.deleteOverlay($5N.row);
            DayPilot.Global.rowmoving = $5N = {};
        };
        $1z.move = function($n) {
            var $1C = $n.source.$.row.resource;
            var $1D = $n.target.$.row.resource;
            var $y = $n.position;
            if ($y === "forbidden") {
                return;
            };
            var $6F = $6G.findParentArray($1C);
            if (!$6F) {
                throw "Cannot find source node parent";
            };
            var $6H = DayPilot.indexOf($6F, $1C);
            $6F.splice($6H, 1);
            var $6M = $6G.findParentArray($1D);
            if (!$6M) {
                throw "Cannot find target node parent";
            };
            var $6N = DayPilot.indexOf($6M, $1D);
            switch ($y) {
                case "before":
                    $6M.splice($6N, 0, $1C);
                    break;
                case "after":
                    $6M.splice($6N + 1, 0, $1C);
                    break;
                case "child":
                    if (!$1D.children) {
                        $1D.children = [];
                        $1D.expanded = true;
                    };
                    $1D.children.push($1C);
                    break;
            };
            $k.update();
        };
        var $6G = {};
        $6G.findParentArray = function($1O) {
            return $6G.findInArray($k.resources, $1O);
        };
        $6G.findInArray = function($3H, $1O) {
            if (DayPilot.indexOf($3H, $1O) !== -1) {
                return $3H;
            };
            for (var i = 0; i < $3H.length; i++) {
                var r = $3H[i];
                if (r.children && r.children.length > 0) {
                    var parent = $6G.findInArray(r.children, $1O);
                    if (parent) {
                        return parent;
                    }
                }
            };
            return null;
        };
        this.$at = function() {
            this.rowlist = DayPilot.list();
            var $6O = this.resources;
            var $6P = this.$bd();
            if (!$6P) {
                if (this.viewType === "Gantt") {
                    $6O = this.$eK();
                } else if (this.viewType === "Days") {
                    $6O = this.$eL();
                }
            };
            if ($6P && this.viewType === "Days" && (!$6O || $6O.length === 0)) {
                $6O = this.$eL();
            };
            var $1B = {};
            $1B.i = 0;
            this.$eM($6O, $1B, 0, null, this.treeEnabled, false);
            var $6Q = $k.rowCreateHandling !== "Disabled";
            if ($6Q) {
                this.$eN();
            }
        };
        this.$eN = function() {
            var r = {};
            r.id = "NEW";
            r.isNewRow = true;
            r.html = "";
            r.loaded = true;
            r.start = this.startDate;
            r.children = [];
            r.height = $k.eventHeight;
            r.marginBottom = 0;
            r.marginTop = 0;
            r.getHeight = function() {
                return $k.eventHeight + $k.rowMarginBottom + $k.rowMarginTop;
            };
            r.putIntoLine = function() {};
            r.resetEvents = function() {};
            this.rowlist.push(r);
        };
        this.$eK = function() {
            var $00 = [];
            if (this.$ab && this.resources) {
                for (var i = 0; i < this.resources.length; i++) {
                    $00.push(this.resources[i]);
                }
            };
            if (!this.events.list) {
                return;
            };
            for (var i = 0; i < this.events.list.length; i++) {
                var e = this.events.list[i];
                var r = {};
                r.id = e.id;
                r.name = e.text;
                $00.push(r);
            };
            return $00;
        };
        this.$eL = function() {
            var $00 = [];
            var $M = $k.$bk();
            var $6R = this.$dd.locale();
            for (var i = 0; i < this.days; i++) {
                var d = $M.addDays(i);
                var r = {};
                r.name = d.toString($6R.datePattern, $6R);
                r.start = d;
                $00.push(r);
            };
            return $00;
        };
        this.$bk = function() {
            if (this.itline && this.itline.length > 0) {
                return this.itline[0].start;
            };
            return this.startDate;
        };
        this.$bo = function() {
            if (this.itline && this.itline.length > 0) {
                var end = $k.itline[this.itline.length - 1].end;
                if ($k.viewType !== "Days") {
                    return end;
                };
                return end.addDays($k.days - 1);
            };
            return $k.startDate.addDays($k.days);
        };
        this.$eO = {};
        var $6S = this.$eO;
        this.visibleStart = function() {
            return this.$bk();
        };
        this.visibleEnd = function() {
            return this.$bo();
        };
        this.$eM = function($6O, $1B, $6D, parent, $6T, $6U) {
            if (!$6O) {
                return;
            };
            for (var i = 0; i < $6O.length; i++) {
                if (!$6O[i]) {
                    continue;
                };
                var $6V = {};
                $6V.level = $6D;
                $6V.hidden = $6U;
                $6V.index = $1B.i;
                var $1O = this.$eP($6O[i], $6V);
                var $z = {};
                if ($6O[i].hidden) {
                    continue;
                };
                $z.backColor = $1O.backColor;
                $z.cssClass = $1O.cssClass;
                $z.expanded = $1O.expanded;
                $z.name = $1O.name;
                $z.html = $1O.html ? $1O.html : $z.name;
                $z.eventHeight = typeof $1O.eventHeight !== 'undefined' ? $1O.eventHeight : $k.$dd.eventHeight();
                $z.minHeight = typeof $1O.minHeight !== 'undefined' ? $1O.minHeight : $k.rowMinHeight;
                $z.marginBottom = typeof $1O.marginBottom !== 'undefined' ? $1O.marginBottom : $k.rowMarginBottom;
                $z.marginTop = typeof $1O.marginTop !== 'undefined' ? $1O.marginTop : $k.rowMarginTop;
                $z.eventStackingLineHeight = typeof $1O.eventStackingLineHeight !== 'undefined' ? $1O.eventStackingLineHeight : $k.eventStackingLineHeight;
                $z.loaded = !$1O.dynamicChildren;
                $z.id = $1O.id || $1O.value;
                $z.toolTip = $1O.toolTip;
                $z.children = [];
                $z.columns = [];
                $z.start = $1O.start ? new DayPilot.Date($1O.start) : this.$bk();
                $z.isParent = $1O.isParent;
                $z.contextMenu = $1O.contextMenu ? DayPilot.Util.evalVariable($1O.contextMenu) : this.contextMenuResource;
                $z.areas = $1O.areas;
                $z.moveDisabled = $1O.moveDisabled;
                $z.bubbleHtml = $1O.bubbleHtml;
                $z.tags = $1O.tags;
                $z.task = $1O.task;
                $z.swimlane = $1O.swimlane;
                $z.height = $z.eventHeight;
                $z.hidden = $6U;
                $z.level = $6D;
                $z.index = $1B.i;
                $z.resource = $6O[i];
                $z.lines = [];
                $z.blocks = [];
                $z.isRow = true;
                $z.getHeight = function() {
                    var $T = 0;
                    if ($k.groupConcurrentEvents) {
                        for (var i = 0; i < this.blocks.length; i++) {
                            var $6c = this.blocks[i];
                            $T = Math.max($T, $6c.getHeight());
                        }
                    } else {
                        if (this.lines.length > 0) {
                            var $0G = this.lines.length - 1;
                            var $0x = this.lines[$0G];
                            var $6W = $0x.height || this.eventHeight;
                            var top = $0x.top || 0;
                            $T = top + $6W;
                        }
                    };
                    if ($T === 0) {
                        $T = this.eventHeight;
                    };
                    return ($T > this.minHeight) ? $T : this.minHeight;
                };
                $z.resetEvents = function() {
                    var r = this;
                    r.events = [];
                    r.events.forRange = function($M, end) {
                        var $l = [];
                        for (var i = 0; i < r.events.length; i++) {
                            var ev = r.events[i];
                            if (DayPilot.Util.overlaps(ev.start(), ev.end(), $M, end)) {
                                $l.push(ev);
                            }
                        };
                        return $l;
                    };
                };
                $z.calculateUtilization = function() {
                    var r = this;
                    var $6X = r.sections = getSections();
                    for (var i = 0; i < $6X.length; i++) {
                        var $06 = $6X[i];
                        $06.events = [];
                        for (var x = 0; x < r.events.length; x++) {
                            var e = r.events[x];
                            if (DayPilot.Util.overlaps($06.start, $06.end, e.start(), e.rawend())) {
                                $06.events.push(e);
                            }
                        };
                        $06.sum = function(name) {
                            var $6Y = 0;
                            for (var i = 0; i < this.events.length; i++) {
                                var e = this.events[i];
                                var $6Z = 0;
                                if (typeof name === "undefined") {
                                    $6Z = 1;
                                } else if (e.tag(name)) {
                                    $6Z = e.tag(name);
                                } else if (e.data[name]) {
                                    $6Z = e.data[name];
                                };
                                if (typeof $6Z === 'number') {
                                    $6Y += $6Z;
                                }
                            };
                            return $6Y;
                        }
                    };

                    function getPoints() {
                        var $70 = [];
                        for (var i = 0; i < r.events.length; i++) {
                            var e = r.events[i];
                            if (!DayPilot.contains($70, e.start().toString())) {
                                $70.push(e.start().toString());
                            };
                            if (!DayPilot.contains($70, e.rawend().toString())) {
                                $70.push(e.rawend().toString());
                            }
                        };
                        $70.sort();
                        return $70;
                    };

                    function getSections() {
                        var $70 = getPoints();
                        var $6X = [];
                        var $06 = {
                            "start": r.data.start
                        };
                        for (var i = 0; i < $70.length; i++) {
                            $06.end = new DayPilot.Date($70[i]);
                            $6X.push($06);
                            $06 = {
                                "start": new DayPilot.Date($70[i])
                            };
                        };
                        $06.end = r.data.end;
                        $6X.push($06);
                        $6X.forRange = function($M, end) {
                            var $00 = [];
                            for (var i = 0; i < this.length; i++) {
                                var $06 = this[i];
                                if (DayPilot.Util.overlaps($M, end, $06.start, $06.end)) {
                                    $00.push($06);
                                }
                            };
                            $00.maxSum = function(name) {
                                var $B = 0;
                                for (var i = 0; i < this.length; i++) {
                                    var $06 = this[i];
                                    var $6Y = $06.sum(name);
                                    if ($6Y > $B) {
                                        $B = $6Y;
                                    }
                                };
                                return $B;
                            };
                            return $00;
                        };
                        return $6X;
                    }
                };
                $z.putIntoLine = function(ep) {
                    var $71 = this;
                    for (var i = 0; i < this.lines.length; i++) {
                        var $0x = this.lines[i];
                        if ($0x.isFree(ep.part.left, ep.part.width)) {
                            $0x.add(ep);
                            return i;
                        }
                    };
                    var $0x = [];
                    $0x.height = 0;
                    $0x.add = function(ep) {
                        this.push(ep);
                        var $6j = ep.part.$ez();
                        if ($6j > $0x.height) {
                            $0x.height = $6j;
                        }
                    };
                    $0x.isFree = function($72, $73, $4T) {
                        var end = $72 + $73 - 1;
                        var $B = this.length;
                        for (var i = 0; i < $B; i++) {
                            var e = this[i];
                            if (!(end < e.part.left || $72 > e.part.left + e.part.width - 1)) {
                                if (DayPilot.contains($4T, e.data)) {
                                    continue;
                                };
                                return false;
                            }
                        };
                        return true;
                    };
                    $0x.add(ep);
                    this.lines.push($0x);
                    return this.lines.length - 1;
                };
                $z.putIntoBlock = function(ep) {
                    for (var i = 0; i < this.blocks.length; i++) {
                        var $6c = this.blocks[i];
                        if (DayPilot.indexOf($6c.events, ep) !== -1) {
                            return;
                        };
                        if ($6c.overlapsWith(ep.part.left, ep.part.width)) {
                            $6c.events.push(ep);
                            ep.part.block = $6c;
                            $6c.min = Math.min($6c.min, ep.part.left);
                            $6c.max = Math.max($6c.max, ep.part.left + ep.part.width);
                            return i;
                        }
                    };
                    var $6c = {};
                    $6c.expanded = false;
                    $6c.row = this;
                    $6c.events = [];
                    $6c.lines = [];
                    $6c.putIntoLine = function(ep) {
                        var $74 = this;
                        for (var i = 0; i < this.lines.length; i++) {
                            var $0x = this.lines[i];
                            if ($0x.isFree(ep.part.left, ep.part.width)) {
                                $0x.add(ep);
                                return i;
                            }
                        };
                        var $0x = [];
                        $0x.height = 0;
                        $0x.add = function(ep) {
                            this.push(ep);
                            if (ep.part.height > $0x.height) {
                                $0x.height = ep.part.height;
                            }
                        };
                        $0x.isFree = function($M, $C) {
                            var end = $M + $C - 1;
                            var $B = this.length;
                            for (var i = 0; i < $B; i++) {
                                var e = this[i];
                                if (!(end < e.part.left || $M > e.part.left + e.part.width - 1)) {
                                    return false;
                                }
                            };
                            return true;
                        };
                        $0x.add(ep);
                        this.lines.push($0x);
                    };
                    $6c.overlapsWith = function($M, $C) {
                        var end = $M + $C - 1;
                        if (!(end < this.min || $M > this.max - 1)) {
                            return true;
                        };
                        return false;
                    };
                    $6c.getHeight = function() {
                        if (!this.expanded) {
                            return $k.eventHeight;
                        };
                        if (this.lines.length > 0) {
                            var $0G = this.lines.length - 1;
                            var $0x = this.lines[$0G];
                            var $6W = $0x.height || $k.eventHeight;
                            var top = $0x.top || 0;
                            return top + $6W;
                        } else {
                            return $k.eventHeight;
                        }
                    };
                    $6c.clear = function() {
                        $6c.events = [];
                        $6c.min = null;
                        $6c.max = null;
                    };
                    $6c.events.push(ep);
                    ep.part.block = $6c;
                    $6c.min = ep.part.left;
                    $6c.max = ep.part.left + ep.part.width;
                    this.blocks.push($6c);
                };
                $z.$eQ = false;
                $z.$eR = parent;
                $z.$eS = function() {
                    this.hidden = !this.$eT();
                    this.$eQ = false;
                    if (this.$eR) {
                        this.$eR.$eS();
                    }
                };
                $z.$eT = function() {
                    if (!this.$eR) {
                        return true;
                    };
                    return this.$eR.$eT() && this.$eR.expanded;
                };
                this.rowlist.push($z);
                if (typeof $k.onRowFilter === "function" && $k.rows.$dn) {
                    var $n = {};
                    $n.visible = true;
                    $n.row = $k.$cF($z);
                    $n.filter = $k.rows.$dn;
                    $k.onRowFilter($n);
                    $z.$eQ = !$n.visible;
                    if (!$n.visible) {
                        $z.hidden = true;
                    } else {
                        if (parent) {
                            parent.$eS();
                        }
                    }
                };
                if (parent !== null) {
                    parent.children.push($1B.i);
                };
                if ($1O.columns) {
                    for (var j = 0; j < $1O.columns.length; j++) {
                        $z.columns.push($1O.columns[j]);
                    }
                };
                $1B.i++;
                if ($6T && $1O.children && $1O.children.length) {
                    var $75 = $6U || !$z.expanded;
                    this.$eM($1O.children, $1B, $6D + 1, $z, true, $75);
                }
            }
        };
        this.$ej = function($z) {
            if ($z.isNewRow) {
                return {
                    "row": {
                        "cssClass": $k.$b4("_row_new"),
                        "moveDisabled": true,
                        "html": ""
                    }
                };
            };
            var $n = {};
            $n.row = this.$cF($z);
            DayPilot.Util.copyProps($z, $n.row, ['html', 'backColor', 'cssClass', 'toolTip', 'contextMenu', 'moveDisabled']);
            $n.row.columns = DayPilot.Util.createArrayCopy($z.columns, ['html', 'backColor', 'cssClass']);
            $n.row.areas = DayPilot.Util.createArrayCopy($z.areas);
            if (typeof $n.row.columns === 'undefined' && $k.rowHeaderColumns && $k.rowHeaderColumns.length > 0) {
                r.columns = [];
                for (var i = 0; i < $k.rowHeaderColumns.length; i++) {
                    r.columns.push({});
                }
            };
            if (typeof this.onBeforeRowHeaderRender === "function") {
                this.onBeforeRowHeaderRender($n);
            };
            return $n;
        };
        this.$eP = function($1O, $6V) {
            var r = this.$eU($1O, $6V);
            if (typeof this.onBeforeResHeaderRender === 'function') {
                var $n = {};
                $n.resource = r;
                this.onBeforeResHeaderRender($n);
            };
            return r;
        };
        this.$eU = function($1O, $6V) {
            var r = {};
            for (var name in $6V) {
                r[name] = $6V[name];
            };
            for (var name in $1O) {
                r[name] = $1O[name];
            };
            if (typeof $1O.html === 'undefined') {
                r.html = $1O.name;
            };
            if (typeof r.columns === 'undefined' && $k.rowHeaderColumns && $k.rowHeaderColumns.length > 0) {
                r.columns = [];
                for (var i = 0; i < $k.rowHeaderColumns.length; i++) {
                    r.columns.push({});
                }
            };
            return r;
        };
        this.$eV = function() {
            this.$eW();
            this.nav.top.dp = this;
            this.nav.top.innerHTML = "";
            DayPilot.Util.addClass(this.nav.top, this.$b4("_main"));
            if (DayPilot.browser.ie9) {
                DayPilot.Util.addClass(this.nav.top, this.$b4("_browser_ie9"));
            };
            if (DayPilot.browser.ie8) {
                DayPilot.Util.addClass(this.nav.top, this.$b4("_browser_ie8"));
            };
            this.nav.top.style.MozUserSelect = 'none';
            this.nav.top.style.KhtmlUserSelect = 'none';
            this.nav.top.style.webkitUserSelect = 'none';
            this.nav.top.style.WebkitTapHighlightColor = "rgba(0,0,0,0)";
            this.nav.top.style.WebkitTouchCallout = "none";
            if (this.width) {
                this.nav.top.style.width = this.width;
            };
            if (this.heightSpec === "Parent100Pct") {
                this.nav.top.style.height = "100%";
            };
            this.nav.top.style.lineHeight = "1.2";
            this.nav.top.style.position = "relative";
            if (!this.visible) {
                this.nav.top.style.display = "none";
            };
            this.nav.top.onmousemove = this.$eX;
            this.nav.top.ontouchstart = $0Q.onMainTouchStart;
            this.nav.top.ontouchmove = $0Q.onMainTouchMove;
            this.nav.top.ontouchend = $0Q.onMainTouchEnd;
            if (this.hideUntilInit && this.backendUrl) {
                this.nav.top.style.visibility = 'hidden';
            };
            var $3s = this.$b7();
            var $76 = this.$dd.layout();
            if ($76 === 'DivBased') {
                var $P = document.createElement("div");
                $P.style.position = "absolute";
                $P.style.left = "0px";
                $P.style.width = ($3s) + "px";
                $P.appendChild(this.$eY());
                var $77 = document.createElement("div");
                $77.style.height = "1px";
                $77.className = this.$b4("_divider_horizontal");
                $P.appendChild($77);
                this.nav.dh1 = $77;
                $P.appendChild(this.$eZ());
                this.nav.left = $P;
                var $78 = document.createElement("div");
                $78.style.position = "absolute";
                $78.style.left = ($3s) + "px";
                $78.style.width = $0d.splitterWidth() + "px";
                $78.style.height = (this.$b6() + this.$ba()) + "px";
                $78.className = this.$b4("_divider") + " " + this.$b4("_splitter");
                $78.setAttribute("unselectable", "on");
                this.nav.divider = $78;
                if (this.rowHeaderScrolling) {
                    this.$f0();
                };
                var $Q = document.createElement("div");
                $Q.style.marginLeft = ($3s + $0d.splitterWidth()) + "px";
                $Q.style.marginRight = '1px';
                $Q.style.position = 'relative';
                $Q.appendChild(this.$f1());
                this.nav.right = $Q;
                var $79 = document.createElement("div");
                $79.style.height = "1px";
                $79.style.position = "absolute";
                $79.style.top = this.$b6() + "px";
                $79.style.width = "100%";
                $79.className = this.$b4("_divider_horizontal");
                $Q.appendChild($79);
                this.nav.dh2 = $79;
                $Q.appendChild(this.$f2());
                var $7a = document.createElement("div");
                $7a.style.clear = 'left';
                this.nav.top.appendChild($P);
                this.nav.top.appendChild($78);
                this.nav.top.appendChild($Q);
                this.nav.top.appendChild($7a);
            } else {
                var $5D = document.createElement("table");
                $5D.cellPadding = 0;
                $5D.cellSpacing = 0;
                $5D.border = 0;
                $5D.style.position = 'absolute';
                var $7b = $5D.insertRow(-1);
                var $7c = $7b.insertCell(-1);
                $7c.appendChild(this.$eY());
                var $7d = $7b.insertCell(-1);
                $7d.appendChild(this.$f1());
                var $7e = $5D.insertRow(-1);
                var $7f = $7e.insertCell(-1);
                $7f.appendChild(this.$eZ());
                var $7g = $7e.insertCell(-1);
                $7g.appendChild(this.$f2());
                this.nav.top.appendChild($5D);
            };
            this.$aq = document.createElement("div");
            this.$aq.style.display = "none";
            this.nav.top.appendChild(this.$aq);
            if (this.$cV()) {
                var $7h = document.createElement("input");
                $7h.type = "hidden";
                $7h.id = this.id + "_state";
                $7h.name = this.id + "_state";
                this.nav.state = $7h;
                this.nav.top.appendChild($7h);
            };
            var $5z = 5;
            var loading = document.createElement("div");
            loading.style.position = 'absolute';
            loading.style.left = (this.$b7() + $0d.splitterWidth() + 5) + "px";
            loading.style.top = (this.$b6() + 5) + "px";
            loading.style.display = 'none';
            loading.innerHTML = this.loadingLabelText;
            DayPilot.Util.addClass(loading, this.$b4("_loading"));
            this.nav.loading = loading;
            this.nav.top.appendChild(loading);
            this.$f3();
        };
        this.$eX = function(ev) {
            if ($5N.row) {
                var $21 = DayPilot.mo3($k.divHeader, ev);
                var ri = $k.$d4($21.y);
                var $z = $k.rowlist[ri.i];
                if ($z.isNewRow) {
                    return;
                };
                var $7i = $21.y - ri.top;
                var $7j = ri.bottom - ri.top;
                var $7k = $7j / 3;
                var $7l = $7k * 2;
                var $27 = $7j / 2;
                var $y = "before";
                var $7m = $z.children && $z.children.length > 0;
                var $7n = (function() {
                    var i = ri.i;
                    var $7o = $z.level;
                    while (i >= 0) {
                        var r = $k.rowlist[i];
                        i--;
                        if ($7o <= r.level) {
                            continue;
                        };
                        if (r === $5N.row) {
                            return true;
                        };
                        if (r.level === 0) {
                            return false;
                        };
                        $7o = r.level;
                    };
                    return false;
                })();
                var $7p = $k.treeEnabled;
                if ($7n || ri.i === $5N.row.index) {
                    $y = "forbidden";
                } else if ($7p) {
                    if ($7m) {
                        if ($7i < $27) {
                            $y = "before";
                        } else {
                            $y = "child";
                        }
                    } else {
                        if ($7i < $7k) {
                            $y = "before";
                        } else if ($7i < $7l) {
                            $y = "child";
                        } else {
                            $y = "after";
                        }
                    }
                } else {
                    if ($7m) {
                        $y = "before";
                    } else {
                        if ($7i < $27) {
                            $y = "before";
                        } else {
                            $y = "after";
                        }
                    }
                };
                if ($5N.row.moveDisabled) {
                    $y = "forbidden";
                };
                $5N.calendar = $k;
                $5N.source = $5N.row;
                $5N.target = $k.rowlist[ri.i];
                $5N.position = $y;
                var $7q = (function() {
                    if (!$5N.last) {
                        return true;
                    };
                    if ($5N.last.target !== $5N.target) {
                        return true;
                    };
                    if ($5N.last.position !== $5N.position) {
                        return true;
                    };
                    return false;
                })();
                if ($7q) {
                    if (typeof $k.onRowMoving === 'function') {
                        var $n = {};
                        $n.source = $k.$cF($5N.source);
                        $n.target = $k.$cF($5N.target);
                        $n.position = $y;
                        $k.onRowMoving($n);
                        $5N.position = $n.position;
                    }
                } else if ($5N.last) {
                    $5N.position = $5N.last.position;
                };
                $5N.last = {};
                $5N.last.target = $5N.target;
                $5N.last.position = $5N.position;
                (function drawRowPosition() {
                    if ($5N.div) {
                        DayPilot.de($5N.div);
                    };
                    var top = ri.top;
                    var $I = $5N.position;
                    var ro = $k.rowlist[ri.i];
                    var $6D = ro.level;
                    var $P = $6D * $k.treeIndent;
                    switch ($I) {
                        case "before":
                            top = ri.top;
                            break;
                        case "child":
                            top = ri.top + $27;
                            break;
                        case "after":
                            top = ri.bottom;
                            break;
                        case "forbidden":
                            top = ri.top + $27;
                            break;
                    };
                    var $C = $k.$e6() - $P;
                    var $y = document.createElement("div");
                    $y.style.position = "absolute";
                    $y.style.left = $P + "px";
                    $y.style.width = $C + "px";
                    $y.style.top = top + "px";
                    $y.className = $k.$b4("_rowmove_position_" + $I);
                    $5N.div = $y;
                    $k.divResScroll.appendChild($y);
                })();
            } else if (DayPilotScheduler.splitting) {
                var $C = DayPilot.mo3($k.nav.top, ev).x;
                var $B = $k.$e6();
                var $5c = Math.min($B, $C - 1);
                $k.rowHeaderWidth = $5c;
                $k.$eF = false;
                $k.$eG();
            }
        };
        this.$aC = function() {
            var $T = this.$b6();
            this.nav.corner.style.height = ($T) + "px";
            this.divTimeScroll.style.height = $T + "px";
            this.divNorth.style.height = $T + "px";
            if (this.nav.dh1 && this.nav.dh2) {
                this.nav.dh1.style.top = $T + "px";
                this.nav.dh2.style.top = $T + "px";
            };
            this.nav.loading.style.top = ($T + 5) + "px";
            this.nav.scroll.style.top = ($T + 1) + "px";
        };
        this.$b7 = function() {
            if (this.$eF) {
                return 0;
            };
            var $l = 0;
            var $7r = this.rowHeaderScrolling;
            if ($7r) {
                $l = this.rowHeaderWidth;
            } else {
                $l = this.$e6();
            };
            return $l;
        };
        this.$f0 = function() {
            var $04 = this.nav.divider;
            $04.style.cursor = "col-resize";
            $04.setAttribute("unselectable", "on");
            $04.onmousedown = function(ev) {
                var $7s = DayPilotScheduler.splitting = {};
                $7s.cursor = $k.nav.top.style.cursor;
                $7s.cleanup = function() {
                    $k.nav.top.style.cursor = $7s.cursor;
                    if (typeof $k.onRowHeaderResized === "function") {
                        var $n = {};
                        $k.onRowHeaderResized($n);
                    }
                };
                $k.nav.top.style.cursor = "col-resize";
                return false;
            };
        };
        this.$eG = function() {
            var $7t = $0d.splitterWidth();
            var $C = this.$b7();
            this.nav.corner.style.width = $C + "px";
            this.divCorner.style.width = $C + "px";
            this.divResScroll.style.width = $C + "px";
            if ($0d.layout() === "DivBased") {
                this.nav.left.style.width = ($C) + "px";
                this.nav.divider.style.left = ($C - $7t) + "px";
                this.nav.right.style.marginLeft = ($C) + "px";
            };
            if (this.nav.message) {
                this.nav.message.style.left = ($C + $7t) + "px";
            };
            if (this.nav.loading) {
                this.nav.loading.style.left = ($C + $7t + 5) + "px";
            };
            if (this.nav.hideIcon) {
                var hi = this.nav.hideIcon;
                var $7u = $k.$b4("_header_icon_show");
                var $7v = $k.$b4("_header_icon_hide");
                hi.style.left = ($C - 1) + "px";
                if ($k.$eF) {
                    DayPilot.Util.removeClass(hi, $7v);
                    DayPilot.Util.addClass(hi, $7u);
                } else {
                    DayPilot.Util.removeClass(hi, $7u);
                    DayPilot.Util.addClass(hi, $7v);
                }
            }
        };
        this.$f4 = function() {
            this.$e7();
            var $0g = this.$e6();
            var $7w = function($R, $C, $P) {
                if (!$R || !$R.style) {
                    return;
                };
                var $04 = $R.firstChild;
                if ($k.$ee) {
                    $R.style.width = $C + "px";
                    $04.style.width = $C + "px";
                    if (typeof $P === "number") {
                        $R.style.left = $P + "px";
                    }
                } else {
                    $04.style.width = $C + "px";
                }
            };
            var $5D = this.divHeader;
            $5D.style.width = $0g + "px";
            var $1t = $k.$e8();
            for (var i = $1t.start; i < $1t.end; i++) {
                var $z = $5D.rows[i];
                if (!$z) {
                    continue;
                };
                var $R = $z.cells[0];
                if ($R.colSpan > 1) {
                    var $R = $z.cells[0];
                    $7w($R, $0g);
                } else {
                    if (this.rowHeaderCols) {
                        var $P = 0;
                        for (var j = 0; j < $z.cells.length; j++) {
                            var $C = this.rowHeaderCols[j];
                            var $R = $z.cells[j];
                            $7w($R, $C, $P);
                            $P += $C;
                        }
                    } else {
                        var $C = this.rowHeaderWidth;
                        var $R = $z.cells[0];
                        $7w($R, $C);
                    }
                }
            };
            if ($k.nav.resScrollSpace) {
                $k.nav.resScrollSpace.style.width = $0g + "px";
            };
            this.$f5();
        };
        this.$c9 = function() {
            this.$eG();
            this.$f4();
        };
        this.$f6 = function() {
            var $04 = $k.nav.corner;
            var $2a = this.rowHeaderColumns;
            var scroll = document.createElement("div");
            scroll.style.position = "absolute";
            scroll.style.bottom = "0px";
            scroll.style.left = "0px";
            scroll.style.width = "100%";
            scroll.style.height = $0d.headerHeight() + "px";
            scroll.style.overflow = "hidden";
            $k.nav.columnScroll = scroll;
            var $z = document.createElement("div");
            $z.style.position = "absolute";
            $z.style.bottom = "0px";
            $z.style.left = "0px";
            $z.style.width = "5000px";
            $z.style.height = $0d.headerHeight() + "px";
            $z.style.overflow = "hidden";
            $z.className = this.$b4("_columnheader");
            scroll.appendChild($z);
            var $07 = document.createElement("div");
            $07.style.position = "absolute";
            $07.style.top = "0px";
            $07.style.bottom = "0px";
            $07.style.left = "0px";
            $07.style.right = "0px";
            $07.className = this.$b4("_columnheader_inner");
            $z.appendChild($07);
            var $7x = new DayPilot.Splitter($07);
            $7x.widths = DayPilot.Util.propArray($2a, "width", $k.rowHeaderColumnDefaultWidth);
            $7x.height = $0d.headerHeight();
            $7x.css.title = this.$b4("_columnheader_cell");
            $7x.css.titleInner = this.$b4("_columnheader_cell_inner");
            $7x.css.splitter = this.$b4("_columnheader_splitter");
            $7x.titles = DayPilot.Util.propArray($2a, "title");
            $7x.updating = function($n) {
                DayPilot.Util.updatePropsFromArray($k.rowHeaderColumns, "width", this.widths);
                $k.$c9();
                if ($k.cellWidthSpec === "Auto") {}
            };
            $7x.updated = function($7y) {
                $k.$ed();
                if ($k.$aR()) {
                    if (typeof $k.onRowHeaderColumnResized === "function") {
                        var $n = {};
                        $n.column = $k.rowHeaderColumns[$7y.index];
                        $k.onRowHeaderColumnResized($n);
                    }
                } else {
                    switch ($k.rowHeaderColumnResizedHandling) {
                        case "CallBack":
                            break;
                        case "PostBack":
                            break;
                        case "JavaScript":
                            if (typeof $k.onRowHeaderColumnResized === "function") {
                                var $n = {};
                                $n.column = $k.rowHeaderColumns[$7y.index];
                                $k.onRowHeaderColumnResized($n);
                            };
                            break;
                    }
                }
            };
            $7x.color = '#000000';
            $7x.opacity = 30;
            $7x.init();
            $04.appendChild(scroll);
            this.$ec = $7x;
        };
        this.$cb = function() {
            var $04 = this.nav.corner;
            $04.innerHTML = '';
            $04.className = this.$b4('_corner');
            var $07 = document.createElement("div");
            $07.style.position = "absolute";
            $07.style.top = "0px";
            $07.style.left = "0px";
            $07.style.right = "0px";
            $07.style.bottom = "0px";
            $07.className = this.$b4('_corner_inner');
            this.divCorner = $07;
            $07.innerHTML = '&nbsp;';
            if (this.rowHeaderColumns && this.rowHeaderColumns.length > 0) {
                var $7z = document.createElement("div");
                $7z.style.position = "absolute";
                $7z.style.top = "0px";
                $7z.style.left = "0px";
                $7z.style.right = "0px";
                $7z.style.bottom = ($0d.headerHeight() + 1) + "px";
                $04.appendChild($7z);
                var $78 = document.createElement("div");
                $78.style.position = "absolute";
                $78.style.left = "0px";
                $78.style.right = "0px";
                $78.style.height = "1px";
                $78.style.bottom = ($0d.headerHeight()) + "px";
                $78.className = this.$b4("_divider");
                $04.appendChild($78);
                $7z.appendChild($07);
                this.$f6();
            } else {
                $04.appendChild($07);
            };
            var $7A = document.createElement("div");
            $7A.style.position = 'absolute';
            $7A.style.padding = '2px';
            $7A.style.top = '0px';
            $7A.style.left = '1px';
            $7A.style.backgroundColor = "#FF6600";
            $7A.style.color = "white";
            $7A.style.display = "none";
            $7A.innerHTML = "\u0044\u0045\u004D\u004F";
            if (this.numberFormat) $04.appendChild($7A);
        };
        this.$f3 = function() {
            if (!this.rowHeaderHideIconEnabled) {
                return;
            };
            var $7B = 3;
            var $P = this.$b7() + $0d.splitterWidth() - 1;
            var $C = 10;
            var $T = 20;
            var top = this.$b6() + $7B;
            var $04 = DayPilot.Util.div(this.nav.top, $P, top, $C, $T);
            $04.style.cursor = "pointer";
            $04.className = $k.$b4("_header_icon");
            DayPilot.Util.addClass($04, $k.$b4("_header_icon_hide"));
            $04.onclick = function() {
                $k.rows.headerToggle();
            };
            this.nav.hideIcon = $04;
        };
        this.$eY = function() {
            var $3s = this.$b7();
            var $04 = document.createElement("div");
            $k.nav.corner = $04;
            $04.style.width = $3s + "px";
            $04.style.height = (this.$b6()) + "px";
            $04.style.overflow = 'hidden';
            $04.style.position = 'relative';
            $04.setAttribute("unselectable", "on");
            $04.onmousemove = function() {
                $k.$ef();
            };
            $04.oncontextmenu = function() {
                return false;
            };
            this.$cb();
            return $04;
        };
        this.$b6 = function() {
            if ($k.timeHeaders) {
                var $0G = $4m.timeHeader($k.timeHeaders.length - 1);
                return $0G.top + $0G.height;
            } else if (this.timeHeader) {
                return $k.timeHeader.length * $0d.headerHeight();
            } else {
                return 0;
            }
        };
        this.$f7 = null;
        this.$eZ = function() {
            var $04 = document.createElement("div");
            $04.style.width = (this.$b7()) + "px";
            $04.style.height = this.$ba() + "px";
            $04.style.overflow = 'hidden';
            $04.style.position = 'relative';
            $04.className = $k.$b4("_rowheader_scroll");
            var $7C = navigator.userAgent.indexOf("Mobile") !== -1;
            if ($7C) {
                $04.style.overflowY = "auto";
            };
            $04.onmousemove = function() {
                $k.$ef();
            };
            $04.onscroll = function() {
                if ($k.nav.columnScroll && $k.rowHeaderScrolling) {
                    $k.nav.columnScroll.scrollLeft = $04.scrollLeft;
                };
                if ($k.$f7) {
                    clearTimeout($k.$f7);
                };
                if ($7C) {
                    var $7D = $k.$dO() - $k.nav.scroll.offsetHeight;
                    $04.scrollTop = Math.min($04.scrollTop, $7D);
                    $k.nav.scroll.scrollTop = $04.scrollTop;
                } else {
                    $k.$f7 = setTimeout(function() {
                        $k.nav.scroll.scrollTop = $04.scrollTop;
                    }, 500);
                }
            };
            $04.onwheel = function(ev) {
                var $5a = ev.deltaY > 0 ? $k.eventHeight : -$k.eventHeight;
                $k.nav.scroll.scrollTop = $04.scrollTop + $5a;
                ev.preventDefault && ev.preventDefault();
            };
            $04.onmousewheel = function(ev) {
                ev = ev || window.event;
                var $5a = ev.wheelDelta < 0 ? $k.eventHeight : -$k.eventHeight;
                $k.nav.scroll.scrollTop = $04.scrollTop + $5a;
                ev.preventDefault && ev.preventDefault();
                ev.returnValue = false;
            };
            $04.oncontextmenu = function() {
                return false;
            };
            $04.onmouseenter = function() {
                if ($k.rowHeaderScrolling) {
                    $04.style.overflowX = "auto";
                }
            };
            $04.onmouseleave = function() {
                if ($k.rowHeaderScrolling) {
                    $04.style.overflowX = "hidden";
                }
            };
            this.divResScroll = $04;
            this.$bb = $04;
            return $04;
        };
        this.$f8 = function($04) {
            if ($0d.layout() === 'TableBased') {
                var $C = parseInt(this.width, 10);
                var $7E = isNaN($C) || (this.width.indexOf("%") !== -1);
                var $7F = /MSIE/i.test(navigator.userAgent);
                var $3s = this.$e6();
                if ($7E) {
                    if (this.nav.top && this.nav.top.offsetWidth > 0) {
                        $04.style.width = (this.nav.top.offsetWidth - 6 - $3s) + "px";
                    }
                } else {
                    $04.style.width = ($C - $3s) + "px";
                }
            }
        };
        this.$da = function(ev) {
            $k.$aA();
            $k.$aQ();
        };
        this.$aA = function() {
            if ($k.$dd.layout() === 'TableBased') {
                $k.$f8($k.nav.scroll);
                $k.$f8($k.divTimeScroll);
            };
            $k.$aD();
            $k.$ed();
            $k.$f9();
            $k.$ai.drawArea = null;
        };
        this.$f9 = function() {
            var $1t = DayPilotScheduler.rangeHold;
            $k.clearSelection();
            DayPilotScheduler.rangeHold = $1t;
            $k.$cw($1t, true);
        };
        this.$ed = function() {
            if (!$k.$cd) {
                return;
            };
            if ($k.cellWidthSpec !== 'Auto') {
                return;
            };
            $k.$ar();
            $k.$as();
            $k.$ax();
            $k.$aE();
            $k.$aI();
            $k.$aG();
            $k.$aJ();
            $k.$aF();
            $k.$av();
            $k.$aK();
            $k.$aD();
        };
        this.$ar = function() {
            if (this.cellWidthSpec !== 'Auto') {
                return;
            };
            var $0g = this.nav.top.clientWidth;
            var $7G = this.$b7();
            var $7H = $k.$fa();
            var $1j = $0g - $7G - $7H;
            var $7I = this.$b5();
            if (!$7I) {
                return;
            };
            var $R = $1j / this.$b5();
            this.cellWidth = Math.max($R, $k.cellWidthMin);
            $k.$bg = $R < $k.cellWidthMin;
        };
        this.$fa = function() {
            if ($k.heightSpec === "Auto") {
                return 0;
            };
            if ($k.heightSpec === "Max" || $k.heightSpec === "Fixed" || $k.heightSpec === "Parent100Pct") {
                var $07 = $k.$dO();
                if ($07 > $k.height) {
                    return DayPilot.sw($k.nav.scroll);
                } else {
                    return 0;
                }
            };
            return DayPilot.sw($k.nav.scroll);
        };
        this.$bf = function() {
            var $0g = this.nav.top.clientWidth;
            var $7G = this.$b7();
            var $7J = 2;
            var $T = this.$ba();
            var innerHeight = this.$dO();
            var $7K = $k.heightSpec === "Auto";
            var $7L = 0;
            if (innerHeight > $T && !$7K) {
                $7L = DayPilot.swa();
            };
            var $1j = $0g - $7G - $7J - $7L;
            return $1j;
        };
        this.$f1 = function() {
            var $04 = document.createElement("div");
            $04.style.overflow = 'hidden';
            $04.style.position = 'absolute';
            $04.style.display = 'block';
            $04.style.top = "0px";
            $04.style.width = "100%";
            $04.style.height = this.$b6() + "px";
            $04.style.overflow = "hidden";
            $04.onmousemove = function() {
                $k.$ef();
                if ($k.cellBubble) {
                    $k.cellBubble.delayedHide();
                }
            };
            this.$f8($04);
            this.divTimeScroll = $04;
            var $07 = document.createElement("div");
            $07.style.width = (this.$b5() * this.cellWidth + 5000) + "px";
            this.divNorth = $07;
            $04.appendChild($07);
            return $04;
        };
        this.$ba = function() {
            var $T = 0;
            if (this.heightSpec === 'Fixed' || this.heightSpec === "Parent100Pct") {
                return this.height ? this.height : 0;
            } else {
                $T = this.$dO();
            };
            if (this.heightSpec === 'Max' && $T > this.height) {
                return this.height;
            };
            return $T;
        };
        this.$fb = null;
        this.$fc = 0;
        this.$fd = 0;
        this.$fe = 0;
        this.$bc = function() {
            if (typeof $k.onHeightChanged !== "function" && typeof $k.onDimensionsChanged !== "function") {
                return;
            };
            if ($k.$fb) {
                clearTimeout($k.$fb);
            };
            var $14 = function() {
                var $7M = $k.nav.top.offsetHeight;
                var $7N = $k.$fc;
                $k.$fc = $7M;
                var $5c = $k.nav.top.offsetWidth;
                var $57 = $k.$fd;
                $k.$fd = $5c;
                var $7O = $k.$b7();
                var $7P = $k.$fe;
                $k.$fe = $7O;
                if (typeof $k.onHeightChanged === "function") {
                    if ($7M !== $7N) {
                        var $n = {};
                        $n.oldHeight = $7N;
                        $n.newHeight = $7M;
                        $k.onHeightChanged($n);
                    }
                };
                if (typeof $k.onDimensionsChanged === "function") {
                    if ($7M !== $7N || $5c !== $57 || $7O !== $7P) {
                        var $n = {};
                        $n.oldHeight = $7N;
                        $n.newHeight = $7M;
                        $n.oldWidth = $57;
                        $n.newWidth = $5c;
                        $n.oldRowHeaderWidth = $7P;
                        $n.newRowHeaderWidth = $7O;
                        $k.onDimensionsChanged($n);
                    }
                }
            };
            $k.$fb = setTimeout($14, 100);
        };
        this.$dO = function() {
            var $T;
            if (this.$ah) {
                $T = this.$ah + DayPilot.sh($k.nav.scroll);
            } else {
                $T = this.rowlist.length * this.$dd.eventHeight();
            };
            return $T;
        };
        this.$ef = function() {
            this.$f5();
            this.$ff();
            this.$fg();
        };
        this.$f2 = function() {
            var $04 = document.createElement("div");
            $04.style.overflow = "auto";
            $04.style.overflowX = "auto";
            $04.style.overflowY = "auto";
            $04.style.position = "absolute";
            $04.style.height = (this.$ba()) + "px";
            $04.style.top = (this.$b6() + 1) + "px";
            $04.style.width = "100%";
            $04.className = this.$b4("_scrollable");
            $04.oncontextmenu = function() {
                return false;
            };
            this.$f8($04);
            if ($k.overrideWheelScrolling) {
                $04.onwheel = function(ev) {
                    var $5a = ev.deltaY > 0 ? $k.eventHeight : -$k.eventHeight;
                    $k.nav.scroll.scrollTop = $04.scrollTop + $5a;
                    ev.preventDefault && ev.preventDefault();
                };
                $04.onmousewheel = function(ev) {
                    ev = ev || window.event;
                    var $5a = ev.wheelDelta < 0 ? $k.eventHeight : -$k.eventHeight;
                    $k.nav.scroll.scrollTop = $04.scrollTop + $5a;
                    ev.preventDefault && ev.preventDefault();
                    ev.returnValue = false;
                };
            };
            this.nav.scroll = $04;
            this.$aT = document.createElement("div");
            this.$aT.style.MozUserSelect = "none";
            this.$aT.style.KhtmlUserSelect = "none";
            this.$aT.style.webkitUserSelect = "none";
            this.$aT.daypilotMainD = true;
            this.$aT.calendar = this;
            if ($a) {
                this.$aT.style.webkitTransform = "translateZ(0px)";
            };
            this.$aT.style.position = 'absolute';
            var $7Q = this.$dN();
            if ($7Q > 0 && !isNaN($7Q)) {
                this.$aT.style.width = ($7Q) + "px";
            };
            this.$aT.setAttribute("unselectable", "on");
            this.$aT.onmousedown = this.$fh;
            this.$aT.onmousemove = this.$fi;
            this.$aT.onmouseup = this.$fj;
            this.$aT.oncontextmenu = this.$fk;
            this.$aT.ondblclick = this.$fl;
            this.$aT.className = this.$b4("_matrix");
            this.divStretch = document.createElement("div");
            this.divStretch.style.position = 'absolute';
            this.divStretch.style.height = '1px';
            this.$aT.appendChild(this.divStretch);
            this.divCells = document.createElement("div");
            this.divCells.style.position = 'absolute';
            this.divCells.oncontextmenu = this.$fk;
            this.$aT.appendChild(this.divCells);
            this.divLines = document.createElement("div");
            this.divLines.style.position = 'absolute';
            this.divLines.oncontextmenu = this.$fk;
            this.$aT.appendChild(this.divLines);
            this.divBreaks = document.createElement("div");
            this.divBreaks.style.position = 'absolute';
            this.divBreaks.oncontextmenu = this.$fk;
            this.$aT.appendChild(this.divBreaks);
            this.divSeparators = document.createElement("div");
            this.divSeparators.style.position = 'absolute';
            this.divSeparators.oncontextmenu = this.$fk;
            this.$aT.appendChild(this.divSeparators);
            this.divLinksBelow = document.createElement("div");
            this.divLinksBelow.style.position = "absolute";
            this.$aT.appendChild(this.divLinksBelow);
            this.divCrosshair = document.createElement("div");
            this.divCrosshair.style.position = 'absolute';
            this.divCrosshair.ondblclick = this.$fl;
            this.$aT.appendChild(this.divCrosshair);
            this.divRange = document.createElement("div");
            this.divRange.style.position = 'absolute';
            this.divRange.oncontextmenu = this.$fk;
            this.$aT.appendChild(this.divRange);
            this.divEvents = document.createElement("div");
            this.divEvents.style.position = 'absolute';
            this.$aT.appendChild(this.divEvents);
            this.divSeparatorsAbove = document.createElement("div");
            this.divSeparatorsAbove.style.position = 'absolute';
            this.divSeparatorsAbove.oncontextmenu = this.$fk;
            this.$aT.appendChild(this.divSeparatorsAbove);
            this.divLinksAbove = document.createElement("div");
            this.divLinksAbove.style.position = "absolute";
            this.$aT.appendChild(this.divLinksAbove);
            this.divLinkShadow = document.createElement("div");
            this.divLinkShadow.style.position = "absolute";
            this.$aT.appendChild(this.divLinkShadow);
            this.divLinkpoints = document.createElement("div");
            this.divLinkpoints.style.position = "absolute";
            this.$aT.appendChild(this.divLinkpoints);
            this.divRectangle = document.createElement("div");
            this.divRectangle.style.position = "absolute";
            this.$aT.appendChild(this.divRectangle);
            this.divHover = document.createElement("div");
            this.divHover.style.position = 'absolute';
            this.$aT.appendChild(this.divHover);
            $04.appendChild(this.$aT);
            return $04;
        };
        this.$fm = {};
        var $15 = this.$fm;
        $15.create = function() {
            if ($k.nav.overlay) {
                return;
            };
            var $04 = document.createElement('div');
            $04.style.position = "absolute";
            $04.style.left = "0px";
            $04.style.right = "0px";
            $04.style.top = "0px";
            $04.style.bottom = "0px";
            $04.className = $k.$b4("_block");
            $k.nav.top.appendChild($04);
            $k.nav.overlay = $04;
        };
        $15.show = function() {
            $15.create();
            $k.nav.overlay.style.display = '';
        };
        $15.hide = function() {
            if ($k.nav.overlay) {
                $k.nav.overlay.style.display = 'none';
            }
        };
        this.$cR = function($7R) {
            if ($k.loadingTimeout) {
                window.clearTimeout($k.loadingTimeout);
            };
            var $0c = $7R ? 0 : 100;
            $k.loadingTimeout = window.setTimeout(function() {
                if ($k.loadingLabelVisible) {
                    $k.nav.loading.innerHTML = $k.loadingLabelText;
                    $k.nav.loading.style.display = '';
                };
                if ($k.blockOnCallBack) {
                    $15.show();
                }
            }, $0c);
        };
        this.$al = function() {
            if (this.loadingTimeout) {
                window.clearTimeout(this.loadingTimeout);
            };
            this.nav.loading.style.display = 'none';
            if (this.blockOnCallBack) {
                $15.hide();
            }
        };
        this.uiBlock = function() {
            $15.show();
        };
        this.uiUnblock = function() {
            $15.hide();
        };
        this.$fn = function() {
            this.startDate = new DayPilot.Date(this.startDate).getDatePart();
        };
        this.$fo = function($7S) {
            var $04 = document.createElement("div");
            $04.style.position = "absolute";
            $04.style.top = "-2000px";
            $04.style.left = "-2000px";
            $04.className = this.$b4($7S);
            document.body.appendChild($04);
            var $T = $04.offsetHeight;
            var $C = $04.offsetWidth;
            document.body.removeChild($04);
            var $l = {};
            $l.height = $T;
            $l.width = $C;
            return $l;
        };
        this.$am = function($7T) {
            if ($7T) {
                this.autoRefreshEnabled = true;
            };
            if (!this.autoRefreshEnabled) {
                return;
            };
            if (this.$ag >= this.autoRefreshMaxCount) {
                return;
            };
            this.$cQ();
            var $7U = this.autoRefreshInterval;
            if (!$7U || $7U < 10) {
                throw "The minimum autoRefreshInterval is 10 seconds";
            };
            this.autoRefreshTimeout = window.setTimeout(function() {
                $k.$fp();
            }, this.autoRefreshInterval * 1000);
        };
        this.$cQ = function() {
            if (this.autoRefreshTimeout) {
                window.clearTimeout(this.autoRefreshTimeout);
                this.autoRefreshTimeout = null;
            }
        };
        this.autoRefreshStart = function($7T) {
            $k.$am($7T);
        };
        this.autoRefreshPause = function() {
            $k.$cQ();
        };
        this.$fp = function() {
            if (!DayPilotScheduler.resizing && !DayPilotScheduler.moving && !DayPilotScheduler.drag && !DayPilotScheduler.range) {
                var $7V = false;
                if (typeof this.onAutoRefresh === 'function') {
                    var $n = {};
                    $n.i = this.$ag;
                    $n.preventDefault = function() {
                        this.preventDefault.value = true;
                    };
                    $k.onAutoRefresh($n);
                    if ($n.preventDefault.value) {
                        $7V = true;
                    }
                };
                if (!$7V && this.$bd()) {
                    this.commandCallBack(this.autoRefreshCommand);
                };
                this.$ag++;
            };
            if (this.$ag < this.autoRefreshMaxCount) {
                this.autoRefreshTimeout = window.setTimeout(function() {
                    $k.$fp();
                }, this.autoRefreshInterval * 1000);
            }
        };
        this.$fq = function() {
            if (!DayPilotScheduler.globalHandlers) {
                DayPilotScheduler.globalHandlers = true;
                DayPilot.re(document, 'mousemove', DayPilotScheduler.gMouseMove);
                DayPilot.re(document, 'mouseup', DayPilotScheduler.gMouseUp);
                DayPilot.re(document, 'keyup', DayPilotScheduler.gKeyUp);
                DayPilot.re(document, 'mousedown', DayPilotScheduler.gMouseDown);
                DayPilot.re(document, 'touchmove', DayPilotScheduler.gTouchMove);
                DayPilot.re(document, 'touchend', DayPilotScheduler.gTouchEnd);
            };
            DayPilot.re(window, 'resize', this.$da);
        };
        this.$fr = function() {
            this.nav.scroll.root = this;
            this.nav.scroll.onscroll = this.$aQ;
            $k.$dR = this.nav.scroll.scrollLeft;
            $k.$dQ = this.nav.scroll.scrollTop;
            $k.$dS = this.divNorth.clientWidth;
        };
        this.$aN = function() {
            if (!this.nav.state) {
                return;
            };
            var $7W = {};
            $7W.scrollX = this.nav.scroll.scrollLeft;
            $7W.scrollY = this.nav.scroll.scrollTop;
            if (this.syncResourceTree) {
                $7W.tree = this.$d0();
            };
            this.nav.state.value = DayPilot.he(DayPilot.JSON.stringify($7W));
        };
        this.$aJ = function() {
            if (!this.separators) {
                return;
            };
            for (var i = 0; i < this.separators.length; i++) {
                this.$fs(i);
            }
        };
        this.$ft = {};
        this.$ft.step = 300;
        this.$ft.delay = 10;
        this.$ft.mode = "display";
        this.$ft.layers = false;
        this.$ey = function($z) {
            if ($k.cellStacking) {
                $69.calculateEventPositionsRow($z);
                return;
            };
            var $7X = true;
            var $7Y = this.durationBarDetached ? -10 : 0;
            var $6b = 0;
            for (var j = 0; j < $z.lines.length; j++) {
                var $0x = $z.lines[j];
                $0x.height = 0;
                $0x.top = $6b;
                for (var k = 0; k < $0x.length; k++) {
                    var e = $0x[k];
                    if (!e.part.top || $7X) {
                        e.part.line = j;
                        if (!e.part.height) {
                            e.part.height = $z.eventHeight;
                        };
                        var $6j = e.part.$ez();
                        if ($6j > $0x.height) {
                            $0x.height = $6j;
                        };
                        e.part.top = $6b + $z.marginTop;
                        if ($k.eventVersionsEnabled && !DayPilot.list(e.data.versions).isEmpty()) {
                            var $0j = e.data.versions.length;
                            var top = e.part.top;
                            DayPilot.list(e.data.versions).each(function($6n, i) {
                                if (!e.versions[i]) {
                                    return;
                                };
                                var $0F = i * ($k.eventVersionHeight + $k.eventVersionMargin);
                                e.versions[i].top = top + $0F;
                                e.part.top += $k.eventVersionHeight;
                                e.part.top += $k.eventVersionMargin;
                            });
                        };
                        e.part.top += $k.eventMarginBottom;
                        e.part.detachedBarTop = e.part.top - $7Y;
                        e.part.right = e.part.left + e.part.width;
                        e.part.fullTop = this.rowlist[e.part.dayIndex].top + e.part.top;
                        e.part.fullBottom = e.part.fullTop + e.part.height;
                    }
                };
                $6b += ($0x.height || $z.eventHeight) * $z.eventStackingLineHeight / 100;
            }
        };
        var $69 = {};
        $69.loadRow = function($z) {
            $z.evColumns = DayPilot.list($k.itline).map(function($R, i) {
                return {
                    "events": DayPilot.list()
                };
            });
            DayPilot.list($z.events).each(function(e) {
                var $M = e.start();
                var $R = $k.$bv($M);
                $z.evColumns[$R.i].events.push(e);
            });
        };
        $69.calculateEventPositions = function() {
            var $7K = $k.cellStackingAutoHeight;
            var $4B = 0;
            DayPilot.list($k.rowlist).each(function($z) {
                var $0a = 0;
                $z.evColumns.each(function($5i, i) {
                    var $R = $k.itline[i];
                    var top = $k.rowMarginTop;
                    $5i.events.each(function(e) {
                        e.part.left = $R.left;
                        e.part.width = $R.width;
                        e.part.top = top;
                        if (!e.part.height) {
                            if ($7K) {
                                e.part.height = $69.getEventAutoHeight(e) + $k.durationBarHeight;
                            } else {
                                e.part.height = $z.eventHeight;
                            }
                        };
                        top += e.part.height + $k.eventMarginBottom;
                    });
                    $5i.height = top;
                    if ($5i.height > $0a) {
                        $0a = $5i.height;
                    }
                });
                $z.maxColumnHeight = $0a;
                $z.top = $4B;
                var $7Z = $z.height;
                $z.height = $z.getHeight();
                if ($0a > $k.rowMarginTop) {
                    $z.height = $0a + $k.rowMarginBottom;
                };
                if ($7Z !== $z.height) {
                    $k.$cf = true;
                };
                $4B += $z.height;
            });
            $k.$ah = $4B;
        };
        $69.getEventAutoHeight = function(e) {
            var $0b = e.client.html();
            var $04 = document.createElement("div");
            $04.style.position = "absolute";
            $04.style.top = "-2000px";
            $04.style.left = "-2000px";
            $04.style.width = e.part.width + "px";
            $04.className = $k.$b4($08.event);
            var $07 = document.createElement("div");
            $07.className = $k.$b4($08.eventInner);
            $07.innerHTML = $0b;
            $07.style.position = 'static';
            $07.style.overflow = 'auto';
            $04.appendChild($07);
            var parent = $k.divEvents;
            parent.appendChild($04);
            var $T = $04.offsetHeight;
            parent.removeChild($04);
            return $T;
        };
        $69.calculateEventPositionsRow = function($z) {
            $69.calculateEventPositions();
        };
        $69.drawEventsWithoutCheckingOverflow = function() {
            DayPilot.list($k.rowlist).each(function($z) {
                $69.drawEventsRow($z);
            });
        };
        $69.drawEvents = function() {
            $69.drawEventsWithoutCheckingOverflow();
            $69.checkOverflow();
            $k.$aB();
            $k.$aD();
        };
        $69.checkOverflow = function() {
            if (!$k.cellStackingAutoHeight) {
                return;
            };
            var $80 = false;
            DayPilot.list($k.elements.events).each(function($04) {
                var $07 = $04.firstChild;
                var $81 = $07.offsetHeight - $07.clientHeight + $04.offsetHeight - $04.clientHeight;
                var $82 = $07.scrollHeight + $81;
                var $7N = $04.event.part.height;
                $04.event.part.height = $82;
                if ($7N !== $82) {
                    $80 = true;
                }
            });
            if ($80) {
                $k.$aF();
                $69.calculateEventPositions();
                $69.drawEventsWithoutCheckingOverflow();
                $k.$aE();
                $k.$aI();
            }
        };
        $69.drawEventsRow = function($z) {
            $z.evColumns.each(function($5i, i) {
                $5i.events.each(function(e) {
                    $k.$fu(e);
                });
            });
        };
        this.$aK = function($1o) {
            if ($k.cellStacking) {
                $69.drawEvents();
                return;
            };
            var $H = this.$ft.step;
            var $83 = this.$ft.layers;
            if ($83) {
                $k.divEvents = document.createElement("div");
                $k.divEvents.style.position = 'absolute';
                $k.$aT.insertBefore(this.divEvents, this.divSeparatorsAbove);
            };
            if (this.$ft.mode === 'display') {
                this.divEvents.style.display = 'none';
            } else if (this.$ft.mode === 'visibility') {
                this.divEvents.style.visibility = 'hidden';
            };
            var $84 = this.dynamicEventRendering === 'Progressive';
            var $L = this.$aX();
            var top = $L.pixels.top;
            var $Y = $L.pixels.bottom;
            for (var i = 0; i < this.rowlist.length; i++) {
                var $z = this.rowlist[i];
                var $4B = $z.top - this.dynamicEventRenderingMargin;
                var $85 = $4B + $z.height + 2 * this.dynamicEventRenderingMargin;
                if ($84 && ($Y <= $4B || top >= $85)) {
                    continue;
                };
                this.$ey($z);
                for (var j = 0; j < $z.lines.length; j++) {
                    var $0x = $z.lines[j];
                    for (var k = 0; k < $0x.length; k++) {
                        var e = $0x[k];
                        var $86 = this.$fu(e);
                        if ($1o && $86) {
                            $H--;
                            if ($H <= 0) {
                                this.divEvents.style.visibility = '';
                                this.divEvents.style.display = '';
                                window.setTimeout(function() {
                                    $k.$aK($1o);
                                }, $k.$ft.delay);
                                return;
                            }
                        }
                    }
                }
            };
            this.divEvents.style.display = '';
            if (!DayPilot.list($k.multiselect.list).isEmpty()) {
                $k.multiselect.redraw();
            };
            this.$b0();
            $1k.load();
        };
        this.$ch = function($87) {
            var $z = this.rowlist[$87];
            if ($k.cellStacking) {
                $69.drawEventsRow($z);
                return;
            };
            this.divEvents = document.createElement("div");
            this.divEvents.style.position = 'absolute';
            this.divEvents.style.display = 'none';
            this.$aT.insertBefore(this.divEvents, this.divSeparatorsAbove);
            var $7Y = this.durationBarDetached ? 10 : 0;
            this.$ey($z);
            for (var j = 0; j < $z.lines.length; j++) {
                var $0x = $z.lines[j];
                for (var k = 0; k < $0x.length; k++) {
                    var e = $0x[k];
                    this.$fu(e);
                }
            };
            this.divEvents.style.display = '';
        };
        this.$aF = function() {
            if (this.elements.events) {
                var length = this.elements.events.length;
                for (var i = 0; i < length; i++) {
                    var $04 = this.elements.events[i];
                    this.$fv($04);
                }
            };
            this.elements.events = [];
        };
        this.$cg = function($87) {
            if (this.elements.events) {
                var length = this.elements.events.length;
                var $88 = [];
                for (var i = 0; i < length; i++) {
                    var $04 = this.elements.events[i];
                    var e = $04.event;
                    if (e.part.dayIndex === $87) {
                        this.$fv($04);
                        $88.push(i);
                    }
                };
                for (var i = $88.length - 1; i >= 0; i--) {
                    this.elements.events.splice($88[i], 1);
                }
            }
        };
        this.$fv = function($04) {
            $04.onclick = null;
            $04.oncontextmenu = null;
            $04.onmouseover = null;
            $04.onmouseout = null;
            $04.onmousemove = null;
            $04.onmousedown = null;
            $04.ondblclick = null;
            if ($04.event) {
                if (!$04.isBar) {
                    $04.event.rendered = null;
                };
                $04.event = null;
            };
            if ($04.related) {
                DayPilot.de($04.related);
            };
            if ($04.parentNode) {
                $04.parentNode.removeChild($04);
            }
        };
        this.$fw = function($04) {
            if ($04.event) {
                $04.event.rendered = false;
            };
            $04.onclick = null;
            $04.onmousedown = null;
            $04.event = null;
            if ($04.parentNode) {
                $04.parentNode.removeChild($04);
            }
        };
        this.$fx = function($89) {
            if (!$89) {
                $89 = 0;
            };
            if (this.dynamicEventRendering !== 'Progressive') {
                return;
            };
            this.divEvents.style.display = 'none';
            var $8a = [];
            var $8b = 0;
            var length = this.elements.events.length;
            for (var i = length - 1; i >= 0; i--) {
                var $04 = this.elements.events[i];
                if (this.$fy($04.event)) {
                    if ($89 > 0) {
                        $89--;
                        $8a.unshift($04);
                    } else {
                        this.$fv($04);
                        $8b++;
                    }
                } else {
                    $8a.unshift($04);
                }
            };
            this.elements.events = $8a;
            this.divEvents.style.display = '';
        };
        this.$fz = function($89) {
            var $8a = [];
            var $8b = 0;
            var $L = this.$aX();
            var length = this.elements.cells.length;
            for (var i = length - 1; i >= 0; i--) {
                var $04 = this.elements.cells[i];
                var $8c = ($L.xStart < $04.coords.x && $04.coords.x <= $L.xEnd) && ($L.yStart < $04.coords.y && $04.coords.y <= $L.yEnd);
                if (!$8c) {
                    if ($89 > 0) {
                        $89--;
                        $8a.unshift($04);
                    } else {
                        this.$dw($04);
                        $8b++;
                    }
                } else {
                    $8a.unshift($04);
                }
            }
        };
        this.$dw = function($04) {
            if (!$04) {
                return;
            };
            var x = $04.coords.x;
            var y = $04.coords.y;
            DayPilot.rfa($k.elements.cells, $04);
            DayPilot.de($04);
            $k.$ai.cells[x + "_" + y] = null;
        };
        this.$aG = function() {
            if (this.elements.separators) {
                for (var i = 0; i < this.elements.separators.length; i++) {
                    var $04 = this.elements.separators[i];
                    DayPilot.de($04);
                }
            };
            this.elements.separators = [];
        };
        this.$fA = function() {
            var $84 = this.dynamicEventRendering === 'Progressive';
            if (!this.nav.scroll) {
                return false;
            };
            var top = this.nav.scroll.scrollTop;
            var $Y = top + this.nav.scroll.clientHeight;
            for (var i = 0; i < this.rowlist.length; i++) {
                var $z = this.rowlist[i];
                var $4B = $z.top;
                var $85 = $z.top + $z.height;
                if ($84 && ($Y <= $4B || top >= $85)) {
                    continue;
                };
                for (var j = 0; j < $z.lines.length; j++) {
                    var $0x = $z.lines[j];
                    for (var k = 0; k < $0x.length; k++) {
                        var e = $0x[k];
                        if (this.$fB(e)) {
                            return true;
                        }
                    }
                }
            };
            return false;
        };
        this.$fB = function($s) {
            if ($s.rendered) {
                return false;
            };
            var $84 = this.dynamicEventRendering === 'Progressive';
            var $P = this.nav.scroll.scrollLeft;
            var $Q = $P + this.nav.scroll.clientWidth;
            var $8d = $s.Left;
            var $8e = $s.Left + $s.Width;
            if ($84 && ($Q <= $8d || $P >= $8e)) {
                return false;
            };
            return true;
        };
        this.$fy = function(ev) {
            if (!ev.rendered) {
                return true;
            };
            var $L = this.$aX();
            var top = $L.pixels.top;
            var $Y = $L.pixels.bottom;
            var $P = $L.pixels.left - this.dynamicEventRenderingMargin;
            var $Q = $L.pixels.right + this.dynamicEventRenderingMargin;
            var $8d = ev.part.left;
            var $8e = ev.part.right;
            var $8f = ev.part.fullTop;
            var $8g = ev.part.fullBottom;
            if ($Q <= $8d || $P >= $8e) {
                return true;
            };
            if ($Y <= $8f || top >= $8g) {
                return true;
            };
            return false;
        };
        this.$ex = DayPilot.list();
        this.$fC = function($6c) {
            if ($6c.rendered) {
                return false;
            };
            var $z = $6c.row;
            if ($z.hidden) {
                return false;
            };
            var $P = $6c.min;
            var $C = $6c.max - $6c.min;
            var $T = $k.eventHeight;
            var top = $6c.row.top;
            var $04 = document.createElement("div");
            $04.style.position = 'absolute';
            $04.style.left = $P + 'px';
            $04.style.top = top + 'px';
            $04.style.width = $C + 'px';
            $04.style.height = $T + 'px';
            $04.className = $k.$b4("_event_group");
            $04.style.cursor = "pointer";
            var $n = {};
            $n.group = {};
            $n.group.count = $6c.events.length;
            $n.group.html = "[+] " + $6c.events.length + " events";
            if (typeof $k.onBeforeGroupRender === "function") {
                $k.onBeforeGroupRender($n);
            };
            var $07 = document.createElement("div");
            $07.innerHTML = $n.group.html;
            $04.appendChild($07);
            $04.onmousedown = function(ev) {
                var ev = ev || window.event;
                ev.cancelBubble = true;
            };
            $04.onclick = function(ev) {
                var $6c = $04.event;
                $6c.expanded = true;
                $k.$fw($04);
                var $8h = DayPilot.indexOf($k.elements.events, $04);
                if ($8h !== -1) {
                    $k.elements.events.splice($8h, 1);
                };
                var $00 = $k.$ex;
                DayPilot.list($6c.events).each(function(e) {
                    $00.push(e.id());
                });
                $k.$bU();
                $k.$bV($6c.part.dayIndex);
                $k.$aD();
                var ev = ev || window.event;
                ev.cancelBubble = true;
            };
            $6c.part = {};
            $6c.part.left = $P;
            $6c.part.width = $C;
            $6c.part.height = $k.eventHeight;
            $6c.part.dayIndex = DayPilot.indexOf($k.rowlist, $6c.row);
            $6c.part.top = 0;
            $6c.part.isBlock = true;
            $6c.client = {};
            $6c.client.html = function() {
                return $n.group.html;
            };
            $6c.data = {};
            $04.event = $6c;
            this.elements.events.push($04);
            this.divEvents.appendChild($04);
            $6c.rendered = true;
            return true;
        };
        this.$fu = function(e) {
            if (e.rendered) {
                return false;
            };
            if ($k.groupConcurrentEvents) {
                var $6c = e.part.block;
                if ($6c.events.length > 1 && !$6c.expanded) {
                    return $k.$fC($6c);
                }
            };
            var $84 = this.dynamicEventRendering === 'Progressive';
            var $L = this.$aX();
            var $P = $L.pixels.left - this.dynamicEventRenderingMargin;
            var $Q = $L.pixels.right + this.dynamicEventRenderingMargin;
            var $8d = e.part.left;
            var $8e = e.part.left + e.part.width;
            if ($84 && ($Q <= $8d || $P >= $8e)) {
                return false;
            };
            var $87 = e.part.dayIndex;
            var $C = e.part.width;
            var $T = e.part.height;
            var $0z = e.cache || e.data;
            $C = Math.max(0, $C);
            $T = Math.max(0, $T);
            var $z = this.rowlist[$87];
            if ($z.hidden) {
                return false;
            };
            var $4B = $z.top;
            var $8i = this.durationBarDetached;
            var $04 = document.createElement("div");
            $04.related = [];
            if ($8i) {
                var $8j = e.part.barLeft;
                var $4C = e.part.barWidth;
                if (this.durationBarMode === "PercentComplete") {
                    $8j = 0;
                    $4C = ($0z.complete || 0) / 100 * $C;
                };
                var $3F = document.createElement("div");
                $3F.style.position = 'absolute';
                $3F.style.left = (e.part.left + $8j) + 'px';
                $3F.style.top = ($4B + e.part.detachedBarTop) + 'px';
                $3F.style.width = $4C + 'px';
                $3F.style.height = 5 + 'px';
                $3F.style.backgroundColor = "black";
                $3F.type = "detachedBar";
                $04.related.push($3F);
                this.divEvents.appendChild($3F);
            };
            (function drawVersions(parent) {
                if (!$k.eventVersionsEnabled) {
                    return;
                };
                DayPilot.list(e.data.versions).each(function($6n, i) {
                    if (!$6n) {
                        return;
                    };
                    var $8k = e.versions[i];
                    if (!$8k) {
                        return;
                    };
                    var $04 = document.createElement("div");
                    $04.style.position = 'absolute';
                    $04.style.left = $8k.left + 'px';
                    $04.style.top = ($4B + $8k.top) + 'px';
                    $04.style.width = $8k.width + 'px';
                    $04.style.height = $k.eventVersionHeight + 'px';
                    $04.className = $k.$b4($08.event) + " " + $k.$b4("_event_previous") + " " + $k.$b4("_event_version");
                    if ($6n.toolTip) {
                        $04.title = $6n.toolTip;
                    };
                    if ($6n.cssClass) {
                        DayPilot.Util.addClass($04, $6n.cssClass);
                    };
                    var $07 = document.createElement("div");
                    $07.setAttribute("unselectable", "on");
                    $07.className = $k.$b4($08.eventInner);
                    $07.innerHTML = $6n.html || $6n.text || "";
                    if ($6n.backColor) {
                        $07.style.background = $6n.backColor;
                        if (DayPilot.browser.ie9 || DayPilot.browser.ielt9) {
                            $07.style.filter = '';
                        }
                    };
                    if ($6n.fontColor) {
                        $07.style.color = $6n.fontColor;
                    };
                    if ($6n.borderColor) {
                        $07.style.borderColor = $6n.borderColor;
                    };
                    if ($6n.backImage) {
                        $07.style.backgroundImage = "url(" + $6n.backImage + ")";
                        if ($6n.backRepeat) {
                            $07.style.backgroundRepeat = $6n.backRepeat;
                        }
                    };
                    $04.appendChild($07);
                    if ($8k.continueLeft) {
                        DayPilot.Util.addClass($04, $k.$b4("_event_continueleft"));
                    };
                    if ($8k.continueRight) {
                        DayPilot.Util.addClass($04, $k.$b4("_event_continueright"));
                    };
                    var $4D = $k.durationBarVisible && !$6n.barHidden;
                    var $C = $8k.width;
                    if ($4D && $C > 0) {
                        var $8j = 100 * $8k.barLeft / ($C);
                        var $4C = Math.ceil(100 * $8k.barWidth / ($C));
                        if ($k.durationBarMode === "PercentComplete") {
                            $8j = 0;
                            $4C = $6n.complete || 0;
                        };
                        var $3F = document.createElement("div");
                        $3F.setAttribute("unselectable", "on");
                        $3F.className = $k.$b4($08.eventBar);
                        $3F.style.position = "absolute";
                        if ($6n.barBackColor) {
                            $3F.style.backgroundColor = $6n.barBackColor;
                        };
                        var $8l = document.createElement("div");
                        $8l.setAttribute("unselectable", "on");
                        $8l.className = $k.$b4($08.eventBarInner);
                        $8l.style.left = $8j + "%";
                        if (0 < $4C && $4C <= 1) {
                            $8l.style.width = "1px";
                        } else {
                            $8l.style.width = $4C + "%";
                        };
                        if ($6n.barColor) {
                            $8l.style.backgroundColor = $6n.barColor;
                        };
                        if ($6n.barImageUrl) {
                            $8l.style.backgroundImage = "url(" + $6n.barImageUrl + ")";
                        };
                        $3F.appendChild($8l);
                        $04.appendChild($3F);
                    };
                    if ($6n.htmlLeft) {
                        var $5z = 5;
                        var $8m = document.createElement("div");
                        $8m.style.position = 'absolute';
                        $8m.style.right = -($8k.left - $5z) + 'px';
                        $8m.style.top = ($4B + $8k.top) + 'px';
                        $8m.style.height = $k.eventHeight + 'px';
                        $8m.style.boxSizing = "border-box";
                        $8m.innerHTML = $6n.htmlLeft;
                        $8m.className = $k.$b4("_event_left");
                        $8m.type = "divLeft";
                        $8m.versionPart = $8k;
                        parent.related.push($8m);
                        $k.divEvents.appendChild($8m);
                    };
                    if ($6n.htmlRight) {
                        var $5z = 5;
                        var $8n = document.createElement("div");
                        $8n.style.position = 'absolute';
                        $8n.style.left = ($8k.left + $8k.width + $5z) + 'px';
                        $8n.style.top = ($4B + $8k.top) + 'px';
                        $8n.style.height = $k.eventHeight + 'px';
                        $8n.style.boxSizing = "border-box";
                        $8n.innerHTML = $6n.htmlRight;
                        $8n.className = $k.$b4("_event_right");
                        $8n.type = "divRight";
                        $8n.versionPart = $8k;
                        parent.related.push($8n);
                        $k.divEvents.appendChild($8n);
                    };
                    $04.versionPart = $8k;
                    $04.type = "version";
                    parent.related.push($04);
                    $k.divEvents.appendChild($04);
                });
            })($04);
            if (e.data.htmlLeft) {
                var $5z = 5;
                var $8m = document.createElement("div");
                $8m.style.position = 'absolute';
                $8m.style.right = -(e.part.left - $5z) + 'px';
                $8m.style.top = ($4B + e.part.top) + 'px';
                $8m.style.height = $k.eventHeight + 'px';
                $8m.style.boxSizing = "border-box";
                $8m.innerHTML = e.data.htmlLeft;
                $8m.className = $k.$b4("_event_left");
                $8m.type = "divLeft";
                $04.related.push($8m);
                this.divEvents.appendChild($8m);
            };
            if (e.data.htmlRight) {
                var $5z = 5;
                var $8n = document.createElement("div");
                $8n.style.position = 'absolute';
                $8n.style.left = (e.part.left + e.part.width + $5z) + 'px';
                $8n.style.top = ($4B + e.part.top) + 'px';
                $8n.style.height = $k.eventHeight + 'px';
                $8n.style.boxSizing = "border-box";
                $8n.innerHTML = e.data.htmlRight;
                $8n.className = $k.$b4("_event_right");
                $8n.type = "divRight";
                $04.related.push($8n);
                this.divEvents.appendChild($8n);
            };
            var top = $4B + e.part.top;
            $04.style.position = 'absolute';
            $04.style.left = (e.part.left + $k.eventMarginLeft) + 'px';
            $04.style.top = ($4B + e.part.top) + 'px';
            $04.style.width = ($C - $k.eventMarginLeft - $k.eventMarginRight) + 'px';
            $04.style.height = $T + 'px';
            if (!$k.eventTextWrappingEnabled) {
                $04.style.whiteSpace = 'nowrap';
            };
            $04.style.overflow = 'hidden';
            $04.className = this.$b4($08.event);
            if (e.data.type === "Milestone") {
                DayPilot.Util.addClass($04, $k.$b4("_task_milestone"));
            };
            if (e.data.type === "Group") {
                DayPilot.Util.addClass($04, $k.$b4("_task_parent"));
                DayPilot.Util.addClass($04, $k.$b4("_task_group"));
            };
            if ($0z.cssClass) {
                DayPilot.Util.addClass($04, $0z.cssClass);
            };
            var $8o = true;
            if ($8o && typeof e.part.line === "number") {
                DayPilot.Util.addClass($04, this.$b4($08.eventLine + e.part.line));
            };
            $04.setAttribute("unselectable", "on");
            if (this.showToolTip && !this.bubble) {
                $04.title = e.client.toolTip() || "";
            };
            $04.onmousemove = this.$fD;
            $04.onmouseout = this.$fE;
            $04.onmousedown = this.$fF;
            $04.ontouchstart = $0Q.onEventTouchStart;
            $04.ontouchmove = $0Q.onEventTouchMove;
            $04.ontouchend = $0Q.onEventTouchEnd;
            if (e.client.clickEnabled()) {
                $04.onclick = this.$bx;
            };
            if (e.client.doubleClickEnabled()) {
                $04.ondblclick = this.$bJ;
            };
            $04.oncontextmenu = this.$bI;
            var $8p = [];
            var $8q = 0;
            var $07 = document.createElement("div");
            $07.setAttribute("unselectable", "on");
            $07.className = $k.$b4($08.eventInner);
            $07.innerHTML = e.client.innerHTML();
            if ($0z.backColor) {
                $07.style.background = $0z.backColor;
                if (DayPilot.browser.ie9 || DayPilot.browser.ielt9) {
                    $07.style.filter = '';
                }
            };
            if ($0z.fontColor) {
                $07.style.color = $0z.fontColor;
            };
            if ($0z.borderColor) {
                $07.style.borderColor = $0z.borderColor;
            };
            if ($0z.backImage) {
                $07.style.backgroundImage = "url(" + $0z.backImage + ")";
                if ($0z.backRepeat) {
                    $07.style.backgroundRepeat = $0z.backRepeat;
                }
            };
            $04.appendChild($07);
            var $8r = e.start().getTime() === e.part.start.getTime();
            var $8s = e.rawend().getTime() === e.part.end.getTime();
            if (!$8r) {
                DayPilot.Util.addClass($04, this.$b4("_event_continueleft"));
            };
            if (!$8s) {
                DayPilot.Util.addClass($04, this.$b4("_event_continueright"));
            };
            if (e.client.barVisible() && $C > 0) {
                var $8j = 100 * e.part.barLeft / ($C);
                var $4C = Math.ceil(100 * e.part.barWidth / ($C));
                if (this.durationBarMode === "PercentComplete") {
                    $8j = 0;
                    $4C = $0z.complete || 0;
                };
                var $3F = document.createElement("div");
                $3F.setAttribute("unselectable", "on");
                $3F.className = this.$b4($08.eventBar);
                $3F.style.position = "absolute";
                if ($0z.barBackColor) {
                    $3F.style.backgroundColor = $0z.barBackColor;
                };
                var $8l = document.createElement("div");
                $8l.setAttribute("unselectable", "on");
                $8l.className = this.$b4($08.eventBarInner);
                $8l.style.left = $8j + "%";
                if (0 < $4C && $4C <= 1) {
                    $8l.style.width = "1px";
                } else {
                    $8l.style.width = $4C + "%";
                };
                if ($0z.barColor) {
                    $8l.style.backgroundColor = $0z.barColor;
                };
                if ($0z.barImageUrl) {
                    $8l.style.backgroundImage = "url(" + $0z.barImageUrl + ")";
                };
                $3F.appendChild($8l);
                $04.appendChild($3F);
            };
            $04.row = $87;
            if ($0z.areas) {
                for (var i = 0; i < $0z.areas.length; i++) {
                    var $L = $0z.areas[i];
                    var v = $L.v || "Visible";
                    if (v !== "Visible") {
                        continue;
                    };
                    if ($L.start || $L.end) {
                        $L.left = $k.getPixels(new DayPilot.Date($L.start)).left - e.part.left;
                        $L.width = $k.getPixels(new DayPilot.Date($L.end)).left - $L.left - e.part.left;
                    };
                    var a = DayPilot.Areas.createArea($04, e, $L);
                    $04.appendChild(a);
                }
            };
            this.elements.events.push($04);
            this.divEvents.appendChild($04);
            e.rendered = true;
            $04.event = e;
            if ($k.multiselect.$bZ($04.event)) {
                $k.multiselect.add($04.event, true);
                $k.multiselect.$bY($04);
            };
            if ($k.$aR()) {
                if (typeof $k.onAfterEventRender === 'function') {
                    var $n = {};
                    $n.e = $04.event;
                    $n.div = $04;
                    $k.onAfterEventRender($n);
                }
            } else {
                if ($k.afterEventRender) {
                    $k.afterEventRender($04.event, $04);
                }
            };
            return true;
        };
        this.$aR = function() {
            return $k.api === 2;
        };
        this.$ci = function() {
            for (var i = 0; i < this.elements.events.length; i++) {
                var $04 = this.elements.events[i];
                var event = $04.event;
                var $87 = event.part.dayIndex;
                var $z = this.rowlist[$87];
                var $4B = $z.top;
                var top = $4B + event.part.top;
                $04.style.top = top + 'px';
                DayPilot.list($04.related).filter(function($02) {
                    return !!$02.versionPart;
                }).each(function($8t) {
                    var $8k = $8t.versionPart;
                    $8t.style.top = ($4B + $8k.top) + 'px';
                });
                DayPilot.list($04.related).filter(function($02) {
                    return !$02.versionPart && ($02.type === "divLeft" || $02.type === "divRight");
                }).each(function($8t) {
                    $8t.style.top = top + 'px';
                });
            }
        };
        this.$dk = function(e) {
            if (!e) {
                return null;
            };
            for (var i = 0; i < $k.elements.events.length; i++) {
                var $04 = $k.elements.events[i];
                if ($04.event === e || $04.event.data === e.data) {
                    return $04;
                }
            };
            return null;
        };
        this.$fE = function(ev) {
            var $04 = this;
            DayPilot.Areas.hideAreas($04, ev);
            DayPilot.Util.removeClass($04, $k.$b4("_event_hover"));
            $k.$fG($04);
            if (!$28.source) {
                $1k.hideLinkpointsWithDelay();
            };
            if ($k.bubble && $k.eventHoverHandling === 'Bubble') {
                $k.bubble.hideOnMouseOut();
            }
        };
        this.$fH = function($04) {
            if (typeof this.onEventMouseOver === "function") {
                var $n = {};
                $n.div = $04;
                $n.e = $04.event;
                this.onEventMouseOver($n);
            }
        };
        this.$fG = function($04) {
            if (typeof this.onEventMouseOut === "function") {
                var $n = {};
                $n.div = $04;
                $n.e = $04.event;
                this.onEventMouseOut($n);
            }
        };
        this.$fD = function(ev) {
            ev = ev || window.event;
            if ($k.cellBubble) {
                $k.cellBubble.delayedHide();
            };
            var $04 = this;
            while ($04 && !$04.event) {
                $04 = $04.parentNode;
            };
            $k.$fI($04, ev);
            var $8u = $04.event.cache ? $04.event.cache.deleteDisabled : $04.event.data.deleteDisabled;
            if (!$04.active) {
                var $5M = [];
                if ($k.eventDeleteHandling !== "Disabled" && !$8u) {
                    var top = $k.durationBarVisible ? $k.durationBarHeight : 0;
                    $5M.push({
                        "action": "JavaScript",
                        "v": "Hover",
                        "w": 17,
                        "h": 17,
                        "top": top + 2,
                        "right": 2,
                        "css": $k.$b4($08.eventDelete),
                        "js": function(e) {
                            $k.$bF(e);
                        }
                    });
                };
                var $00 = $04.event.cache ? $04.event.cache.areas : $04.event.data.areas;
                if ($00 && $00.length > 0) {
                    $5M = $5M.concat($00);
                };
                DayPilot.Areas.showAreas($04, $04.event, null, $5M);
                DayPilot.Util.addClass($04, $k.$b4("_event_hover"));
                $k.$fH($04);
            };
            if ($k.linkCreateHandling !== "Disabled" && !$28.source) {
                $1k.clearHideTimeout();
                $1k.hideLinkpoints();
                if (!DayPilotScheduler.moving && !DayPilotScheduler.resizing) {
                    $1k.showLinkpoint($04);
                }
            };
            if (ev.srcElement) {
                ev.srcElement.insideEvent = true;
            } else {
                ev.insideEvent = true;
            }
        };
        this.$fJ = {};
        var $0R = this.$fJ;
        this.$fF = function(ev) {
            $k.$ef();
            if (typeof DayPilot.Bubble !== 'undefined') {
                DayPilot.Bubble.hideActive();
            };
            ev = ev || window.event;
            var $8v = DayPilot.Util.mouseButton(ev);
            if ($8v.left) {
                var $1E = ev.shiftKey;
                if ($k.multiSelectRectangle !== "Disabled" && $1E) {
                    $0W.start();
                    return false;
                };
                if (this.style.cursor === 'w-resize' || this.style.cursor === 'e-resize') {
                    DayPilotScheduler.preventEventClick = true;
                    DayPilotScheduler.resizing = this;
                    DayPilotScheduler.originalMouse = DayPilot.mc(ev);
                    document.body.style.cursor = this.style.cursor;
                    $1k.hideLinkpoints();
                } else if ((this.style.cursor === 'move') || ($k.moveBy === 'Full' && this.event.client.moveEnabled())) {
                    $0R.start = true;
                    $0R.moving = this;
                    $0R.movingEvent = this.event;
                    $0R.originalMouse = DayPilot.mc(ev);
                    $0R.moveOffsetX = DayPilot.mo3(this, ev).x;
                    $0R.moveDragStart = $k.getDate($k.coords.x, true);
                    $1k.hideLinkpoints();
                }
            };
            DayPilot.Menu && DayPilot.Menu.active && DayPilot.Menu.active.hide();
            ev.cancelBubble = true;
            return false;
        };
        this.$fK = {};
        var $0Q = $k.$fK;
        $0Q.active = false;
        $0Q.start = false;
        $0Q.timeouts = [];
        $0Q.onEventTouchStart = function(ev) {
            if ($0Q.active || $0Q.start) {
                return;
            };
            ev.stopPropagation();
            $0Q.clearTimeouts();
            $0Q.start = true;
            $0Q.active = false;
            var $04 = this;
            var $8w = $k.tapAndHoldTimeout;
            $0Q.timeouts.push(window.setTimeout(function() {
                $0Q.active = true;
                $0Q.start = false;
                $k.coords = $0Q.relativeCoords(ev);
                ev.preventDefault();
                var e = $04.event;
                switch ($k.eventTapAndHoldHandling) {
                    case "Move":
                        if (e.client.moveEnabled()) {
                            var $21 = touchMousePos(ev);
                            $0Q.startMoving($04, $21);
                        };
                        break;
                    case "ContextMenu":
                        if (DayPilot.Menu) {
                            DayPilot.Menu.touchPosition(ev);
                        };
                        var $0V = e.client.contextMenu();
                        if ($0V) {
                            $0V.show(e);
                        } else {
                            if ($k.contextMenu) {
                                $k.contextMenu.show(e);
                            }
                        };
                        break;
                }
            }, $8w));
        };
        $0Q.onEventTouchMove = function(ev) {
            $0Q.clearTimeouts();
            $0Q.start = false;
        };
        $0Q.onEventTouchEnd = function(ev) {
            if (DayPilot.Util.isMouseEvent(ev)) {
                return;
            };
            $0Q.clearTimeouts();
            if ($0Q.start) {
                $0Q.start = false;
                ev.preventDefault();
                ev.stopPropagation();
                var $04 = this;
                window.setTimeout(function() {
                    $k.$bB($04, ev);
                });
            };
            window.setTimeout(function() {
                $0Q.start = false;
                $0Q.active = false;
            }, 500);
        };
        $0Q.onMainTouchStart = function(ev) {
            if ($0Q.active || $0Q.start) {
                return;
            };
            if (ev.touches.length > 1) {
                return;
            };
            if ($k.timeRangeSelectedHandling === 'Disabled') {
                return;
            };
            $0Q.clearTimeouts();
            $0Q.start = true;
            $0Q.active = false;
            var $8w = $k.tapAndHoldTimeout;
            $0Q.timeouts.push(window.setTimeout(function() {
                $0Q.active = true;
                $0Q.start = false;
                ev.preventDefault();
                $k.coords = $0Q.relativeCoords(ev);
                $0Q.range = $k.$fL();
            }, $8w));
            var $8x = true;
            if ($8x) {
                $k.coords = $0Q.relativeCoords(ev);
            }
        };
        $0Q.onMainTouchMove = function(ev) {
            $0Q.clearTimeouts();
            $0Q.start = false;
            if (DayPilotScheduler.resizing) {
                ev.preventDefault();
                $0Q.updateResizing();
                return;
            };
            if ($0Q.active) {
                ev.preventDefault();
                $k.coords = $0Q.relativeCoords(ev);
                if (DayPilotScheduler.moving) {
                    $0Q.updateMoving();
                    return;
                };
                if ($0Q.range) {
                    var $1t = $0Q.range;
                    $1t.end = {
                        x: Math.floor($k.coords.x / $k.cellWidth)
                    };
                    $k.$cw($1t);
                }
            }
        };
        $0Q.onMainTouchEnd = function(ev) {
            $0Q.clearTimeouts();
            var $8x = true;
            if ($0Q.active) {
                if (DayPilotScheduler.moving) {
                    ev.preventDefault();
                    var e = DayPilotScheduler.movingEvent;
                    var $0p = DayPilotScheduler.movingShadow.start;
                    var $13 = DayPilotScheduler.movingShadow.end;
                    var $18 = ($k.viewType !== 'Days') ? DayPilotScheduler.movingShadow.row.id : null;
                    var external = DayPilotScheduler.drag ? true : false;
                    var $5q = DayPilotScheduler.movingShadow.overlapping;
                    var $8y = !DayPilotScheduler.movingShadow.allowed;
                    DayPilot.Util.removeClass(DayPilotScheduler.moving, $k.$b4("_event_moving_source"));
                    DayPilot.de(DayPilotScheduler.movingShadow);
                    $k.$e5();
                    DayPilotScheduler.movingShadow.calendar = null;
                    document.body.style.cursor = '';
                    DayPilotScheduler.moving = null;
                    DayPilotScheduler.movingEvent = null;
                    DayPilotScheduler.movingShadow = null;
                    $k.$e0.clear();
                    if ($5q || $8y || $k.$e0.forbidden || $k.$e0.invalid) {
                        return;
                    };
                    $k.$cm(e, $0p, $13, $18, external);
                };
                if ($0Q.range) {
                    var $1t = $0Q.range;
                    $0Q.range = null;
                    var $22 = $k.elements.range2;
                    if ($22 && $22.overlapping) {
                        $k.clearSelection();
                    } else {
                        $k.$cs($1t);
                    }
                }
            } else if ($0Q.start && $8x) {
                var $1t = $k.$fL();
                $k.$cw($1t);
                var $22 = $k.elements.range2;
                if ($22 && $22.overlapping) {
                    $k.clearSelection();
                } else {
                    $k.$cs($1t);
                }
            };
            window.setTimeout(function() {
                $0Q.start = false;
                $0Q.active = false;
            }, 500);
        };
        $0Q.clearTimeouts = function() {
            for (var i = 0; i < $0Q.timeouts.length; i++) {
                clearTimeout($0Q.timeouts[i]);
            };
            $0Q.timeouts = [];
        };
        $0Q.relativeCoords = function(ev) {
            var $4Z = $k.$aT;
            var x = ev.touches[0].pageX;
            var y = ev.touches[0].pageY;
            var $8z = DayPilot.abs($4Z);
            var $21 = {
                x: x - $8z.x,
                y: y - $8z.y,
                toString: function() {
                    return "x: " + this.x + ", y:" + this.y;
                }
            };
            return $21;
        };
        $0Q.startMoving = function($04, $21) {
            DayPilotScheduler.moving = $04;
            DayPilotScheduler.movingEvent = $04.event;
            DayPilotScheduler.originalMouse = $21;
            var $8A = DayPilot.abs($04);
            DayPilotScheduler.moveOffsetX = $21.x - $8A.x;
            DayPilotScheduler.moveDragStart = $k.getDate($k.coords.x, true);
            DayPilotScheduler.movingShadow = $k.$de($04, $k.shadow);
            $k.$dJ();
        };
        $0Q.startResizing = function($04, $3i) {
            DayPilotScheduler.resizing = $04;
            DayPilotScheduler.resizing.dpBorder = $3i;
            if (!DayPilotScheduler.resizingShadow) {
                DayPilotScheduler.resizingShadow = $k.$de($04, $k.shadow);
            };
            $k.$e1();
        };
        $0Q.updateResizing = function() {
            if (!DayPilotScheduler.resizingShadow) {
                var mv = DayPilotScheduler.resizing;
                DayPilotScheduler.resizingShadow = $k.$de(mv, $k.shadow);
            };
            $k.$e1();
        };
        $0Q.updateMoving = function() {
            if (DayPilotScheduler.movingShadow && DayPilotScheduler.movingShadow.calendar !== $k) {
                DayPilotScheduler.movingShadow.calendar = null;
                DayPilot.de(DayPilotScheduler.movingShadow);
                DayPilotScheduler.movingShadow = null;
            };
            if (!DayPilotScheduler.movingShadow) {
                var mv = DayPilotScheduler.moving;
                DayPilotScheduler.movingShadow = $k.$de(mv, $k.shadow);
            };
            DayPilotScheduler.moving.target = $k;
            $k.$dJ();
        };
        this.$fI = function($04, ev) {
            var $8B = this.eventResizeMargin;
            var $8C = this.eventMoveMargin;
            var $1Z = $04;
            if (typeof(DayPilotScheduler) === 'undefined') {
                return;
            };
            var $0F = DayPilot.mo3($04, ev);
            if (!$0F) {
                return;
            };
            $k.eventOffset = $0F;
            if (DayPilotScheduler.resizing) {
                return;
            };
            if (DayPilotScheduler.moving) {
                return;
            };
            var $8D = $1Z.event.part.start.toString() === $1Z.event.start().toString();
            var $8E = $1Z.event.part.end.toString() === $1Z.event.rawend().toString();
            if ($k.moveBy === 'Top' && $0F.y <= $8C && $1Z.event.client.moveEnabled() && $k.eventMoveHandling !== 'Disabled') {
                $04.style.cursor = 'move';
            } else if (($k.moveBy === 'Top' || $k.moveBy === 'Full') && $0F.x <= $8B && $1Z.event.client.resizeEnabled() && $k.eventResizeHandling !== 'Disabled') {
                if ($8D) {
                    $04.style.cursor = "w-resize";
                    $04.dpBorder = 'left';
                } else {
                    $04.style.cursor = 'not-allowed';
                }
            } else if ($k.moveBy === 'Left' && $0F.x <= $8C && $1Z.event.client.moveEnabled() && $k.eventMoveHandling !== 'Disabled') {
                $04.style.cursor = "move";
            } else if ($04.offsetWidth - $0F.x <= $8B && $1Z.event.client.resizeEnabled() && $k.eventResizeHandling !== 'Disabled') {
                if ($8E) {
                    $04.style.cursor = "e-resize";
                    $04.dpBorder = 'right';
                } else {
                    $04.style.cursor = 'not-allowed';
                }
            } else if (!DayPilotScheduler.resizing && !DayPilotScheduler.moving) {
                if ($1Z.event.client.clickEnabled() && $k.eventClickHandling !== 'Disabled') {
                    $04.style.cursor = 'pointer';
                } else {
                    $04.style.cursor = 'default';
                }
            };
            if (typeof(DayPilotBubble) !== 'undefined' && $k.bubble && $k.eventHoverHandling === 'Bubble') {
                if ($04.style.cursor === 'default' || $04.style.cursor === 'pointer') {
                    var $8F = this.$fM && $0F.x === this.$fM.x && $0F.y === this.$fM.y;
                    if (!$8F) {
                        this.$fM = $0F;
                        $k.bubble.showEvent($04.event);
                    }
                } else {}
            }
        };
        this.$b5 = function() {
            if (this.viewType !== 'Days') {
                return this.itline.length;
            } else {
                return Math.floor(24 * 60 / this.cellDuration);
            }
        };
        this.$ct = function($1t) {
            var $1t = $1t || DayPilotScheduler.range || DayPilotScheduler.rangeHold;
            if (!$1t) {
                return null;
            };
            var $z = $k.rowlist[$1t.start.y];
            if (!$z) {
                return null;
            };
            var r = $1t.$fN ? $1t.$fN : $1t;
            var $1s = $z.id;
            var $U = r.end.x > r.start.x ? r.start.x : r.end.x;
            var $V = (r.end.x > r.start.x ? r.end.x : r.start.x);
            var $1x = 0;
            $1x = $z.start.getTime() - this.$bk().getTime();
            var $M = this.itline[$U].start.addTime($1x);
            var end = this.itline[$V].end.addTime($1x);
            return new DayPilot.Selection($M, end, $1s, $k);
        };
        this.$fO = function($1Z) {
            var $8G = $1Z.parentNode;
            var $8H = document.createElement('textarea');
            $8H.style.position = 'absolute';
            $8H.style.width = (($1Z.offsetWidth < 100) ? 100 : ($1Z.offsetWidth - 2)) + 'px';
            $8H.style.height = ($1Z.offsetHeight - 2) + 'px';
            $8H.style.fontFamily = DayPilot.gs($1Z, 'fontFamily') || DayPilot.gs($1Z, 'font-family');
            $8H.style.fontSize = DayPilot.gs($1Z, 'fontSize') || DayPilot.gs($1Z, 'font-size');
            $8H.style.left = $1Z.offsetLeft + 'px';
            $8H.style.top = $1Z.offsetTop + 'px';
            $8H.style.border = '1px solid black';
            $8H.style.padding = '0px';
            $8H.style.marginTop = '0px';
            $8H.style.backgroundColor = 'white';
            $8H.value = DayPilot.tr($1Z.event.text());
            $8H.event = $1Z.event;
            $8G.appendChild($8H);
            return $8H;
        };
        this.$bD = function($1Z) {
            if (!$1Z) {
                return;
            };
            if (DayPilotScheduler.editing) {
                DayPilotScheduler.editing.blur();
            };
            if (!$1Z.event) {
                return;
            };
            var $8H = this.$fO($1Z);
            DayPilotScheduler.editing = $8H;
            DayPilot.re($8H, DayPilot.touch.start, function(ev) {
                ev.stopPropagation();
            });
            $8H.onblur = function() {
                $8H.onblur = null;
                DayPilotScheduler.editing = null;
                if ($8H.parentNode) {
                    $8H.parentNode.removeChild($8H);
                };
                if (!$1Z.event) {
                    return;
                };
                var $8I = $1Z.event.text();
                var $1y = $8H.value;
                $k.$cN($1Z.event, $1y, $8H.canceling);
            };
            $8H.onmousedown = function(e) {
                e = e || window.event;
                e.stopPropagation && e.stopPropagation();
            };
            $8H.onkeypress = function(e) {
                var $6K = (window.event) ? event.keyCode : e.keyCode;
                if ($6K === 13) {
                    this.onblur();
                    return false;
                };
                return true;
            };
            $8H.cancel = function() {
                if (DayPilotScheduler.editing) {
                    DayPilotScheduler.editing.canceling = true;
                    DayPilotScheduler.editing.blur();
                }
            };
            $8H.onkeydown = function(e) {
                var $6K = (window.event) ? event.keyCode : e.keyCode;
                if ($6K === 27) {
                    DayPilotScheduler.editing.cancel();
                }
            };
            $8H.select();
            $8H.focus();
        };
        this.$ek = function(ev) {
            var td = this;
            var $z = td.row;
            if (typeof(DayPilotBubble) !== 'undefined') {
                if ($k.cellBubble) {
                    $k.cellBubble.hideOnMouseOut();
                };
                if ($k.resourceBubble) {
                    var $1O = {};
                    $1O.calendar = $k;
                    $1O.id = $z.id;
                    if ($z.bubbleHtml) {
                        $1O.bubbleHtml = function() {
                            return $z.bubbleHtml;
                        }
                    };
                    $1O.toJSON = function() {
                        var $1L = {};
                        $1L.id = this.id;
                        return $1L;
                    };
                    $k.resourceBubble.showResource($1O);
                }
            }
        };
        this.$el = function(ev) {
            var td = this;
            if (typeof(DayPilotBubble) !== 'undefined' && $k.resourceBubble) {
                $k.resourceBubble.hideOnMouseOut();
            };
            var $04 = td.firstChild;
            DayPilot.Areas.hideAreas($04, ev);
            $04.data = null;
        };
        this.$em = function(ev) {
            if ($5N.row) {
                $1z.cancelClick = true;
                setTimeout(function() {
                    $1z.cancelClick = false;
                }, 100);
            }
        };
        this.$ax = function() {
            if (!this.timeHeader) {
                return;
            };
            this.$ai.timeHeader = {};
            var $7G = document.createElement("div");
            $7G.style.position = "relative";
            this.nav.timeHeader = $7G;
            for (var y = 0; y < this.timeHeader.length; y++) {
                var $z = this.timeHeader[y];
                for (var x = 0; x < $z.length; x++) {
                    this.$fP(x, y);
                }
            };
            var $8J = this.divNorth;
            if ($8J.childNodes.length === 1) {
                $8J.replaceChild($7G, $8J.childNodes[0]);
            } else {
                $8J.innerHTML = '';
                $8J.appendChild($7G);
            };
            var $7Q = this.$dN();
            $8J.style.width = ($7Q + 5000) + "px";
            $k.divCorner.innerHTML = this.cornerHtml || '';
            if ($7Q > 0) {
                this.divStretch.style.width = ($7Q) + "px";
            }
        };
        this.$bq = function(h, $8K) {
            var $0b = null;
            var $6R = this.$dd.locale();
            var $8K = $8K || this.cellGroupBy;
            var $0L = h.start;
            var to = h.end;
            switch ($8K) {
                case 'Hour':
                    $0b = ($k.$dd.timeFormat() === 'Clock12Hours') ? $0L.toString("h tt", $6R) : $0L.toString("H", $6R);
                    break;
                case 'Day':
                    $0b = $0L.toString($6R.datePattern);
                    break;
                case 'Week':
                    $0b = $0d.weekStarts() === 1 ? $0L.weekNumberISO() : $0L.weekNumber();
                    break;
                case 'Month':
                    $0b = $0L.toString("MMMM yyyy", $6R);
                    break;
                case 'Quarter':
                    $0b = "Q" + Math.floor($0L.getMonth() / 3 + 1);
                    break;
                case 'Year':
                    $0b = $0L.toString("yyyy");
                    break;
                case 'None':
                    $0b = '';
                    break;
                case 'Cell':
                    var $0P = (h.end.ticks - h.start.ticks) / 60000;
                    $0b = this.$fQ($0L, $0P);
                    break;
                default:
                    throw 'Invalid cellGroupBy value';
            };
            return $0b;
        };
        this.$fQ = function($M, $0P) {
            var $6R = this.$dd.locale();
            var $0P = $0P || this.cellDuration;
            if ($0P < 60) {
                return $M.toString("mm");
            } else if ($0P < 1440) {
                return $k.$dd.timeFormat() === 'Clock12Hours' ? $M.toString("h tt", $6R) : $M.toString("H", $6R);
            } else if ($0P < 10080) {
                return $M.toString("d");
            } else if ($0P === 10080) {
                return $0d.weekStarts() === 1 ? $M.weekNumberISO() : $M.weekNumber();
            } else {
                return $M.toString("MMMM yyyy", $6R);
            }
        };
        this.$bm = function($0L) {
            var $3W = this.scale;
            switch ($3W) {
                case "Cell":
                    throw "Invalid scale: Cell";
                case "Manual":
                    throw "Internal error (addScaleSize in Manual mode)";
                case "Minute":
                    return $0L.addMinutes(1);
                case "CellDuration":
                    return $0L.addMinutes(this.cellDuration);
                default:
                    return this.$bp($0L, $3W);
            }
        };
        this.$bp = function($0L, $8K) {
            var to;
            var $8L = this.viewType !== 'Days' ? this.days : 1;
            var $0u = this.startDate.addDays($8L);
            if ($k.scale === "Manual") {
                $0u = $k.$bo();
            };
            var $8K = $8K || this.cellGroupBy;
            var $8M = 60;
            switch ($8K) {
                case 'Hour':
                    if ($0L.getHours() + $0L.getMinutes() + $0L.getSeconds() + $0L.getMilliseconds() > 0) {
                        $0L = $0L.getDatePart().addHours($0L.getHours());
                    };
                    to = $0L.addHours(1);
                    break;
                case 'Day':
                    to = $0L.getDatePart().addDays(1);
                    break;
                case 'Week':
                    to = $0L.getDatePart().addDays(1);
                    while (to.dayOfWeek() !== $0d.weekStarts()) {
                        to = to.addDays(1);
                    };
                    break;
                case 'Month':
                    to = $0L.addMonths(1);
                    to = to.firstDayOfMonth();
                    var $8N = (DayPilot.DateUtil.diff(to, $0L) / (1000.0 * 60)) % $8M === 0;
                    while (!$8N) {
                        to = to.addHours(1);
                        $8N = (DayPilot.DateUtil.diff(to, $0L) / (1000.0 * 60)) % $8M === 0;
                    };
                    break;
                case "Quarter":
                    to = $0L.addMonths(1);
                    to = to.firstDayOfMonth();
                    while (to.getMonth() % 3) {
                        to = to.addMonths(1);
                    };
                    var $8N = (DayPilot.DateUtil.diff(to, $0L) / (1000.0 * 60)) % $8M === 0;
                    while (!$8N) {
                        to = to.addHours(1);
                        $8N = (DayPilot.DateUtil.diff(to, $0L) / (1000.0 * 60)) % $8M === 0;
                    };
                    break;
                case 'Year':
                    to = $0L.addYears(1);
                    to = to.firstDayOfYear();
                    var $8N = (DayPilot.DateUtil.diff(to, $0L) / (1000.0 * 60)) % $8M === 0;
                    while (!$8N) {
                        to = to.addHours(1);
                        $8N = (DayPilot.DateUtil.diff(to, $0L) / (1000.0 * 60)) % $8M === 0;
                    };
                    break;
                case 'None':
                    to = $0u;
                    break;
                case 'Cell':
                    var $R = this.$bv($0L);
                    if ($R.current) {
                        to = $R.current.end;
                    } else {
                        if ($R.past) {
                            to = $R.previous.end;
                        } else {
                            to = $R.next.start;
                        }
                    };
                    break;
                default:
                    throw 'Invalid cellGroupBy value';
            };
            if (to.getTime() > $0u.getTime()) {
                to = $0u;
            };
            return to;
        };
        this.$fR = {};
        this.$fR.timeheadercol = "_timeheadercol";
        this.$fR.timeheadercolInner = "_timeheadercol_inner";
        this.$fR.resourcedivider = "_resourcedivider";
        this.$fR.eventFloat = "_event_float";
        this.$fR.eventFloatInner = "_event_float_inner";
        this.$fR.event = "_event";
        this.$fR.eventInner = "_event_inner";
        this.$fR.eventBar = "_event_bar";
        this.$fR.eventBarInner = "_event_bar_inner";
        this.$fR.eventDelete = "_event_delete";
        this.$fR.eventLine = "_event_line";
        this.$fR.eventMovingSource = "_event_moving_source";
        var $08 = this.$fR;
        this.$fP = function(x, y) {
            var $7G = this.nav.timeHeader;
            var p = this.timeHeader[y][x];
            var $8O = y < this.timeHeader.length - 1;
            var $P = p.left;
            var $C = p.width;
            var $4l = $4m.timeHeader(y);
            var top = $4l.top;
            var $T = $4l.height;
            var $R = document.createElement("div");
            $R.style.position = "absolute";
            $R.style.top = top + "px";
            $R.style.left = $P + "px";
            $R.style.width = $C + "px";
            $R.style.height = $T + "px";
            if (p.toolTip) {
                $R.title = p.toolTip;
            };
            if (p.cssClass) {
                DayPilot.Util.addClass($R, p.cssClass);
            };
            $R.setAttribute("unselectable", "on");
            $R.style.KhtmlUserSelect = 'none';
            $R.style.MozUserSelect = 'none';
            $R.style.webkitUserSelect = 'none';
            $R.oncontextmenu = function() {
                return false;
            };
            $R.cell = {};
            $R.cell.start = p.start;
            $R.cell.end = p.end;
            $R.cell.level = y;
            $R.cell.th = p;
            $R.onclick = this.$er;
            $R.style.overflow = 'hidden';
            if (!$k.timeHeaderTextWrappingEnabled) {
                $R.style.whiteSpace = "nowrap";
            };
            var $07 = document.createElement("div");
            $07.setAttribute("unselectable", "on");
            if (p.innerHTML) {
                $07.innerHTML = p.innerHTML;
            };
            if (p.backColor) {
                $07.style.background = p.backColor;
            };
            var cl = this.$b4($08.timeheadercol);
            var $8P = this.$b4($08.timeheadercolInner);
            if ($8O) {
                cl = this.$b4("_timeheadergroup");
                $8P = this.$b4("_timeheadergroup_inner");
            };
            DayPilot.Util.addClass($R, cl);
            DayPilot.Util.addClass($07, $8P);
            DayPilot.list(p.areas).each(function($L) {
                if ($L.start || $L.end) {
                    $L.left = $k.getPixels(new DayPilot.Date($L.start)).left - $P;
                    $L.width = $k.getPixels(new DayPilot.Date($L.end)).left - $L.left - $P;
                }
            });
            $R.appendChild($07);
            DayPilot.Areas.attach($R, p, {
                "areas": p.areas
            });
            this.$ai.timeHeader[x + "_" + y] = $R;
            $7G.appendChild($R);
        };
        this.$bU = function() {
            if ($k.cellStacking) {
                $69.calculateEventPositions();
                return;
            };
            for (var i = 0; i < this.rowlist.length; i++) {
                var $z = this.rowlist[i];
                var $8a = $z.getHeight() + $z.marginBottom + $z.marginTop;
                if ($z.height !== $8a) {
                    this.$cf = true;
                };
                $z.height = $8a;
            }
        };
        this.$aB = function() {
            var $7G = this.divHeader;
            if (!$7G) {
                return false;
            };
            var $2x = this.rowlist.length;
            var $1W = this.rowHeaderCols ? this.rowHeaderCols.length : 1;
            var j = 0;
            for (var i = 0; i < $2x; i++) {
                var $z = this.rowlist[i];
                if ($z.hidden) {
                    continue;
                };
                var $1B = this.$ee ? i : j;
                if (!$7G.rows[$1B]) {
                    continue;
                };
                for (var c = 0; c < $7G.rows[$1B].cells.length; c++) {
                    var $8Q = $7G.rows[$1B].cells[c];
                    if (this.$ee) {
                        $8Q.style.top = $z.top + "px";
                    };
                    var $7M = $z.height;
                    if ($8Q && $8Q.firstChild && parseInt($8Q.firstChild.style.height, 10) !== $7M) {
                        $8Q.firstChild.style.height = $7M + "px";
                    }
                };
                j++;
            };
            if (this.$ee) {
                if ($k.nav.resScrollSpace) {
                    $k.nav.resScrollSpace.style.top = $k.$ah + "px";
                }
            }
        };
        this.$fs = function($1B) {
            var s = this.separators[$1B];
            s.location = s.location || s.Location;
            s.color = s.color || s.Color;
            s.layer = s.layer || s.Layer;
            s.width = s.width || s.Width;
            s.opacity = s.opacity || s.Opacity;
            var $0K = new DayPilot.Date(s.location);
            var $2f = s.color;
            var $C = s.width ? s.width : 1;
            var $2i = s.layer ? s.layer === 'AboveEvents' : false;
            var $8R = s.opacity ? s.opacity : 100;
            if ($0K.getTime() < this.$bk().getTime()) {
                return;
            };
            if ($0K.getTime() >= this.$bo().getTime()) {
                return;
            };
            var $A = this.getPixels($0K);
            if ($A.cut) {
                return;
            };
            if ($A.left < 0) {
                return;
            };
            if ($A.left > this.$b5() * this.cellWidth) {
                return;
            };
            var $0x = document.createElement("div");
            $0x.style.width = $C + 'px';
            $0x.style.height = $k.$ah + 'px';
            $0x.style.position = 'absolute';
            $0x.style.left = ($A.left - 1) + 'px';
            $0x.style.top = '0px';
            $0x.style.backgroundColor = $2f;
            $0x.style.opacity = $8R / 100;
            $0x.style.filter = "alpha(opacity=" + $8R + ")";
            if ($2i) {
                this.divSeparatorsAbove.appendChild($0x);
            } else {
                this.divSeparators.appendChild($0x);
            };
            this.elements.separators.push($0x);
        };
        this.$fl = function(ev) {
            if ($k.timeRangeDoubleClickHandling === 'Disabled') {
                return false;
            };
            if (DayPilotScheduler.timeRangeTimeout) {
                clearTimeout(DayPilotScheduler.timeRangeTimeout);
                DayPilotScheduler.timeRangeTimeout = null;
            };
            var $1t = {};
            if (!$k.coords) {
                var $4Z = $k.$aT;
                $k.coords = DayPilot.mo3($4Z, ev);
            };
            ev = ev || window.event;
            ev.stopPropagation && ev.stopPropagation();
            ev.cancelBubble = true;
            if ($k.$fS($k.coords)) {
                var $1u = $k.$ct(DayPilotScheduler.rangeHold);
                $k.$cx($1u.start, $1u.end, $1u.resource);
            } else {
                DayPilotScheduler.range = $k.$fL();
                if (DayPilotScheduler.range) {
                    DayPilotScheduler.rangeCalendar = $k;
                    var $1u = $k.$ct(DayPilotScheduler.range);
                    $k.$cx($1u.start, $1u.end, $1u.resource);
                    DayPilotScheduler.rangeHold = DayPilotScheduler.range;
                }
            }
        };
        this.$fh = function(ev) {
            if ($0Q.start || $0Q.active) {
                return;
            };
            if (DayPilotScheduler.timeRangeTimeout && false) {
                clearTimeout(DayPilotScheduler.timeRangeTimeout);
                DayPilotScheduler.timeRangeTimeout = null;
            };
            $k.$fT();
            $k.$ff();
            if (!$k.coords) {
                var $4Z = $k.$aT;
                $k.coords = DayPilot.mo3($4Z, ev);
            };
            if (DayPilotScheduler.rectangleSelect) {
                return false;
            };
            ev = ev || window.event;
            var $8v = DayPilot.Util.mouseButton(ev);
            if ($8v.middle || ($8v.right && $k.$fS($k.coords))) {
                return false;
            };
            if ($k.$fS($k.coords)) {
                return false;
            };
            var $1f = ev.ctrlKey;
            var $1g = ev.metaKey;
            var $1E = ev.shiftKey;
            var $11 = $1f || $1g;
            var $n = {};
            $n.action = "None";
            if ($k.multiSelectRectangle !== "Disabled" && $1E) {
                $n.action = "RectangleSelect";
            } else if ($k.timeRangeSelectedHandling !== 'Disabled') {
                $n.action = "TimeRangeSelect";
            };
            $n.shift = $1E;
            $n.ctrl = $1E;
            $n.meta = $1g;
            $n.preventDefault = function() {
                $n.action = "None";
            };
            if (typeof $k.onGridMouseDown === "function") {
                $k.onGridMouseDown($n);
            };
            if ($n.action === "None") {
                return false;
            };
            if ($n.action === "RectangleSelect") {
                var $4t = {};
                $4t.start = $k.coords;
                $4t.calendar = $k;
                DayPilotScheduler.rectangleSelect = $4t;
                return false;
            };
            if ($k.allowMultiRange && !$11) {
                mr.clear();
            };
            var i = $k.$d4($k.coords.y).i;
            var $z = $k.rowlist[i];
            if ($z.isNewRow) {
                return false;
            };
            DayPilotScheduler.range = $k.$fL();
            if (DayPilotScheduler.range) {
                DayPilotScheduler.range.ctrl = $11;
                DayPilotScheduler.rangeCalendar = $k;
            };
            return false;
        };
        this.$fL = function() {
            var $1t = {};
            var cx = this.$bt($k.coords.x).x;
            $1t.start = {
                y: $k.$d4($k.coords.y).i,
                x: cx
            };
            $1t.end = {
                x: cx
            };
            if (this.$df($k.$d4($k.coords.y).i)) {
                return null;
            };
            $1t.calendar = $k;
            $k.$cw($1t);
            return $1t;
        };
        this.$e2 = function() {
            $k.$dK();
            var $22 = DayPilotScheduler.resizingShadow;
            var ev = DayPilotScheduler.resizing;
            (function() {
                var $0G = $k.$fU;
                if ($0G && $0G.start.getTime() === $22.start.getTime() && $0G.end.getTime() === $k.$bN($22.end).getTime()) {
                    return;
                };
                var $n = {};
                $n.start = $22.start;
                $n.end = $k.$bN($22.end);
                $n.duration = new DayPilot.Duration($n.start, $n.end);
                $n.e = ev.event;
                $n.allowed = true;
                $n.left = {};
                $n.left.html = $n.start.toString($k.eventResizingStartEndFormat, $0d.locale());
                $n.left.enabled = $k.eventResizingStartEndEnabled;
                $n.right = {};
                $n.right.html = $n.end.toString($k.eventResizingStartEndFormat, $0d.locale());
                $n.right.enabled = $k.eventResizingStartEndEnabled;
                $n.multiresize = DayPilot.list($16.list);
                var $17 = {};
                $17.event = ev;
                $17.start = $n.start;
                $17.end = $n.end;
                $n.multiresize.splice(0, 0, $17);
                $k.$fU = $n;
                if (typeof $k.onEventResizing === 'function') {
                    $k.onEventResizing($n);
                };
                $22.allowed = $n.allowed;
                $k.$e3(DayPilotScheduler.resizingShadow, $n);
                $k.$e4(DayPilotScheduler.resizingShadow, $n);
            })();
        };
        this.$fj = function(ev) {
            if (DayPilotScheduler.rectangleSelect) {
                var ev = ev || window.event;
                ev.cancelBubble = true;
                ev.preventDefault && ev.preventDefault();
                DayPilotScheduler.gMouseUp(ev);
                return false;
            };
            $0R = {};
        };
        this.$fV = function() {
            return DayPilotScheduler.resizing || DayPilotScheduler.moving || DayPilotScheduler.range;
        };
        this.$fi = function(ev) {
            if ($0Q.active) {
                return;
            };
            DayPilotScheduler.activeCalendar = $k;
            ev = ev || window.event;
            var $8S = DayPilot.mc(ev);
            $k.coords = DayPilot.mo3($k.$aT, ev);
            ev.insideMainD = true;
            if (window.event && window.event.srcElement) {
                window.event.srcElement.inside = true;
            };
            if ($0R.start) {
                if ($0R.originalMouse.x !== $8S.x || $0R.originalMouse.y !== $8S.y) {
                    DayPilot.Util.copyProps($0R, DayPilotScheduler);
                    document.body.style.cursor = 'move';
                    $0R = {};
                }
            };
            if (DayPilotScheduler.resizing && DayPilotScheduler.resizing.event.calendar === $k) {
                $k.$fW();
            } else if (DayPilotScheduler.moving && (DayPilotScheduler.movingEvent.calendar === $k || DayPilotScheduler.movingEvent.calendar.dragOutAllowed)) {
                if (!DayPilotScheduler.moving.event) {
                    DayPilotScheduler.moving.event = DayPilotScheduler.movingEvent;
                };
                $k.$fX();
            } else if (DayPilotScheduler.range && DayPilotScheduler.range.calendar === $k) {
                DayPilotScheduler.range.moved = true;
                $k.$fY();
            } else if ($28.source) {
                var $0l = $28.source;
                $1k.drawShadow($0l.coords, $k.coords);
            } else if (DayPilotScheduler.rectangleSelect) {
                DayPilotScheduler.rectangleSelect.moved = true;
                $0W.draw();
            };
            if ($k.crosshairType !== 'Disabled') {
                $k.$fZ();
            };
            $k.$g0();
            var $8T = ev.insideEvent;
            if (window.event && window.event.srcElement) {
                $8T = window.event.srcElement.insideEvent;
            };
            if ($k.cellBubble && $k.coords && $k.rowlist && $k.rowlist.length > 0 && !$8T) {
                var x = $k.$bt($k.coords.x).x;
                var y = $k.$d4($k.coords.y).i;
                if (0 <= y && y < $k.rowlist.length && 0 <= x && x < $k.itline.length) {
                    var $R = {};
                    $R.calendar = $k;
                    $R.start = $k.itline[x].start;
                    $R.end = $k.itline[x].end;
                    $R.resource = $k.rowlist[y].id;
                    $R.toJSON = function() {
                        var $1L = {};
                        $1L.start = this.start;
                        $1L.end = this.end;
                        $1L.resource = this.resource;
                        return $1L;
                    };
                    $k.cellBubble.showCell($R);
                }
            };
            if (DayPilotScheduler.drag) {
                $k.$fT();
                if (DayPilotScheduler.gShadow) {
                    document.body.removeChild(DayPilotScheduler.gShadow);
                };
                DayPilotScheduler.gShadow = null;
                if (!DayPilotScheduler.movingShadow && $k.coords && $k.rowlist.length > 0) {
                    if (!DayPilotScheduler.moving) {
                        DayPilotScheduler.moving = {};
                        var event = DayPilotScheduler.drag.event;
                        if (!event) {
                            var $8U = $k.itline[0].start;
                            var ev = {
                                'id': DayPilotScheduler.drag.id,
                                'start': $8U,
                                'end': $8U.addSeconds(DayPilotScheduler.drag.duration),
                                'text': DayPilotScheduler.drag.text
                            };
                            var $s = DayPilotScheduler.drag.data;
                            if ($s) {
                                var $7V = ['duration', 'element', 'id', 'text'];
                                for (var name in $s) {
                                    if (DayPilot.contains($7V, name)) {
                                        continue;
                                    };
                                    ev[name] = $s[name];
                                }
                            };
                            event = new DayPilot.Event(ev);
                            event.calendar = $k;
                        };
                        event.part.external = true;
                        DayPilotScheduler.moving.event = event;
                        DayPilotScheduler.movingEvent = event;
                    };
                    DayPilotScheduler.movingShadow = $k.$de(DayPilotScheduler.moving, DayPilotScheduler.drag.shadowType);
                };
                ev.cancelBubble = true;
            };
            if ($k.autoScroll === "Always" || ($k.autoScroll === "Drag" && (DayPilotScheduler.moving || DayPilotScheduler.resizing || DayPilotScheduler.range))) {
                var $8V = $k.nav.scroll;
                var $21 = {
                    x: $k.coords.x,
                    y: $k.coords.y
                };
                $21.x -= $8V.scrollLeft;
                $21.x += $N.shiftX;
                $21.y -= $8V.scrollTop;
                var $C = $8V.clientWidth;
                var $T = $8V.clientHeight;
                var $3i = 30;
                var $P = $21.x < $3i ? $21.x : 0;
                var $Q = $C - $21.x < $3i ? $C - $21.x : 0;
                var top = $21.y < $3i ? $21.y : 0;
                var $Y = $T - $21.y < $3i ? $T - $21.y : 0;
                var x = 0;
                var y = 0;
                var $8W = 50;
                if ($P) {
                    x = -$8W * invertedPct($P, $3i);
                };
                if ($Q) {
                    x = $8W * invertedPct($Q, $3i);
                };
                if (top) {
                    y = -$8W * invertedPct(top, $3i) / 2;
                };
                if ($Y) {
                    y = $8W * invertedPct(top, $3i) / 2;
                };
                if (DayPilotScheduler.resizing || DayPilotScheduler.range) {
                    y = 0;
                };
                if (x || y) {
                    $k.$g1(x, y);
                } else {
                    $k.$ff();
                }
            }
        };

        function invertedPct($6Z, $B) {
            return 1 - $6Z / $B;
        };
        this.$fY = function() {
            var $1t = DayPilotScheduler.range;
            $1t.end = {
                x: $k.$bt($k.coords.x).x
            };
            $k.$cw($1t);
        };
        this.$fW = function() {
            if (!DayPilotScheduler.resizingShadow) {
                DayPilotScheduler.resizingShadow = $k.$de(DayPilotScheduler.resizing, $k.shadow);
            };
            $k.$e1();
        };
        this.$fX = function() {
            if (DayPilotScheduler.movingShadow && DayPilotScheduler.movingShadow.calendar !== $k) {
                DayPilotScheduler.movingShadow.calendar = null;
                DayPilot.de(DayPilotScheduler.movingShadow);
                DayPilotScheduler.movingShadow = null;
            };
            if (!DayPilotScheduler.movingShadow) {
                var mv = DayPilotScheduler.moving;
                DayPilotScheduler.movingShadow = $k.$de(mv, $k.shadow);
            };
            $k.$dH();
            DayPilotScheduler.moving.target = $k;
            $k.$dJ();
        };
        this.$g2 = {};
        var $0W = this.$g2;
        $0W.start = function() {
            var $4t = {};
            $4t.start = $k.coords;
            $4t.calendar = $k;
            DayPilotScheduler.rectangleSelect = $4t;
        };
        $0W.draw = function() {
            var $4t = DayPilotScheduler.rectangleSelect;
            var $M = DayPilotScheduler.rectangleSelect.start;
            var end = $k.coords;
            $0W.clear();
            var $0o = {
                "x": $4t.x,
                "y": $4t.y,
                "width": $4t.width,
                "height": $4t.height
            };
            var $P, top, $C, $T;
            var $U, $W, $V, $X;
            (function rectifyStartEnd() {
                $U = Math.min($M.x, end.x);
                $V = Math.max($M.x, end.x);
                if ($k.multiSelectRectangle === "Free") {
                    $W = Math.min($M.y, end.y);
                    $X = Math.max($M.y, end.y);
                } else if ($k.multiSelectRectangle === "Row") {
                    $W = $M.y;
                    $X = $M.y;
                }
            })();
            if ($k.multiSelectRectangle === "Free") {
                $P = $U;
                top = $W;
                $C = $V - $U;
                $T = $X - $W;
            } else if ($k.multiSelectRectangle === "Row") {
                var y = $k.$d4($W).i;
                var $z = $k.rowlist[y];
                top = $z.top;
                $T = $z.height;
                var $3D = $k.$bt($U).cell;
                $P = $3D.left;
                var $3E = $k.$bt($V).cell;
                $C = $3E.left + $3E.width - $P;
            } else {
                throw "Invalid DayPilot.Scheduler.multiSelectRectangle value: " + $k.multiSelectRectangle;
            };
            var $04 = DayPilot.Util.div($k.divRectangle, $P, top, $C, $T);
            $04.style.boxSizing = "border-box";
            $04.style.backgroundColor = "#0000ff";
            $04.style.border = "1px solid #000033";
            $04.style.opacity = 0.4;
            $4t.x = $P;
            $4t.y = top;
            $4t.width = $C;
            $4t.height = $T;
            if ($4t.x !== $0o.x || $4t.y !== $0o.y || $4t.width !== $0o.width || $4t.height !== $0o.height) {
                if (typeof $k.onRectangleEventSelecting === "function") {
                    var $n = {};
                    $n.events = $S.eventsInRectangle($4t.x, $4t.y, $4t.width, $4t.height).map(function($02) {
                        return $02.event;
                    });
                    $n.start = $k.getDate($4t.x, true);
                    $n.end = $k.getDate($4t.x + $4t.width, true);
                    $k.onRectangleEventSelecting($n);
                }
            }
        };
        $0W.clear = function() {
            $k.divRectangle.innerHTML = '';
            $k.elements.rectangle = [];
        };
        this.$g3 = function() {
            var x, y;
            if ($k.coords && $k.rowlist && $k.rowlist.length > 0 && $k.itline && $k.itline.length > 0) {
                x = $k.$bt($k.coords.x).x;
                y = $k.$d4($k.coords.y).i;
                if (y >= $k.rowlist.length) {
                    return;
                }
            } else {
                return null;
            };
            var $O = $k.cells.findXy(x, y);
            return $O[0];
        };
        this.$g0 = function() {
            var $R = this.$g3();
            if (this.hover.cell) {
                if (this.hover.cell.x === $R.x && this.hover.cell.y === $R.y) {
                    return;
                };
                this.$fg();
            };
            this.hover.cell = $R;
            if (typeof this.onCellMouseOver === 'function') {
                var $n = {};
                $n.cell = $R;
                this.onCellMouseOver($n);
            }
        };
        this.$fg = function() {
            if (!this.hover.cell) {
                return;
            };
            if (typeof this.onCellMouseOut === 'function') {
                var $n = {};
                $n.cell = this.hover.cell;
                this.onCellMouseOut($n);
            };
            this.hover.cell = null;
        };
        this.hover = {};
        this.$fZ = function() {
            var $R = this.$g3();
            if (this.hover.cell) {
                if (this.hover.cell.x === $R.x && this.hover.cell.y === $R.y) {
                    return;
                }
            };
            this.$g4();
        };
        this.$fT = function() {
            this.divCrosshair.innerHTML = '';
            this.$g5 = null;
            this.$g6 = null;
        };
        this.$f5 = function() {
            this.$fT();
            if (this.$g7 && this.$g7.parentNode) {
                this.$g7.parentNode.removeChild(this.$g7);
                this.$g7 = null;
            };
            if (this.$g8) {
                for (var i = 0; i < this.$g8.length; i++) {
                    var ch = this.$g8[i];
                    if (ch.parentNode) {
                        ch.parentNode.removeChild(ch);
                    }
                };
                this.$g8 = null;
            };
            this.$af = -1;
            this.$ae = -1;
        };
        this.$g4 = function() {
            var x, y;
            if ($k.coords && $k.rowlist && $k.rowlist.length > 0) {
                x = $k.$bt($k.coords.x).x;
                y = $k.$d4($k.coords.y).i;
                if (y >= $k.rowlist.length) {
                    return;
                }
            } else {
                return;
            };
            var $Z = this.crosshairType;
            var $z = $k.rowlist[y];
            if ($Z === 'Full') {
                var $0J = this.itline[x];
                var $P = $0J.left;
                var $0x = this.$g5;
                if (!$0x) {
                    var $0x = document.createElement("div");
                    $0x.style.height = $k.$ah + 'px';
                    $0x.style.position = 'absolute';
                    $0x.style.top = '0px';
                    $0x.style.backgroundColor = this.crosshairColor;
                    $0x.style.opacity = this.crosshairOpacity / 100;
                    $0x.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
                    this.$g5 = $0x;
                    this.divCrosshair.appendChild($0x);
                };
                $0x.style.left = $P + 'px';
                $0x.style.width = $0J.width + 'px';
                var top = $z.top;
                var $T = $z.height;
                var $C = this.$dN();
                var $0x = this.$g6;
                if (!$0x) {
                    var $0x = document.createElement("div");
                    $0x.style.width = $C + 'px';
                    $0x.style.height = $T + 'px';
                    $0x.style.position = 'absolute';
                    $0x.style.top = top + 'px';
                    $0x.style.left = '0px';
                    $0x.style.backgroundColor = this.crosshairColor;
                    $0x.style.opacity = this.crosshairOpacity / 100;
                    $0x.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
                    this.$g6 = $0x;
                    this.divCrosshair.appendChild($0x);
                };
                $0x.style.top = top + 'px';
                $0x.style.height = $T + 'px';
            };
            var $8X = this.$g9(this.coords.x);
            if ($8X && this.$af !== $8X.x) {
                if (this.$g7 && this.$g7.parentNode) {
                    this.$g7.parentNode.removeChild(this.$g7);
                    this.$g7 = null;
                };
                var $T = $4m.timeHeader($k.timeHeaders.length - 1).height;
                var $0x = document.createElement("div");
                $0x.style.width = $8X.cell.width + "px";
                $0x.style.height = $T + "px";
                $0x.style.left = '0px';
                $0x.style.top = '0px';
                $0x.style.position = 'absolute';
                $0x.style.backgroundColor = this.crosshairColor;
                $0x.style.opacity = this.crosshairOpacity / 100;
                $0x.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
                this.$g7 = $0x;
                var $8J = this.divNorth;
                var $8Y = this.timeHeader ? this.timeHeader.length - 1 : 1;
                if (this.nav.timeHeader) {
                    this.$ai.timeHeader[$8X.x + "_" + $8Y].appendChild($0x);
                } else {
                    if ($8J.firstChild.rows[$8Y].cells[x]) {
                        $8J.firstChild.rows[$8Y].cells[x].firstChild.appendChild($0x);
                    }
                }
            };
            if (this.$ae !== y) {
                if (this.$g8) {
                    for (var i = 0; i < this.$g8.length; i++) {
                        var ch = this.$g8[i];
                        if (ch.parentNode) {
                            ch.parentNode.removeChild(ch);
                        }
                    };
                    this.$g8 = null;
                };
                var $1W = this.rowHeaderCols ? this.rowHeaderCols.length : 1;
                this.$g8 = [];
                if (this.divHeader.rows[y]) {
                    for (var i = 0; i < this.divHeader.rows[y].cells.length; i++) {
                        var $C = $k.$b7();
                        var $0x = document.createElement("div");
                        $0x.style.width = $C + "px";
                        $0x.style.height = $z.height + "px";
                        $0x.style.left = '0px';
                        $0x.style.top = '0px';
                        $0x.style.position = 'absolute';
                        $0x.style.backgroundColor = this.crosshairColor;
                        $0x.style.opacity = this.crosshairOpacity / 100;
                        $0x.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
                        this.$g8.push($0x);
                        this.divHeader.rows[y].cells[i].firstChild.appendChild($0x);
                    }
                }
            };
            if ($8X) {
                this.$af = $8X.x;
            };
            this.$ae = y;
        };
        this.$dT = function(y, $A) {
            var $z = $k.timeHeader[y];
            if (!$z) {
                return null;
            };
            for (var i = 0; i < $z.length; i++) {
                var $R = $z[i];
                if ($A >= $R.left && $A < $R.left + $R.width) {
                    var $l = {};
                    $l.cell = $R;
                    $l.x = i;
                    return $l;
                }
            };
            return null;
        };
        this.$g9 = function($A) {
            return $k.$dT($k.timeHeader.length - 1, $A);
        };
        this.$fk = function(ev) {
            ev = ev || window.event;
            if ($k.timeRangeSelectedHandling === 'Disabled') {
                return false;
            };
            if ($k.timeRangeRightClickHandling === "Disabled") {
                return false;
            };
            if (!$k.$fS($k.coords)) {
                $k.$ga(ev);
            };
            var $8Z = null;
            if ($k.$fS($k.coords)) {
                $8Z = $k.$ct(DayPilotScheduler.rangeHold);
            } else {
                $8Z = $k.$ct();
            };
            $8Z.end = $k.$bN($8Z.end);
            var $n = {};
            $n.start = $8Z.start;
            $n.end = $8Z.end;
            $n.resource = $8Z.resource;
            $n.preventDefault = function() {
                this.preventDefault.value = true;
            };
            if (typeof $k.onTimeRangeRightClick === "function") {
                $k.onTimeRangeRightClick($n);
                if ($n.preventDefault.value) {
                    return false;
                }
            };
            if ($k.timeRangeRightClickHandling === "ContextMenu" && $k.contextMenuSelection) {
                $k.contextMenuSelection.show($8Z);
            };
            if (typeof $k.onTimeRangeRightClicked === "function") {
                $k.onTimeRangeRightClicked($n);
            };
            ev.cancelBubble = true;
            if (!$k.allowDefaultContextMenu) {
                return false;
            }
        };
        this.$fS = function($21) {
            var $1t = DayPilotScheduler.rangeHold;
            if (!$1t || !$1t.start || !$1t.end) {
                return false;
            };
            var $z = this.$dl($1t.start.y);
            var $90 = $1t.start.x < $1t.end.x;
            var $91 = ($90 ? $1t.start.x : $1t.end.x) * this.cellWidth;
            var $92 = ($90 ? $1t.end.x : $1t.start.x) * this.cellWidth + this.cellWidth;
            var $93 = $z.top;
            var $94 = $z.bottom;
            if ($21.x >= $91 && $21.x <= $92 && $21.y >= $93 && $21.y <= $94) {
                return true;
            };
            return false;
        };
        this.$cw = function($1t, $95) {
            var $1t = $1t || DayPilotScheduler.range;
            if (!$1t) {
                return;
            };

            function draw($1t) {
                var $U = $1t.end.x > $1t.start.x ? $1t.start.x : $1t.end.x;
                var $V = ($1t.end.x > $1t.start.x ? $1t.end.x : $1t.start.x);
                var y = $1t.start.y;
                var $z = $k.rowlist[y];
                var $M = $k.itline[$U];
                var end = $k.itline[$V];
                var $P = $M.left;
                var $Q = end.left + end.width;
                var $C = $Q - $P;
                var $R = $k.elements.range2;
                if (!$R) {
                    $R = document.createElement("div");
                    $R.style.position = 'absolute';
                    $R.setAttribute("unselectable", "on");
                    $R.className = $k.$b4("_shadow");
                    var $07 = document.createElement("div");
                    $07.className = $k.$b4("_shadow_inner");
                    $R.appendChild($07);
                    $k.divRange.appendChild($R);
                };
                $R.style.left = ($M.left) + "px";
                $R.style.top = $k.rowlist[y].top + "px";
                $R.style.width = $C + "px";
                $R.style.height = ($k.rowlist[y].height - 1) + "px";
                $k.elements.range2 = $R;
                (function checkOverlap() {
                    var $z = $k.rowlist[y];
                    var $22 = $R;
                    var $P = $M.left;
                    $k.$dY($R, $z, $P, $C, null);
                })();
                return $R;
            };
            (function() {
                var $U = $1t.end.x > $1t.start.x ? $1t.start.x : $1t.end.x;
                var $V = ($1t.end.x > $1t.start.x ? $1t.end.x : $1t.start.x);
                var y = $1t.start.y;
                var $z = $k.rowlist[y];
                var $M = $k.itline[$U];
                var end = $k.itline[$V];
                var $0G = $k.$gb;
                var $96 = $M.start.addTime($z.data.offset);
                var $97 = end.end.addTime($z.data.offset);
                if (!$95 && $0G && $0G.start.getTime() === $96.getTime() && $0G.end.getTime() === $97.getTime() && $0G.resource === $k.rowlist[y].id) {
                    return;
                };
                var $0o = {
                    "start": $96,
                    "end": $k.$bN($97)
                };
                var $n = {};
                $n.start = $0o.start;
                $n.end = $0o.end;
                $n.duration = new DayPilot.Duration($0o.start, $0o.end);
                $n.resource = $k.rowlist[y].id;
                $n.allowed = true;
                $n.left = {};
                $n.left.html = $n.start.toString($k.timeRangeSelectingStartEndFormat, $0d.locale());
                $n.left.enabled = $k.timeRangeSelectingStartEndEnabled;
                $n.right = {};
                $n.right.html = $n.end.toString($k.timeRangeSelectingStartEndFormat, $0d.locale());
                $n.right.enabled = $k.timeRangeSelectingStartEndEnabled;
                $k.$gb = $n;
                if (typeof $k.onTimeRangeSelecting === 'function' && !$95) {
                    $k.onTimeRangeSelecting($n);
                };
                var $98 = $k.$gc($1t);
                $k.$cv($98, $n.start, $n.end);
                var $R = draw($98);
                $k.$e3($R, $n);
                $1t.$fN = $98;
                $1t.disabled = !$n.allowed;
                $k.$e4($R, $n);
                $n.start = $0o.start;
                $n.end = $0o.end;
            })();
        };
        this.$gc = function($1t) {
            return {
                "start": {
                    "x": $1t.start.x,
                    "y": $1t.start.y
                },
                "end": {
                    "x": $1t.end.x
                },
                "disabled": $1t.disabled
            }
        };
        this.range = {};
        this.range.all = function() {
            return mr.get();
        };
        this.$gd = {};
        var mr = this.$gd;
        this.$gd.list = [];
        this.$gd.clear = function() {
            DayPilot.de(DayPilot.list(mr.list).map(function($02) {
                return $02.div;
            }));
            mr.list = [];
        };
        this.$gd.add = function($1t) {
            $1t.div = $k.elements.range2;
            $k.elements.range2 = null;
            $k.$e5();
            mr.list.push($1t);
        };
        this.$gd.get = function() {
            return DayPilot.list(mr.list).map(function($02) {
                return $k.$ct($02);
            });
        };
        this.$gd.dispatch = function() {
            if (!$k.allowMultiRange) {
                return;
            };
            if (DayPilotScheduler.range) {
                return;
            };
            var $0G = DayPilot.list(mr.list).last();
            $k.$cs($0G);
        };
        this.$ga = function(ev) {
            if ($k.timeRangeSelectedHandling === 'Disabled') {
                return false;
            };
            if ($0Q.active || $0Q.start) {
                return;
            };
            ev = ev || window.event;
            var $8v = DayPilot.Util.mouseButton(ev);
            if (DayPilotScheduler.range) {
                return;
            };
            if (DayPilotScheduler.rectangleSelect) {
                return;
            };
            if (DayPilotScheduler.rangeHold && $k.$fS($k.coords) && ($8v.right || $8v.middle)) {
                return;
            };
            if ($k.$df($k.$d4($k.coords.y).i)) {
                return;
            };
            var $1t = {};
            var cx = $k.$bt($k.coords.x).x;
            $1t.start = {
                y: $k.$d4($k.coords.y).i,
                x: cx
            };
            $1t.end = {
                x: cx
            };
            $1t.calendar = $k;
            DayPilotScheduler.rangeHold = $1t;
            $k.$cs($1t);
        };
        this.timeouts = {};
        this.timeouts.drawEvents = null;
        this.timeouts.drawCells = null;
        this.timeouts.click = null;
        this.disableOnScroll = false;
        this.$aQ = function(ev) {
            if ($k.disableOnScroll) {
                return;
            };
            $k.$ap();
            if ($N.isEnabled() && !$N.active && $k.$cd && $k.cellWidthSpec != "Auto") {
                if ($k.nav.scroll.scrollLeft < $k.$ac) {
                    $N.active = true;
                    setTimeout(function() {
                        $N.shiftStart(-$k.$ad);
                    }, 100);
                } else if ($k.nav.scroll.scrollWidth - ($k.nav.scroll.scrollLeft + $k.nav.scroll.clientWidth) < $k.$ac) {
                    $N.active = true;
                    setTimeout(function() {
                        $N.shiftStart($k.$ad);
                    }, 100);
                }
            };
            if ($k.dynamicLoading) {
                $k.$ge();
                return;
            };
            var $99 = $k.nav.scroll;
            $k.$dR = $99.scrollLeft;
            $k.$dQ = $99.scrollTop;
            $k.$dS = $99.clientWidth;
            $k.divTimeScroll.scrollLeft = $k.$dR;
            $k.divResScroll.scrollTop = $k.$dQ;
            if ($k.timeouts.drawEvents) {
                clearTimeout($k.timeouts.drawEvents);
                $k.timeouts.drawEvents = null;
            };
            if ($k.scrollDelayEvents > 0) {
                $k.timeouts.drawEvents = setTimeout($k.$gf(), $k.scrollDelayEvents);
            } else {
                $k.$aK();
            };
            if ($k.timeouts.drawCells) {
                clearTimeout($k.timeouts.drawCells);
                $k.timeouts.drawCells = null;
            };
            if ($k.scrollDelayCells > 0) {
                $k.timeouts.drawCells = setTimeout($k.$gg(), $k.scrollDelayCells);
            } else {
                var f = $k.$gg();
                f();
            };
            if ($k.timeouts.updateFloats) {
                clearTimeout($k.timeouts.updateFloats);
                $k.timeouts.updateFloats = null;
            };
            if ($k.scrollDelayFloats > 0) {
                $k.timeouts.updateFloats = setTimeout(function() {
                    $k.$aO();
                }, $k.scrollDelayFloats);
            } else {
                $k.$aO();
            };
            $k.onScrollCalled = true;
        };
        this.$gg = function() {
            return function() {
                $k.$aN();
                $k.$aI();
            };
        };
        this.$gf = function() {
            var $1o = true;
            var $9a = $k.dynamicEventRenderingCacheSweeping;
            var $9b = $k.dynamicEventRenderingCacheSize;
            return function() {
                if ($k.$fA()) {
                    window.setTimeout(function() {
                        if ($9a) $k.$fx($9b);
                        window.setTimeout(function() {
                            $k.$aK($1o);
                        }, 50);
                    }, 50);
                } else {
                    $k.$b0();
                }
            };
        };
        this.$ap = function() {
            this.$ai.eventHeight = null;
            this.$ai.drawArea = null;
        };
        this.show = function() {
            this.visible = true;
            $k.nav.top.style.display = '';
            this.$az();
            this.$aA();
            $k.$aQ();
        };
        this.hide = function() {
            this.visible = false;
            $k.nav.top.style.display = 'none';
        };
        this.$ge = function() {
            var $99 = $k.nav.scroll;
            $k.$dR = $99.scrollLeft;
            $k.$dQ = $99.scrollTop;
            $k.$dS = $99.clientWidth;
            $k.divTimeScroll.scrollLeft = $k.$dR;
            $k.divResScroll.scrollTop = $k.$dQ;
            if ($k.refreshTimeout) {
                window.clearTimeout($k.refreshTimeout);
            };
            var $0c = $k.scrollDelayDynamic;
            $k.refreshTimeout = window.setTimeout($k.$gh($99.scrollLeft, $99.scrollTop), $0c);
            $k.$aO();
        };
        this.$gi = function(e) {
            var $9c = e.id;
            var $35 = new DayPilot.Date(e.start).toString();
            for (var j = 0; j < this.events.list.length; j++) {
                var ex = this.events.list[j];
                var $9d = ex.id;
                if ($9d === $9c) {
                    if (DayPilot.Util.isNullOrUndefined($9c) && !DayPilot.Util.isNullOrUndefined(e.recurrentMasterId)) {
                        var $9e = new DayPilot.Date(ex.start).toString();
                        if (ex.recurrentMasterId !== e.recurrentMasterId || $35 !== $9e) {
                            continue;
                        }
                    };
                    var $l = {};
                    $l.ex = ex;
                    $l.index = j;
                    $l.modified = !$k.$gj(e, ex);
                    return $l;
                }
            };
            return null;
        };
        this.$gj = function($0M, $9f) {
            for (var name in $0M) {
                if (typeof $0M[name] === 'object' && !($0M[name] instanceof DayPilot.Date)) {
                    continue;
                };
                if ($0M[name] !== $9f[name]) {
                    return false;
                }
            };
            for (var name in $9f) {
                if (typeof $9f[name] === 'object') {
                    continue;
                };
                if ($0M[name] !== $9f[name]) {
                    return false;
                }
            };
            return true;
        };
        this.$aL = function($5Z, $9g) {
            var $5W = [];
            for (var i = 0; i < $5Z.length; i++) {
                var e = $5Z[i];
                var $60 = $k.$gi(e);
                var $29 = $60 && $60.modified;
                var $5Y = !$60;
                if ($29) {
                    this.events.list[$60.index] = e;
                    var $1d = $k.events.$bR($60.ex);
                    $5W = $5W.concat($1d);
                } else if ($5Y) {
                    this.events.list.push(e);
                };
                if ($29 || $5Y) {
                    $5W = $5W.concat($k.events.$bS(e));
                }
            };
            $k.$bT($5W);
            $k.$bU();
            $k.$ay();
            $k.$aD();
            var $9h = false;
            if ($9h) {
                $k.$bV($5W, false, $9g);
            } else {
                $k.$aF();
                $k.$aE();
                $k.$aB();
                $k.$aI();
                $k.$aK();
            }
        };
        this.$gh = function(scrollX, scrollY) {
            if (!$k.$bd()) {
                return function() {
                    if (typeof $k.onScroll === 'function') {
                        var $29 = function($01) {
                            var $9g = function() {
                                if ($k.$aR()) {
                                    if (typeof $k.onAfterRender === 'function') {
                                        var $n = {};
                                        $n.isCallBack = false;
                                        $n.isScroll = true;
                                        $n.data = null;
                                        $k.onAfterRender($n);
                                    }
                                }
                            };
                            $k.$aL($01, $9g);
                        };
                        var $n = {};
                        $n.viewport = $k.getViewPort();
                        $n.async = false;
                        $n.events = [];
                        $n.loaded = function() {
                            if (this.async) {
                                $29(this.events);
                            }
                        };
                        $k.onScroll($n);
                        if (!$n.async) {
                            $29($n.events);
                        }
                    }
                };
            } else {
                return function() {
                    $k.scrollX = scrollX;
                    $k.scrollY = scrollY;
                    $k.$bA('Scroll');
                };
            }
        };
        this.$gk = function() {
            var $L = this.$aX();
            var $9i = $L.xStart;
            var $9j = $L.xEnd - $L.xStart;
            var $3x = $L.yStart;
            var $9k = $L.yEnd - $L.yStart;
            if (!this.cellProperties) {
                this.cellProperties = {};
            };
            for (var i = 0; i <= $9j; i++) {
                var x = $9i + i;
                for (var j = 0; j < $9k; j++) {
                    var y = $3x + j;
                    if (!this.rowlist[y].hidden) {
                        this.$dx(x, y);
                    }
                };
                this.$gl(x);
            };
            var $9l = this.$e8();
            for (var y = $9l.start; y < $9l.end; y++) {
                if (!this.rowlist[y].hidden) {
                    this.$gm(y);
                }
            }
        };
        this.$aI = function() {
            if ($k.progressiveRowRendering) {
                this.$ca();
            };
            if (this.rowlist !== null && this.rowlist.length > 0) {
                var $9m = this.cellSweeping;
                if ($9m) {
                    var $9b = this.cellSweepingCacheSize;
                    this.$fz($9b);
                };
                this.$gk();
                this.$gn();
                $1z.$eD();
            };
            var $C = this.$dN();
            this.$aT.style.height = this.$ah + "px";
            this.$aT.style.width = $C + "px";
            if ($k.cellWidthSpec === "Auto" && !$k.$bg) {
                $k.nav.scroll.style.overflowX = "hidden";
                $k.nav.scroll.scrollLeft = 0;
            } else {
                $k.nav.scroll.style.overflowX = "auto";
            };
            this.$cf = false;
        };
        this.$gn = function() {
            var $L = this.$aX();
            for (var x = $L.xStart; x < $L.xEnd; x++) {
                var $9n = (x < this.itline.length - 1) ? this.itline[x + 1].breakBefore : false;
                if ($9n) {
                    this.$go(x);
                }
            }
        };
        this.$go = function(x) {
            var $1B = "x" + x;
            if (this.$ai.breaks[$1B]) {
                return;
            };
            var $P = this.itline[x + 1].left - 1;
            var $T = this.$ah;
            var $0x = document.createElement("div");
            $0x.style.left = $P + "px";
            $0x.style.top = "0px";
            $0x.style.width = "1px";
            $0x.style.height = $T + "px";
            $0x.style.fontSize = '1px';
            $0x.style.lineHeight = '1px';
            $0x.style.overflow = 'hidden';
            $0x.style.position = 'absolute';
            $0x.setAttribute("unselectable", "on");
            $0x.className = this.$b4("_matrix_vertical_break");
            this.divBreaks.appendChild($0x);
            this.elements.breaks.push($0x);
            this.$ai.breaks[$1B] = $0x;
        };
        this.$aX = function() {
            if ($k.$ai.drawArea) {
                return $k.$ai.drawArea;
            };
            if (!this.nav.scroll) {
                return null;
            };
            var $9o = $k.$dQ;
            var $L = {};
            var $9p = this.dynamicEventRenderingMargin;
            var $9p = this.dynamicEventRenderingMarginX != null ? this.dynamicEventRenderingMarginX : this.dynamicEventRenderingMargin;
            var $9q = this.dynamicEventRenderingMarginY != null ? this.dynamicEventRenderingMarginY : this.dynamicEventRenderingMargin;
            var $P = $k.$dR - $9p - $N.shiftX;
            var $Q = $P + $k.$dS + 2 * $9p;
            var $M = 0;
            var end = 0;
            if ($k.itline && $k.itline.length > 0) {
                $M = $k.$bt($P).x;
                end = $k.$bt($Q, true).x;
                var $3A = this.$b5();
                end = Math.min(end, $3A);
                $M = Math.max($M, 0);
            };
            var top = $9o - $9q;
            var $Y = $9o + this.nav.scroll.offsetHeight + 2 * $9q;
            var $3x = this.$d4(top).i;
            var $3y = this.$d4($Y).i;
            if ($3y < this.rowlist.length) {
                $3y++;
            };
            $L.xStart = $M;
            $L.xEnd = end;
            $L.yStart = $3x;
            $L.yEnd = $3y;
            $L.pixels = {};
            $L.pixels.left = this.nav.scroll.scrollLeft - $N.shiftX;
            $L.pixels.right = this.nav.scroll.scrollLeft - $N.shiftX + this.nav.scroll.clientWidth;
            $L.pixels.top = this.nav.scroll.scrollTop;
            $L.pixels.bottom = this.nav.scroll.scrollTop + this.nav.scroll.clientHeight;
            $L.pixels.width = this.nav.scroll.scrollWidth;
            $k.$ai.drawArea = $L;
            return $L;
        };
        this.$dN = function() {
            var $l = 0;
            var $0G = this.itline[this.itline.length - 1];
            if (!$0G) {
                $l = 0;
            } else {
                $l = $0G.left + $0G.width;
            };
            if ($l < 0 || isNaN($l)) {
                $l = 0;
            };
            return $l;
        };
        this.$gm = function(y) {
            var $1B = "y" + y;
            if (this.$ai.linesHorizontal[$1B]) {
                return;
            };
            var top = this.rowlist[y].top + this.rowlist[y].height - 1;
            var $C = this.$dN();
            var $0x = document.createElement("div");
            $0x.style.left = "0px";
            $0x.style.top = top + "px";
            $0x.style.width = $C + "px";
            $0x.style.height = "1px";
            $0x.style.fontSize = '1px';
            $0x.style.lineHeight = '1px';
            $0x.style.overflow = 'hidden';
            $0x.style.position = 'absolute';
            $0x.setAttribute("unselectable", "on");
            $0x.className = this.$b4("_matrix_horizontal_line");
            this.divLines.appendChild($0x);
            this.$ai.linesHorizontal[$1B] = $0x;
        };
        this.$gl = function(x) {
            var $0J = this.itline[x];
            if (!$0J) {
                return;
            };
            var $1B = "x" + x;
            if (this.$ai.linesVertical[$1B]) {
                return;
            };
            var $P = $0J.left + $0J.width - 1;
            var $0x = document.createElement("div");
            $0x.style.left = $P + "px";
            $0x.style.top = "0px";
            $0x.style.width = "1px";
            $0x.style.height = $k.$ah + "px";
            $0x.style.fontSize = '1px';
            $0x.style.lineHeight = '1px';
            $0x.style.overflow = 'hidden';
            $0x.style.position = 'absolute';
            $0x.setAttribute("unselectable", "on");
            $0x.className = this.$b4("_matrix_vertical_line");
            this.divLines.appendChild($0x);
            this.elements.linesVertical.push($0x);
            this.$ai.linesVertical[$1B] = $0x;
        };
        this.$dI = function($1B) {
            var $z = this.rowlist[$1B];
            var $9r = !$z.expanded;
            $z.expanded = $9r;
            if ($z.resource) {
                $z.resource.expanded = $9r;
            };
            var $1d = this.$gp($1B, $z.expanded);
            if (!$9r) {
                for (var i = 0; i < $1d.length; i++) {
                    var ri = $1d[i];
                    this.$cg(ri);
                }
            };
            this.$ay();
            this.$aw();
            this.$aD();
            this.$ap();
            if ($9r) {
                for (var i = 0; i < $1d.length; i++) {
                    var ri = $1d[i];
                    this.$ch(ri);
                };
                this.$b0();
            };
            this.$ci();
            $1k.load();
            this.$aE();
            this.$aI();
            this.$aK();
            this.$aN();
            var r = this.$cF($z, $1B);
            if ($9r) {
                this.$cM(r);
            } else {
                this.$cL(r);
            };
            this.$ap();
        };
        this.$eq = function(i) {
            var $0Y = {};
            $0Y.index = i;
            if (typeof this.onLoadNode === 'function') {
                var $n = {};
                var $1s = this.rowlist[i].resource;
                $n.resource = $1s;
                $n.async = false;
                $n.loaded = function() {
                    if (this.async) {
                        $1s.dynamicChildren = false;
                        $1s.expanded = true;
                        $k.update();
                    }
                };
                this.onLoadNode($n);
                if (!$n.async) {
                    $1s.dynamicChildren = false;
                    $1s.expanded = true;
                    this.update();
                }
            } else {
                this.$bA('LoadNode', $0Y);
            }
        };
        this.$gp = function(i, $9s) {
            var $z = this.rowlist[i];
            var $7q = [];
            if ($z.children === null || $z.children.length === 0) {
                return $7q;
            };
            for (var k = 0; k < $z.children.length; k++) {
                var $1B = $z.children[k];
                var $9t = this.rowlist[$1B];
                var $8c = $9s && $z.expanded && !$9t.$eQ;
                $9t.hidden = !$8c;
                if ($9s === !$9t.hidden) {
                    $7q.push($1B);
                };
                var $9u = this.$gp($1B, $9s);
                if ($9u.length > 0) {
                    $7q = $7q.concat($9u);
                }
            };
            return $7q;
        };
        this.$g1 = function($9v, $9w) {
            this.$ff();
            this.$gq($9v, $9w);
        };
        this.$gr = function($H) {
            if (!$H) {
                return false;
            };
            var $0g = this.nav.scroll.scrollWidth;
            var $M = this.nav.scroll.scrollLeft;
            var $C = this.nav.scroll.clientWidth;
            var $Q = $M + $C;
            if ($H < 0 && $M <= 0) {
                return false;
            };
            if ($H > 0 && $Q >= $0g) {
                return false;
            };
            this.nav.scroll.scrollLeft += $H;
            $k.coords.x += $H;
            $k.$gs();
            return true;
        };
        this.$gt = function($H) {
            if (!$H) {
                return false;
            };
            var $0g = this.nav.scroll.scrollHeight;
            var $M = this.nav.scroll.scrollTop;
            var $T = this.nav.scroll.clientHeight;
            var $Y = $M + $T;
            if ($H < 0 && $M <= 0) {
                return false;
            };
            if ($H > 0 && $Y >= $0g) {
                return false;
            };
            this.nav.scroll.scrollTop += $H;
            $k.coords.y += $H;
            $k.$gs();
            return true;
        };
        this.$gs = function() {
            if (DayPilotScheduler.resizing && DayPilotScheduler.resizing.event.calendar === $k) {
                $k.$fW();
            } else if (DayPilotScheduler.moving && (DayPilotScheduler.movingEvent.calendar === $k || DayPilotScheduler.movingEvent.calendar.dragOutAllowed)) {
                if (!DayPilotScheduler.moving.event) {
                    DayPilotScheduler.moving.event = DayPilotScheduler.movingEvent;
                };
                $k.$fX();
            } else if (DayPilotScheduler.range && DayPilotScheduler.range.calendar === $k) {
                $k.$fY();
            }
        };
        this.$gq = function($9v, $9w) {
            var $9x = this.$gr($9v) || this.$gt($9w);
            if (!$9x) {
                return;
            };
            var $9y = function($9v, $9w) {
                return function() {
                    $k.$gq($9v, $9w);
                };
            };
            this.$gu = window.setTimeout($9y($9v, $9w), 100);
        };
        this.$ff = function() {
            if ($k.$gu) {
                window.clearTimeout($k.$gu);
                $k.$gu = null;
            }
        };
        this.$ay = function() {
            var top = 0;
            for (var i = 0; i < this.rowlist.length; i++) {
                var $z = this.rowlist[i];
                if (!$z.hidden) {
                    $z.top = top;
                    top += $z.height;
                }
            };
            this.$ah = top;
        };
        this.$aE = function() {
            this.elements.cells = [];
            this.elements.linesVertical = [];
            this.elements.breaks = [];
            this.$ai.cells = [];
            this.$ai.linesVertical = {};
            this.$ai.linesHorizontal = {};
            this.$ai.breaks = [];
            this.divCells.innerHTML = '';
            this.divLines.innerHTML = '';
            this.divBreaks.innerHTML = '';
        };
        this.$cj = function(y) {
            var $00 = DayPilot.list();
            for (var name in $k.$ai.cells) {
                $00.push($k.$ai.cells[name]);
            };
            $00.filter(function($02) {
                return $02 && $02.coords && $02.coords.y === y;
            }).each(function($02) {
                $k.$dw($02);
            });
        };
        this.$gv = 0;
        this.$gw = DayPilot.list(['html', 'cssClass', 'backColor', 'backImage', 'backRepeat', 'areas']);
        this.$gx = $k.$gw.add('business');
        this.$dx = function(x, y) {
            if (!this.$cd) {
                return;
            };
            var $0J = $k.$bC(x);
            if (!$0J) {
                return;
            };
            var $1B = x + '_' + y;
            if (this.$ai.cells[$1B]) {
                return;
            };
            var p = this.$dy(x, y);
            $k.$dV(x, y);
            if (!this.drawBlankCells) {
                var $9z = false;
                if (this.$dF(y)) {
                    $9z = false;
                } else if (!this.$gy(p, $k.$gw)) {
                    $9z = true;
                };
                if ($9z) {
                    return;
                }
            };
            var $R = document.createElement("div");
            $R.style.left = ($0J.left) + "px";
            $R.style.top = this.rowlist[y].top + "px";
            $R.style.width = ($0J.width) + "px";
            $R.style.height = (this.rowlist[y].height) + "px";
            $R.style.position = 'absolute';
            if (p && p.backColor) {
                $R.style.backgroundColor = p.backColor;
            };
            $R.setAttribute("unselectable", "on");
            $R.className = this.$b4('_cell');
            $R.coords = {};
            $R.coords.x = x;
            $R.coords.y = y;
            if (this.$dF(y)) {
                DayPilot.Util.addClass($R, this.$b4("_cellparent"));
            };
            if (p) {
                if (p.cssClass) {
                    DayPilot.Util.addClass($R, p.cssClass);
                };
                if (!DayPilot.Util.isNullOrUndefined(p.html)) {
                    $R.innerHTML = p.html;
                };
                if (p.backImage) {
                    $R.style.backgroundImage = "url(\"" + p.backImage + "\")";
                };
                if (p.backRepeat) {
                    $R.style.backgroundRepeat = p.backRepeat;
                };
                if (p.business && $k.cellsMarkBusiness) {
                    DayPilot.Util.addClass($R, $k.$b4("_cell_business"));
                };
                DayPilot.list(p.areas).each(function($L) {
                    if ($L.start || $L.end) {
                        $L.left = $k.getPixels(new DayPilot.Date($L.start)).left - $0J.left;
                        $L.width = $k.getPixels(new DayPilot.Date($L.end)).left - $L.left - $0J.left;
                    }
                });
                var c = $k.cells.findXy(x, y)[0];
                DayPilot.Areas.attach($R, c, {
                    "areas": p.areas
                });
            };
            $R.onmouseup = this.$fj;
            this.divCells.appendChild($R);
            this.elements.cells.push($R);
            this.$ai.cells[$1B] = $R;
        };
        this.$dV = function(x, y) {
            if (typeof this.onBeforeCellRender === 'function') {
                var $0J = $k.$bC(x);
                if (!$0J) {
                    return;
                };
                var $R = $k.cells.findXy(x, y)[0];
                var $n = {};
                $n.cell = $R;
                $n.getPixels = function($w) {
                    var $w = new DayPilot.Date($w);
                    var $9A = $k.getPixels($w).left;
                    return $9A - $0J.left;
                };
                this.onBeforeCellRender($n);
                DayPilot.Util.copyProps($n.cell, $n.cell.properties, $k.$gx);
                return $n;
            }
        };
        this.$gy = function($1Z, $2a) {
            if ($2a) {
                for (var i = 0; i < $2a.length; i++) {
                    if (!DayPilot.Util.isNullOrUndefined($1Z[$2a[i]])) {
                        return true;
                    }
                }
            } else {
                for (var name in $1Z) {
                    if (!DayPilot.Util.isNullOrUndefined($1Z[name])) {
                        return true;
                    }
                }
            };
            return false;
        };
        this.clearSelection = function() {
            this.$aM();
            mr.clear();
        };
        this.cleanSelection = this.clearSelection;
        this.$co = function() {
            DayPilot.de(DayPilotScheduler.movingShadow);
            DayPilotScheduler.movingShadow = null;
            $k.$e5();
            $k.$e0.clear();
        };
        this.$aM = function() {
            this.divRange.innerHTML = '<div style="position:absolute; left:0px; top:0px; width:0px; height:0px;"></div>';
            this.elements.range = [];
            this.elements.range2 = null;
            this.$e5();
            DayPilotScheduler.rangeHold = null;
        };
        this.$dd = {};
        var $0d = this.$dd;
        $0d.locale = function() {
            return DayPilot.Locale.find($k.locale);
        };
        $0d.timeFormat = function() {
            if ($k.timeFormat !== 'Auto') {
                return $k.timeFormat;
            };
            return $0d.locale().timeFormat;
        };
        $0d.weekStarts = function() {
            if ($k.weekStarts === 'Auto') {
                var $6R = $0d.locale();
                if ($6R) {
                    return $6R.weekStarts;
                } else {
                    return 0;
                }
            } else {
                return $k.weekStarts || 0;
            }
        };
        $0d.rounded = function() {
            return $k.eventCorners === 'Rounded';
        };
        $0d.layout = function() {
            var $9B = /MSIE 6/i.test(navigator.userAgent);
            if ($k.layout === 'Auto') {
                if ($9B) {
                    return 'TableBased';
                } else {
                    return 'DivBased';
                }
            };
            return $k.layout;
        };
        $0d.notifyType = function() {
            var $Z;
            if ($k.notifyCommit === 'Immediate') {
                $Z = "Notify";
            } else if ($k.notifyCommit === 'Queue') {
                $Z = "Queue";
            } else {
                throw "Invalid notifyCommit value: " + $k.notifyCommit;
            };
            return $Z;
        };
        $0d.isResourcesView = function() {
            return $k.viewType !== 'Days';
        };
        $0d.useBox = function($9C) {
            if ($k.useEventBoxes === 'Always') {
                return true;
            };
            if ($k.useEventBoxes === 'Never') {
                return false;
            };
            return $9C < $k.cellDuration * 60 * 1000;
        };
        $0d.eventHeight = function() {
            if ($k.$ai.eventHeight) {
                return $k.$ai.eventHeight;
            };
            var $T = $k.$fo("_event_height").height;
            if (!$T) {
                $T = $k.eventHeight;
            };
            $k.$ai.eventHeight = $T;
            return $T;
        };
        $0d.headerHeight = function() {
            if ($k.$ai.headerHeight) {
                return $k.$ai.headerHeight;
            };
            var $T = $k.$fo("_header_height").height;
            if (!$T) {
                $T = $k.headerHeight;
            };
            $k.$ai.headerHeight = $T;
            return $T;
        };
        $0d.splitterWidth = function() {
            if ($k.rowHeaderScrolling) {
                return $k.rowHeaderSplitterWidth;
            };
            return 1;
        };
        this.$gz = {};
        var $4m = this.$gz;
        $4m.timeHeader = function($6D) {
            var h = {};
            h.top = 0;
            h.height = 0;
            var $9D = $0d.headerHeight();
            for (var i = 0; i <= $6D; i++) {
                var th = $k.timeHeaders[i];
                h.top += h.height;
                h.height = th.height || $9D;
            };
            return h;
        };
        this.$gA = function(x, y) {
            var $1B = x + '_' + y;
            if (this.cellProperties && this.cellProperties[$1B]) {
                return this.cellProperties[$1B].backColor;
            };
            return null;
        };
        this.$dy = function(x, y) {
            var $1B = x + '_' + y;
            if (!this.cellProperties) {
                this.cellProperties = {};
            };
            if (this.cellProperties[$1B]) {
                return this.cellProperties[$1B];
            };
            if (this.$a8) {
                this.cellProperties[$1B] = $k.$gB(x, y);
            };
            if (!this.cellProperties[$1B]) {
                var $z = $k.rowlist[y];
                var $1s = $z.id;
                var $1x = $z.start.getTime() - $k.$bk().getTime();
                var $0J = $k.$bC(x);
                var $M = $0J.start.addTime($1x);
                var end = $0J.end.addTime($1x);
                var $9E = {};
                $9E.start = $M;
                $9E.end = end;
                $9E.resource = $1s;
                var $R = {};
                $R.business = $k.isBusiness($9E);
                this.cellProperties[$1B] = $R;
            };
            return this.cellProperties[$1B];
        };
        this.$gC = function($1C, x, y) {
            var $1B = x + '_' + y;
            this.cellProperties[$1B] = {};
            DayPilot.Util.copyProps($1C, this.cellProperties[$1B], $k.$gx);
            return this.cellProperties[$1B];
        };
        this.$gB = function(x, y) {
            if (!this.cellConfig) {
                return null;
            };
            var $4U = this.cellConfig;
            var $R = this.cellProperties[x + "_" + y];
            if (!$R && $4U.vertical) {
                $R = this.cellProperties[x + "_0"];
            };
            if (!$R && $4U.horizontal) {
                $R = this.cellProperties["0_" + y];
            };
            if (!$R && $4U["default"]) {
                $R = $4U["default"];
            };
            var $98 = {};
            DayPilot.Util.copyProps($R, $98, $k.$gx);
            return $98;
        };
        this.$au = function() {
            if (this.$a8) {
                return;
            };
            if (this.$a9) {
                return;
            };
            this.$a9 = true;
            if (!this.cellConfig) {
                return;
            };
            var $4U = this.cellConfig;
            if ($4U.vertical) {
                for (var x = 0; x < $4U.x; x++) {
                    var $9F = this.cellProperties[x + "_0"];
                    if (!$9F) {
                        continue;
                    };
                    for (var y = 1; y < $4U.y; y++) {
                        this.$gC($9F, x, y);
                    }
                }
            };
            if ($4U.horizontal) {
                for (var y = 0; y < $4U.y; y++) {
                    var $9F = this.cellProperties["0_" + y];
                    if (!$9F) {
                        continue;
                    };
                    for (var x = 1; x < $4U.x; x++) {
                        this.$gC($9F, x, y);
                    }
                }
            };
            if ($4U["default"]) {
                var $9F = $4U["default"];
                for (var y = 0; y < $4U.y; y++) {
                    for (var x = 0; x < $4U.x; x++) {
                        if (!this.cellProperties[x + "_" + y]) {
                            this.$gC($9F, x, y);
                        }
                    }
                }
            }
        };
        this.isBusiness = function($R) {
            var $M = $R.start;
            var end = $R.end;
            var $8M = (end.getTime() - $M.getTime()) / (1000 * 60);
            if ($8M <= 1440) {
                if ($k.viewType !== "Days" && !$k.businessWeekends) {
                    if ($R.start.dayOfWeek() === 0 || $R.start.dayOfWeek() === 6) {
                        return false;
                    }
                }
            };
            if ($8M < 720) {
                var $9G = $M.getHours();
                $9G += $M.getMinutes() / 60.0;
                $9G += $M.getSeconds() / 3600.0;
                $9G += $M.getMilliseconds() / 3600000.0;
                if ($9G < this.businessBeginsHour) {
                    return false;
                };
                if (this.businessEndsHour >= 24) {
                    return true;
                };
                if ($9G >= this.businessEndsHour) {
                    return false;
                }
            };
            return true;
        };
        this.$az = function() {
            if (this.nav.top.style.visibility === 'hidden') {
                this.nav.top.style.visibility = 'visible';
            }
        };
        this.$eb = function() {
            var el = $k.nav.top;
            if (!el) {
                return false;
            };
            return el.offsetWidth > 0 && el.offsetHeight > 0;
        };
        this.$gD = function() {
            var $8c = $k.$eb;
            if (!$8c()) {
                $k.debug.message("Not visible during init, starting visibilityInterval");
                $k.$d9 = setInterval(function() {
                    if ($8c()) {
                        $k.debug.message("Made visible, calling .show()");
                        $k.show();
                        $k.$ea();
                        clearInterval($k.$d9);
                    }
                }, 100);
            }
        };
        this.$gE = function($A) {
            if (this.heightSpec !== "Parent100Pct") {
                this.heightSpec = "Fixed";
            };
            this.height = $A - (this.$b6() + 2);
            this.$aD();
        };
        this.setHeight = this.$gE;
        this.$aV = function(id) {
            return DayPilot.list($5Q.rowcache[id]).first();
        };
        this.$eW = function() {
            if (this.id && this.id.tagName) {
                this.nav.top = this.id;
            } else if (typeof this.id === "string") {
                this.nav.top = document.getElementById(this.id);
                if (!this.nav.top) {
                    throw "DayPilot.Scheduler: The placeholder element not found: '" + id + "'.";
                }
            } else {
                throw "DayPilot.Scheduler() constructor requires the target element or its ID as a parameter";
            }
        };
        this.$gF = function() {
            this.$fn();
            this.$at();
            this.$aA();
            this.$fq();
            this.$d8();
            DayPilotScheduler.register(this);
            this.$an(this.afterRenderData, false);
            this.$fr();
            this.$gD();
            this.$am();
            this.$bA("Init");
        };
        this.init = function() {
            this.$gG();
        };
        this.$gG = function() {
            this.$eW();
            if (this.nav.top.dp) {
                return;
            };
            this.$eV();
            var $9H = this.$dm();
            if ($9H) {
                this.$gF();
                this.$cd = true;
                this.$ap();
                return;
            };
            this.$fq();
            this.$d8();
            DayPilotScheduler.register(this);
            this.$fr();
            this.$bY();
            this.$cd = true;
            if ($k.scrollToDate) {
                $k.scrollTo($k.scrollToDate);
            } else if ($k.scrollX || $k.scrollY) {
                $k.setScroll($k.scrollX, $k.scrollY);
            } else {
                $k.$aQ();
            };
            if ($k.scrollToResourceId) {
                $k.scrollToResource($k.scrollToResourceId);
                $k.scrollToResourceId = null;
            };
            var $9I = function() {
                if ($k.scrollY) {
                    $k.setScroll($k.scrollX, $k.scrollY);
                }
            };
            window.setTimeout($9I, 200);
            if (this.messageHTML) {
                window.setTimeout(function() {
                    $k.message($k.messageHTML);
                }, 0);
            };
            this.$gD();
            this.$am();
            this.$ap();
            this.$an(this.afterRenderData, false);
            if ($k.initEventEnabled) {
                setTimeout(function() {
                    $k.$bA("Init");
                });
            };
            this.$gH();
        };
        this.$gI = null;
        this.$gJ = function($j) {
            var $9J = {
                "events": {
                    "preInit": function() {
                        var $01 = this.data;
                        if (!$01) {
                            return;
                        };
                        if (DayPilot.isArray($01.list)) {
                            $k.events.list = $01.list;
                        } else {
                            $k.events.list = $01;
                        }
                    },
                    "postInit": function() {}
                },
                "scrollTo": {
                    "preInit": function() {},
                    "postInit": function() {
                        if (this.data) {
                            $k.scrollTo(this.data, $j.scrollToAnimated, $j.scrollToPosition);
                        }
                    }
                }
            };
            this.$gI = $9J;
            for (var name in $j) {
                if ($9J[name]) {
                    var $02 = $9J[name];
                    $02.data = $j[name];
                    if ($02.preInit) {
                        $02.preInit();
                    }
                } else {
                    $k[name] = $j[name];
                }
            }
        };
        this.$gH = function() {
            var $9J = this.$gI;
            for (var name in $9J) {
                var $02 = $9J[name];
                if ($02.postInit) {
                    $02.postInit();
                }
            }
        };
        this.temp = {};
        this.temp.getPosition = function() {
            var x = Math.floor($k.coords.x / $k.cellWidth);
            var y = $k.$d4($k.coords.y).i;
            if (y < $k.rowlist.length) {
                var $R = {};
                $R.start = $k.itline[x].start;
                $R.end = $k.itline[x].end;
                $R.resource = $k.rowlist[y].id;
                return $R;
            } else {
                return null;
            }
        };
        this.internal = {};
        this.internal.initialized = function() {
            return $k.$cd;
        };
        this.internal.dragInProgress = this.$fV;
        this.internal.invokeEvent = this.$bL;
        this.internal.eventMenuClick = this.$cr;
        this.internal.timeRangeMenuClick = this.$cy;
        this.internal.resourceHeaderMenuClick = this.$cA;
        this.internal.linkMenuClick = this.$cz;
        this.internal.bubbleCallBack = this.$cp;
        this.internal.findEventDiv = this.$dk;
        this.internal.rowtools = this.$cJ;
        this.internal.getNodeChildren = this.$d6;
        this.internal.callback = function() {
            $k.$bA.apply($k, arguments);
        };
        this.internal.createRowObject = this.$cF;
        this.internal.adjustEndIn = $k.$ck;
        this.internal.adjustEndNormalize = $k.$cl;
        this.internal.touch = $k.$fK;
        this.internal.cssNames = $k.$fR;
        this.Init = this.init;
        this.$gJ($j);
    };
    debug = new DayPilot.Scheduler().v === "${v\u007d";
    DayPilot.Row = function($z, $k) {
        if (!$z) {
            throw "Now row object supplied when creating DayPilot.Row";
        };
        if (!$k) {
            throw "No parent control supplied when creating DayPilot.Row";
        };
        var $1B = DayPilot.indexOf($k.rowlist, $z);
        var r = this;
        r.isRow = true;
        r.menuType = 'resource';
        r.start = $z.start;
        r.name = $z.name;
        r.value = $z.id;
        r.id = $z.id;
        r.tags = $z.tags;
        r.index = $1B;
        r.level = $z.level;
        r.calendar = $k;
        r.data = $z.resource;
        r.$gK = $z;
        r.$ = {};
        r.$.row = $z;
        r.toJSON = function($65) {
            var $1L = {};
            $1L.start = this.start;
            $1L.name = this.name;
            $1L.value = this.value;
            $1L.id = this.id;
            $1L.index = this.index;
            return $1L;
        };
        r.parent = function() {
            if (!r.$gK.$eR) {
                return null;
            };
            return $k.$cF(r.$gK.$eR);
        };
        r.children = function() {
            var $00 = DayPilot.list(r.$.row.children).map(function(i) {
                return $k.$cF($k.rowlist[i]);
            });
            $00.add = function($9t) {
                var r1 = r.$.row.resource;
                if (!r1.children) {
                    r1.children = [];
                };
                r1.children.push($9t);
            };
            return $00;
        };
        r.loaded = function() {
            return r.$gK.loaded;
        };
        r.cells = {};
        r.cells.all = function() {
            var $00 = [];
            var $1Q = $k.itline.length;
            var y = r.index;
            for (var x = 0; x < $1Q; x++) {
                var $R = $k.cells.findXy(x, y);
                $00.push($R[0]);
            };
            return $k.$dz($00);
        };
        r.events = {};
        r.events.all = function() {
            var $00 = [];
            for (var i = 0; i < r.$gK.events.length; i++) {
                $00.push(r.$gK.events[i]);
            };
            return DayPilot.list($00);
        };
        r.events.totalDuration = function() {
            var $0y = 0;
            r.events.all().each(function($02) {
                $0y += $02.part.end.getTime() - $02.part.start.getTime();
            });
            return new DayPilot.Duration($0y);
        };
        r.groups = {};
        r.groups.collapseAll = function() {
            for (var i = 0; i < r.$gK.blocks.length; i++) {
                var $6c = r.$gK.blocks[i];
                var $9K = new $9L($6c);
                $9K.$gL();
            };
            $k.$bU();
            $k.$bV(r.index);
            $k.$aD();
        };
        r.groups.expandAll = function() {
            for (var i = 0; i < r.$gK.blocks.length; i++) {
                var $6c = r.$gK.blocks[i];
                var $9K = new $9L($6c);
                $9K.$gM();
            };
            $k.$bU();
            $k.$bV(r.index);
            $k.$aD();
        };
        r.groups.expanded = function() {
            var $00 = [];
            for (var i = 0; i < r.$gK.blocks.length; i++) {
                var $6c = r.$gK.blocks[i];
                if ($6c.expanded && $6c.lines.length > $k.groupConcurrentEventsLimit) {
                    $00.push(new $9L($6c));
                }
            };
            return DayPilot.list($00);
        };
        r.groups.collapsed = function() {
            var $00 = [];
            for (var i = 0; i < r.$gK.blocks.length; i++) {
                var $6c = r.$gK.blocks[i];
                if (!$6c.expanded) {
                    $00.push(new $9L($6c));
                }
            };
            return DayPilot.list($00);
        };
        r.groups.all = function() {
            var $00 = [];
            for (var i = 0; i < r.$gK.blocks.length; i++) {
                var $6c = r.$gK.blocks[i];
                $00.push(new $9L($6c));
            };
            return DayPilot.list($00);
        };
        r.events.collapseGroups = r.groups.collapseAll;
        r.events.expandGroups = r.groups.expandAll;
        r.column = function(i) {
            return new $9M(r, i);
        };
        r.toggle = function() {
            $k.$dI(r.index);
        };
        r.remove = function() {
            $k.rows.remove(r);
        };
        r.edit = function() {
            $k.rows.edit(r);
        };
        r.addClass = function($4S) {
            var $z = r;
            var $5D = $k.divHeader;
            var $z = $5D.rows[$z.index];
            if ($z) {
                var $O = DayPilot.list($z.cells).map(function($R) {
                    return $R.cellDiv;
                });
                DayPilot.Util.addClass($O, $4S);
            };
            r.$.row.cssClass = DayPilot.Util.addClassToString(r.$.row.cssClass, $4S);
        };
        r.removeClass = function($4S) {
            var $z = r;
            var $5D = $k.divHeader;
            var $z = $5D.rows[$z.index];
            if ($z) {
                var $O = DayPilot.list($z.cells).map(function($R) {
                    return $R.cellDiv;
                });
                DayPilot.Util.removeClass($O, $4S);
            };
            r.$.row.cssClass = DayPilot.Util.removeClassFromString(r.$.row.cssClass, $4S);
        };
        var $9L = function($6c) {
            var $9N = function($6c) {
                for (var i = 0; i < $k.elements.events.length; i++) {
                    var $04 = $k.elements.events[i];
                    if ($04.event === $6c) {
                        return $04;
                    }
                };
                return null;
            };
            this.$gM = function() {
                $6c.expanded = true;
                var $00 = $k.$ex;
                DayPilot.list($6c.events).each(function(e) {
                    $00.push(e.id());
                });
                var $04 = $9N($6c);
                if ($04) {
                    $k.$fw($04);
                    var $8h = DayPilot.indexOf($k.elements.events, $04);
                    if ($8h !== -1) {
                        $k.elements.events.splice($8h, 1);
                    }
                }
            };
            this.expand = function() {
                this.$gM();
                $k.$bU();
                $k.$bV($6c.row.index);
                $k.$aD();
            };
            this.$gL = function() {
                if ($6c.lines.length > $k.groupConcurrentEventsLimit) {
                    $6c.expanded = false;
                    var $3f = DayPilot.list($6c.events).map(function(e) {
                        return e.id()
                    });
                    $k.$ex = $k.$ex.filter(function($02) {
                        return !DayPilot.contains($3f, $02);
                    });
                }
            };
            this.collapse = function() {
                this.$gL();
                $k.$bU();
                $k.$bV($6c.row.index);
                $k.$aD();
            };
        };
        var $9M = function($z, i) {
            this.html = function($0b) {
                var $5D = $z.calendar.divHeader;
                var $R = $5D.rows[$z.index].cells[i];
                var $1A = $R.textDiv;
                if (typeof $0b === "undefined") {
                    return $1A.innerHTML;
                } else {
                    $1A.innerHTML = $0b;
                }
            };
        };
    };
    DayPilotScheduler.moving = null;
    DayPilotScheduler.movingEvent = null;
    DayPilotScheduler.originalMouse = null;
    DayPilotScheduler.resizing = null;
    DayPilotScheduler.preventEventClick = false;
    DayPilotScheduler.globalHandlers = false;
    DayPilotScheduler.timeRangeTimeout = null;
    DayPilotScheduler.selectedCells = null;
    DayPilotScheduler.dragStart = function(element, $0P, id, $1A, $Z) {
        DayPilot.us(element);
        var $9O = DayPilotScheduler.drag = {};
        $9O.element = element;
        $9O.duration = $0P;
        $9O.text = $1A;
        $9O.id = id;
        $9O.shadowType = $Z ? $Z : 'Fill';
        $9O.data = {
            "id": id,
            "text": $1A,
            "duration": $0P,
            "externalHtml": $1A
        };
        return false;
    };
    DayPilot.Scheduler.startDragging = function($j) {
        var $j = $j || {};
        var element = $j.element;
        var $9P = $j.keepElement ? null : element;
        DayPilot.us(element);
        var $9O = DayPilotScheduler.drag = {};
        $9O.element = $9P;
        $9O.id = $j.id;
        $9O.duration = $j.duration || 60;
        $9O.text = $j.text || "";
        $9O.shadowType = 'Fill';
        $9O.data = $j;
        return false;
    };
    DayPilot.Scheduler.makeDraggable = function($j) {
        $j = $j || {};
        var element = $j.element;
        var $9P = $j.keepElement ? null : ($j.remove || element);
        DayPilot.us(element);
        DayPilot.re(element, "mousedown", function(ev) {
            if (!DayPilot.Util.mouseButton(ev).left) {
                return;
            };
            startDragging();
            var element = (ev.target || ev.srcElement);
            if (element.tagName) {
                var $9Q = element.tagName.toLowerCase();
                if ($9Q === "textarea" || $9Q === "select" || $9Q === "input") {
                    return false;
                }
            };
            ev.preventDefault && ev.preventDefault();
            return false;
        });
        element.ontouchstart = function(ev) {
            var $8w = 0;
            window.setTimeout(function() {
                startDragging();
                DayPilotScheduler.gTouchMove(ev);
                ev.preventDefault();
            }, $8w);
            ev.preventDefault();
        };

        function startDragging() {
            var $9O = DayPilotScheduler.drag = {};
            $9O.element = $9P;
            $9O.id = $j.id;
            $9O.duration = $j.duration || 60;
            $9O.text = $j.text || "";
            $9O.shadowType = 'Fill';
            $9O.data = $j;
        }
    };
    DayPilot.Scheduler.stopDragging = function() {
        DayPilotScheduler.dragStop();
        if (DayPilotScheduler.resizing) {
            DayPilot.de(DayPilotScheduler.resizingShadow);
            DayPilotScheduler.resizing = null;
            DayPilotScheduler.resizingShadow = null;
        };
        if (DayPilotScheduler.moving) {
            var $k = DayPilotScheduler.movingEvent.calendar;
            DayPilot.Util.removeClass(DayPilotScheduler.moving, $k.$b4("_event_moving_source"));
            DayPilot.de(DayPilotScheduler.movingShadow);
            DayPilotScheduler.moving = null;
            DayPilotScheduler.movingEvent = null;
            DayPilotScheduler.movingShadow = null;
        };
        if (DayPilotScheduler.range) {
            var $k = DayPilotScheduler.range.calendar;
            $k.clearSelection();
            DayPilotScheduler.range = null;
        };
        document.body.style.cursor = '';
        DayPilot.list(DayPilotScheduler.registered).each(function($k) {
            $k.$ff();
            $k.$e5();
        });
    };
    DayPilotScheduler.dragStop = function() {
        if (DayPilotScheduler.gShadow) {
            document.body.removeChild(DayPilotScheduler.gShadow);
            DayPilotScheduler.gShadow = null;
        };
        DayPilotScheduler.drag = null;
    };
    DayPilotScheduler.register = function($k) {
        if (!DayPilotScheduler.registered) {
            DayPilotScheduler.registered = [];
        };
        for (var i = 0; i < DayPilotScheduler.registered.length; i++) {
            if (DayPilotScheduler.registered[i] === $k) {
                return;
            }
        };
        DayPilotScheduler.registered.push($k);
    };
    DayPilotScheduler.unregister = function($k) {
        var a = DayPilotScheduler.registered;
        if (a) {
            var i = DayPilot.indexOf(a, $k);
            if (i !== -1) {
                a.splice(i, 1);
            };
            if (a.length === 0) {
                a = null;
            }
        };
        if (!a) {
            DayPilot.ue(document, 'mousemove', DayPilotScheduler.gMouseMove);
            DayPilot.ue(document, 'mouseup', DayPilotScheduler.gMouseUp);
            DayPilot.ue(document, 'keyup', DayPilotScheduler.gKeyUp);
            DayPilot.ue(document, 'touchmove', DayPilotScheduler.gTouchMove);
            DayPilot.ue(document, 'touchend', DayPilotScheduler.gTouchEnd);
            DayPilotScheduler.globalHandlers = false;
        }
    };

    function calendarFromTouchEvent(ev) {
        var $9R = ev.touches[0].clientX;
        var $9S = ev.touches[0].clientY;
        var el = document.elementFromPoint($9R, $9S);
        while (el && el.parentNode) {
            el = el.parentNode;
            if (el.daypilotMainD) {
                return el.calendar;
            }
        };
        return false;
    };

    function touchMousePos(ev) {
        var x = ev.touches[0].pageX;
        var y = ev.touches[0].pageY;
        var $8S = {};
        $8S.x = x;
        $8S.y = y;
        return $8S;
    };
    DayPilotScheduler.gTouchMove = function(ev) {
        if (DayPilotScheduler.resizing) {
            var $k = DayPilotScheduler.resizing.event.calendar;
            $k.coords = $k.$fK.relativeCoords(ev);
            $k.$fK.updateResizing();
            ev.preventDefault();
        };
        if (DayPilotScheduler.moving) {
            var $k = DayPilotScheduler.movingEvent.calendar;
            $k.coords = $k.$fK.relativeCoords(ev);
            $k.$fK.updateMoving();
            ev.preventDefault();
        };
        if (DayPilotScheduler.drag) {
            ev.preventDefault();
            var $8S = touchMousePos(ev);
            var $k = calendarFromTouchEvent(ev);
            if ($k) {
                if (DayPilotScheduler.gShadow) {
                    document.body.removeChild(DayPilotScheduler.gShadow);
                };
                DayPilotScheduler.gShadow = null;
                $k.coords = $k.$fK.relativeCoords(ev);
                if (!DayPilotScheduler.movingShadow && $k.rowlist.length > 0) {
                    if (!DayPilotScheduler.moving) {
                        DayPilotScheduler.moving = {};
                        var event = DayPilotScheduler.drag.event;
                        if (!event) {
                            var $8U = $k.itline[0].start;
                            var ev = {
                                'id': DayPilotScheduler.drag.id,
                                'start': $8U,
                                'end': $8U.addSeconds(DayPilotScheduler.drag.duration),
                                'text': DayPilotScheduler.drag.text
                            };
                            var $s = DayPilotScheduler.drag.data;
                            if ($s) {
                                var $7V = ['duration', 'element', 'id', 'text'];
                                for (var name in $s) {
                                    if (DayPilot.contains($7V, name)) {
                                        continue;
                                    };
                                    ev[name] = $s[name];
                                }
                            };
                            event = new DayPilot.Event(ev);
                            event.calendar = $k;
                            event.part.external = true;
                        };
                        DayPilotScheduler.moving.event = event;
                        DayPilotScheduler.movingEvent = event;
                    };
                    DayPilotScheduler.movingShadow = $k.$de(DayPilotScheduler.moving, DayPilotScheduler.drag.shadowType);
                };
                if (DayPilotScheduler.moving) {
                    $k.$fK.updateMoving();
                }
            } else {
                DayPilot.de(DayPilotScheduler.movingShadow);
                var $9T = DayPilotScheduler.moving;
                DayPilotScheduler.moving = null;
                DayPilotScheduler.movingEvent = null;
                DayPilotScheduler.movingShadow = null;
                if (!DayPilotScheduler.gShadow) {
                    DayPilotScheduler.gShadow = DayPilotScheduler.createGShadow(DayPilotScheduler.drag.data);
                    DayPilotScheduler.gShadow.source = $9T;
                };
                var $22 = DayPilotScheduler.gShadow;
                $22.style.left = $8S.x + 'px';
                $22.style.top = $8S.y + 'px';
            }
        }
    };
    DayPilotScheduler.gTouchEnd = function(ev) {
        DayPilotScheduler.gMouseUp(ev);
    };
    DayPilotScheduler.gMouseMove = function(ev) {
        if (typeof(DayPilotScheduler) === 'undefined') {
            return;
        };
        ev = ev || window.event;
        if (ev.insideMainD) {
            return;
        } else if (ev.srcElement) {
            if (ev.srcElement.inside) {
                return;
            }
        };
        var $8S = DayPilot.mc(ev);
        if (DayPilotScheduler.drag) {
            if (!DayPilotScheduler.drag.startFired) {
                var $s = DayPilotScheduler.drag.data || {};
                var $9U = $s.onDragStart;
                var $1H = false;
                if (typeof $9U === "function") {
                    var $n = {};
                    $n.data = $s;
                    $n.preventDefault = function() {
                        $n.preventDefault.value = true;
                    };
                    $9U($n);
                    $1H = $n.preventDefault.value;
                };
                DayPilotScheduler.drag.startFired = true;
                if ($1H) {
                    DayPilotScheduler.drag = null;
                    return;
                }
            };
            document.body.style.cursor = 'move';
            if (!DayPilotScheduler.gShadow) {
                DayPilotScheduler.gShadow = DayPilotScheduler.createGShadow(DayPilotScheduler.drag.data);
            };
            var $22 = DayPilotScheduler.gShadow;
            $22.style.left = $8S.x + 'px';
            $22.style.top = $8S.y + 'px';
            DayPilotScheduler.moving = null;
            DayPilotScheduler.movingEvent = null;
            if (DayPilotScheduler.movingShadow) {
                var $9V = DayPilotScheduler.movingShadow.calendar;
                $9V && $9V.$e5();
                DayPilotScheduler.movingShadow.calendar = null;
                DayPilot.de(DayPilotScheduler.movingShadow);
                DayPilotScheduler.movingShadow = null;
            }
        } else if (DayPilotScheduler.moving && DayPilotScheduler.movingEvent && DayPilotScheduler.movingEvent.calendar.dragOutAllowed && !DayPilotScheduler.drag) {
            var $9V = DayPilotScheduler.movingEvent.calendar;
            var ev = DayPilotScheduler.movingEvent;
            DayPilotScheduler.moving.target = null;
            document.body.style.cursor = 'move';
            if (!DayPilotScheduler.gShadow) {
                DayPilotScheduler.gShadow = DayPilotScheduler.createGShadow(ev.data);
                DayPilotScheduler.gShadow.source = DayPilotScheduler.moving;
            };
            var $22 = DayPilotScheduler.gShadow;
            $22.style.left = $8S.x + 'px';
            $22.style.top = $8S.y + 'px';
            DayPilotScheduler.drag = {};
            var $9O = DayPilotScheduler.drag;
            $9O.element = null;
            $9O.duration = (ev.rawend().getTime() - ev.start().getTime()) / 1000;
            $9O.text = ev.text();
            $9O.id = ev.value();
            $9O.shadowType = $9V.shadow;
            $9O.event = ev;
            $9V.$e5();
            DayPilot.de(DayPilotScheduler.movingShadow);
            DayPilotScheduler.movingShadow.calendar = null;
            DayPilotScheduler.movingShadow = null;
        };
        for (var i = 0; i < DayPilotScheduler.registered.length; i++) {
            if (DayPilotScheduler.registered[i].$ef) {
                DayPilotScheduler.registered[i].$ef();
            }
        }
    };
    DayPilotScheduler.gUnload = function(ev) {
        if (!DayPilotScheduler.registered) {
            return;
        };
        for (var i = 0; i < DayPilotScheduler.registered.length; i++) {
            var c = DayPilotScheduler.registered[i];
            DayPilotScheduler.unregister(c);
        }
    };
    DayPilotScheduler.gMouseDown = function(ev) {
        if (DayPilotScheduler.editing) {
            DayPilotScheduler.editing.blur();
        }
    };
    DayPilotScheduler.gKeyUp = function(ev) {
        var ev = ev || window.event;
        var $65 = ev.keyCode;
        if ($65 === 17) {
            if (DayPilotScheduler.rangeCalendar) {
                var $k = DayPilotScheduler.rangeCalendar;
                $k.$gd.dispatch();
            }
        }
    };
    DayPilotScheduler.gMouseUp = function(ev) {
        DayPilot.list(DayPilotScheduler.registered).each(function($k) {
            $k.$ff();
        });
        if (DayPilotScheduler.resizing) {
            setTimeout(function() {
                DayPilotScheduler.preventEventClick = false;
            });
            if (!DayPilotScheduler.resizingShadow) {
                document.body.style.cursor = '';
                DayPilotScheduler.resizing = null;
                return;
            };
            var e = DayPilotScheduler.resizing.event;
            var $k = e.calendar;
            $k.$dK();
            var $0p = DayPilotScheduler.resizingShadow.start;
            var $13 = DayPilotScheduler.resizingShadow.end;
            var $5q = DayPilotScheduler.resizingShadow.overlapping;
            var $8y = !DayPilotScheduler.resizingShadow.allowed;
            DayPilot.de(DayPilotScheduler.resizingShadow);
            DayPilotScheduler.resizing = null;
            DayPilotScheduler.resizingShadow = null;
            $k.$e5();
            $k.$dX.clear();
            document.body.style.cursor = '';
            if ($5q || $8y) {
                return;
            };
            $k.$bM(e, $0p, $13);
        } else if (DayPilotScheduler.moving) {
            var $9W = function() {
                var $k = DayPilotScheduler.moving.target;
                if (DayPilotScheduler.movingShadow) {
                    DayPilot.de(DayPilotScheduler.movingShadow);
                    DayPilotScheduler.movingShadow.calendar = null;
                };
                document.body.style.cursor = '';
                DayPilotScheduler.moving = null;
                DayPilotScheduler.movingEvent = null;
                DayPilotScheduler.drag = null;
                if ($k) {
                    $k.$cn = null;
                }
            };
            if (!DayPilotScheduler.movingShadow) {
                $9W();
                return;
            };
            var e = DayPilotScheduler.movingEvent;
            var $k = DayPilotScheduler.moving.target;
            if (!$k) {
                $9W();
                return;
            };
            DayPilot.Util.removeClass(DayPilotScheduler.moving, $k.$b4("_event_moving_source"));
            if (!DayPilotScheduler.movingShadow.row) {
                $9W();
                return;
            };
            clearTimeout($k.$dG.timeout);
            var $0p = DayPilotScheduler.movingShadow.start;
            var $13 = DayPilotScheduler.movingShadow.end;
            var $18 = ($k.viewType !== 'Days') ? DayPilotScheduler.movingShadow.row.id : null;
            var external = (DayPilotScheduler.drag ? true : false) && e.part.external;
            var $0x = DayPilotScheduler.movingShadow.line;
            var $5q = DayPilotScheduler.movingShadow.overlapping;
            var $8y = !DayPilotScheduler.movingShadow.allowed;
            if (DayPilotScheduler.drag) {
                if (!$k.todo) {
                    $k.todo = {};
                };
                $k.todo.del = DayPilotScheduler.drag.element;
                DayPilotScheduler.drag = null;
            };
            DayPilotScheduler.movingShadow.calendar = null;
            document.body.style.cursor = '';
            DayPilotScheduler.moving = null;
            DayPilotScheduler.movingEvent = null;
            if ($5q || $8y || $k.$e0.forbidden || $k.$e0.invalid) {
                $k.$co();
                return;
            };
            var ev = ev || window.event;
            $k.$cm(e, $0p, $13, $18, external, ev, $0x);
        } else if (DayPilotScheduler.range) {
            ev = ev || window.event;
            var $8v = DayPilot.Util.mouseButton(ev);
            var $1t = DayPilotScheduler.range;
            var $k = $1t.calendar;
            $k.$gb = null;
            var $1f = ev.ctrlKey || ev.metaKey;
            if ($k.allowMultiRange) {
                if (!$k.elements.range2.overlapping) {
                    $k.$gd.add($1t);
                } else {
                    DayPilot.de($k.elements.range2);
                    $k.elements.range2 = null;
                    $k.$e5();
                };
                DayPilotScheduler.range = null;
                if (!$1f) {
                    $k.$gd.dispatch();
                };
                return;
            };
            if (DayPilotScheduler.timeRangeTimeout) {
                clearTimeout(DayPilotScheduler.timeRangeTimeout);
                DayPilotScheduler.timeRangeTimeout = null;
                return;
            };
            DayPilotScheduler.rangeHold = $1t;
            DayPilotScheduler.range = null;
            var $9X = function($1t) {
                return function() {
                    DayPilotScheduler.timeRangeTimeout = null;
                    var $22 = $k.elements.range2;
                    if ($22 && $22.overlapping) {
                        $k.clearSelection();
                        return;
                    };
                    $k.$cs($1t);
                    if ($k.timeRangeSelectedHandling !== "Hold" && $k.timeRangeSelectedHandling !== "HoldForever") {
                        $e();
                    } else {
                        DayPilotScheduler.rangeHold = $1t;
                    }
                };
            };
            var rc = $k.$gc($1t);
            if (!$8v.left) {
                DayPilotScheduler.timeRangeTimeout = null;
                return;
            };
            if ($1t.moved || $k.timeRangeDoubleClickHandling === 'Disabled') {
                $9X(rc)();
                var ev = ev || window.event;
                ev.cancelBubble = true;
                return false;
            } else {
                DayPilotScheduler.timeRangeTimeout = setTimeout($9X(rc), $k.doubleClickTimeout);
            }
        } else if ($5N.row) {
            var $k = $5N.calendar;
            if ($k) {
                $k.$eH();
            }
        } else if ($28.source) {
            var $k = $28.calendar;
            $k.$dg.clearShadow();
            $k.$dg.hideLinkpoints();
            $28.source = null;
            $28.calendar = null;
        } else if (DayPilotScheduler.splitting) {
            var $7s = DayPilotScheduler.splitting;
            $7s.cleanup();
            DayPilotScheduler.splitting = null;
        } else if (DayPilotScheduler.rectangleSelect) {
            var $4t = DayPilotScheduler.rectangleSelect;
            var $k = $4t.calendar;
            if (!$4t.moved) {
                DayPilotScheduler.rectangleSelect = null;
                if (!$k.$fS($k.coords)) {
                    $k.$ga(ev);
                };
                return;
            };
            var x = $4t.x;
            var y = $4t.y;
            var $C = $4t.width;
            var $T = $4t.height;
            var $5X = false;
            var $01 = $k.$b1.eventsInRectangle(x, y, $C, $T).map(function($02) {
                return $02.event;
            });
            if (typeof $k.onRectangleEventSelect === "function") {
                var $n = {};
                $n.events = $01;
                $n.append = false;
                $n.start = $k.getDate(x, true);
                $n.end = $k.getDate(x + $C, true);
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                $k.onRectangleEventSelect($n);
                if ($n.preventDefault.value) {
                    $k.$g2.clear();
                    DayPilotScheduler.rectangleSelect = null;
                    return;
                };
                $5X = $n.append;
            };
            if (!$5X) {
                $k.multiselect.clear(true);
            };
            $01.each(function(e) {
                $k.multiselect.add(e, true);
            });
            $k.multiselect.redraw();
            setTimeout(function() {
                $k.$g2.clear();
                DayPilotScheduler.rectangleSelect = null;
            }, 0);
            if (typeof $k.onRectangleEventSelected === "function") {
                var $n = {};
                $n.events = $01;
                $k.onRectangleEventSelected($n);
            }
        } else if (DayPilotScheduler.rangeHold) {
            var $8v = DayPilot.Util.mouseButton(ev);
            if ($8v.left) {
                var $1t = DayPilotScheduler.rangeHold;
                var $k = $1t.calendar;
                if ($k.$fS($k.coords)) {
                    var $9Y = function($1t) {
                        return function() {
                            DayPilotScheduler.timeRangeTimeout = null;
                            var $1u = $k.$ct($1t);
                            if (!$1u) {
                                return;
                            };
                            var $n = {};
                            $n.start = $1u.start;
                            $n.end = $1u.end;
                            $n.resource = $1u.resource;
                            $n.preventDefault = function() {
                                $n.preventDefault.value = true;
                            };
                            if (typeof $k.onTimeRangeClick === "function") {
                                $k.onTimeRangeClick($n);
                            };
                            if (!$n.preventDefault.value) {
                                if (typeof $k.onTimeRangeClicked === "function") {
                                    $k.onTimeRangeClicked($n);
                                }
                            }
                        };
                    };
                    if ($k.timeRangeClickHandling != "Disabled") {
                        if ($k.timeRangeDoubleClickHandling === "Disabled") {
                            $9Y($1t)();
                        } else {
                            clearTimeout(DayPilotScheduler.timeRangeTimeout);
                            DayPilotScheduler.timeRangeTimeout = setTimeout($9Y($1t), $k.doubleClickTimeout);
                        }
                    }
                }
            }
        };
        if (DayPilotScheduler.drag) {
            if (DayPilotScheduler.drag.event && DayPilotScheduler.drag.event.part) {
                delete DayPilotScheduler.drag.event.part.external;
            };
            DayPilotScheduler.drag = null;
            document.body.style.cursor = '';
        };
        if (DayPilotScheduler.gShadow) {
            if (DayPilotScheduler.gShadow.source) {
                var $k = DayPilotScheduler.gShadow.source.event.calendar;
                DayPilot.Util.removeClass(DayPilotScheduler.gShadow.source, $k.$b4("_event_moving_source"));
            };
            document.body.removeChild(DayPilotScheduler.gShadow);
            DayPilotScheduler.gShadow = null;
        };
        DayPilotScheduler.moveOffsetX = null;
        DayPilotScheduler.moveDragStart = null;
    };
    DayPilotScheduler.createGShadow = function($j) {
        var $j = $j || {};
        var $22 = document.createElement('div');
        $22.setAttribute('unselectable', 'on');
        $22.style.position = 'absolute';
        $22.style.width = '100px';
        $22.style.height = '20px';
        $22.style.zIndex = 101;
        $22.style.pointerEvents = "none";
        $22.style.backgroundColor = "#aaaaaa";
        $22.style.opacity = 0.5;
        $22.style.filter = "alpha(opacity=50)";
        $22.className = $j.externalCssClass;
        if ($j.externalHtml) {
            $22.innerHTML = $j.externalHtml;
        };
        document.body.appendChild($22);
        return $22;
    };
    var $5N = {};
    DayPilot.Global.rowmoving = $5N;
    var $28 = {};
    DayPilot.Global.linking = $28;
    DayPilot.SchedulerVisible.dragStart = DayPilotScheduler.dragStart;
    DayPilot.SchedulerVisible.dragStop = DayPilotScheduler.dragStop;
    DayPilot.SchedulerVisible.Scheduler = DayPilotScheduler.Scheduler;
    DayPilot.SchedulerVisible.globalHandlers = DayPilotScheduler.globalHandlers;
    if (typeof jQuery !== 'undefined') {
        (function($) {
            $.fn.daypilotScheduler = function($j) {
                var $0M = null;
                var j = this.each(function() {
                    if (this.daypilot) {
                        return;
                    };
                    var $9Z = new DayPilot.Scheduler(this.id, $j);
                    $9Z.init();
                    this.daypilot = $9Z;
                    if (!$0M) {
                        $0M = $9Z;
                    }
                });
                if (this.length === 1) {
                    return $0M;
                } else {
                    return j;
                }
            };
        })(jQuery);
    };
    (function registerAngularModule() {
        var $a0 = DayPilot.am();
        if (!$a0) {
            return;
        };
        $a0.directive("daypilotScheduler", ['$parse', function($a1) {
            return {
                "restrict": "E",
                "template": "<div id='{{id}};'></div>",
                "compile": function compile(element, $a2) {
                    element.replaceWith(this["template"].replace("{{id}};", $a2["id"]));
                    return function link($a3, element, $a2) {
                        var $k = new DayPilot.Scheduler(element[0]);
                        $k.$ds.scope = $a3;
                        $k.init();
                        var $a4 = $a2["id"];
                        if ($a4) {
                            $a3[$a4] = $k;
                        };
                        var $a5 = $a2["publishAs"];
                        if ($a5) {
                            var getter = $a1($a5);
                            var setter = getter.assign;
                            setter($a3, $k);
                        };
                        for (var name in $a2) {
                            if (name.indexOf("on") === 0) {
                                (function(name) {
                                    $k[name] = function($n) {
                                        var f = $a1($a2[name]);
                                        $a3["$apply"](function() {
                                            f($a3, {
                                                "args": $n
                                            });
                                        });
                                    };
                                })(name);
                            }
                        };
                        var $a6 = $a3["$watch"];
                        var $4U = $a2["config"] || $a2["daypilotConfig"];
                        var $01 = $a2["events"] || $a2["daypilotEvents"];
                        $a6.call($a3, $4U, function($6Z, $a7) {
                            $k.$gJ($6Z);
                            $k.update();
                            $k.$gH();
                        }, true);
                        $a6.call($a3, $01, function($6Z) {
                            $k.events.list = $6Z;
                            $k.$bY({
                                "eventsOnly": true
                            });
                        }, true);
                    };
                }
            };
        }]);
    })();
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
(function() {
    if (typeof DayPilot.Year !== 'undefined') {
        return;
    };
    DayPilot.Year = function(id, $a) {
        this.v = '2200';
        var $b = this;
        this.startDate = new DayPilot.Date();
        this.cssOnly = true;
        this.cssClassPrefix = null;
        this.columns = 4;
        this.cellWidth = 20;
        this.showWeekNumbers = false;
        this.$i = [];
        this.$j = function() {
            this.root.dp = this;
            this.$k = new DayPilot.Date(this.startDate.toString("yyyy-01-01", "en-us"));
        };
        this.$l = function($c) {
            if (this.cssClassPrefix) {
                return this.cssClassPrefix + $c;
            } else {
                return "";
            }
        };
        this.$m = function() {
            if (this.showWeekNumbers) {
                return this.cellWidth;
            };
            return 0;
        };
        this.$n = function() {
            this.$i = [];
            var $d = this.columns;
            var $e = 12 / $d;
            this.root.className = this.$l('_main');
            this.root.style.width = $d * (this.cellWidth * 7 + this.$m()) + 'px';
            for (var y = 0; y < $e; y++) {
                for (var x = 0; x < $d; x++) {
                    var m = y * $d + x;
                    var id = id + "_nav_" + m;
                    var $f = document.createElement("div");
                    $f.id = id;
                    $f.style.float = 'left';
                    this.root.appendChild($f);
                    var navigator = new DayPilot.Navigator(id);
                    navigator.startDate = this.$k.addMonths(m);
                    navigator.cssOnly = this.cssOnly;
                    navigator.cssClassPrefix = this.cssClassPrefix;
                    navigator.cellWidth = this.cellWidth;
                    navigator.showWeekNumbers = this.showWeekNumbers;
                    navigator.internal.showLinks = {};
                    navigator.selectMode = 'none';
                    navigator.timeRangeSelectedHandling = "JavaScript";
                    navigator.onTimeRangeSelected = this.$o;
                    navigator.init();
                    navigator.root.className = '';
                    this.$i.push(navigator);
                };
                var $g = document.createElement("div");
                $g.style.clear = 'left';
                this.root.appendChild($g);
            }
        };
        this.$o = function($h) {
            alert("clicked: " + $h.day);
        };
        this.init = function() {
            this.root = document.getElementById(id);
            if (this.root.dp) {
                return;
            };
            this.$j();
            this.$n();
        };
    };
})();
